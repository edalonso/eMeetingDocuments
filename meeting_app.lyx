#LyX 2.0 created this file. For more info see http://www.lyx.org/
\lyxformat 413
\begin_document
\begin_header
\textclass book
\begin_preamble
\renewcommand{\normalsize}{\fontsize{10.5pt}{12.5pt}\selectfont}
\usepackage{textcomp}
\usepackage{fancyhdr}
\pagestyle{fancy}
\usepackage{color}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{lightgray}{rgb}{0.8,0.8,0.8}
%Configuración de listing
\usepackage{listings}
\lstset{
%estilos
keywordstyle=\textbfseries\ttfamily\color[rgb]{0.8,0.1,0.2}, %estilos de palabras clave identificadores, etc
identifierstyle=\ttfamily,
commentstyle=\color[rgb]{0.1,0.5,0.1},
stringstyle=\ttfamily\color[rgb]{0.2,0.2,0.7},
basicstyle=\footnotesize,  %the size of the fonts used for the code
 %espacios
showspaces=false,
showstringspaces=false,
showtabs=false,
tabsize=6,
%cuadro
backgroundcolor=\color[RGB]{255,255,255},
frame=single,
rulecolor=\color[rgb]{.3,.3,.3}, %set the frames color
captionpos=b,
%line breaking
breaklines=true,
breakatwhitespace=false,
prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}}, %nos dibuja una flecha guay cuando el código no entra en una línea
escapeinside={++\%*}{*){*}}, %Para escapar a LaTeX los acentos
morekeywords={*,...}
}
\end_preamble
\use_default_options true
\begin_modules
theorems-ams
eqs-within-sections
figs-within-sections
\end_modules
\maintain_unincluded_children false
\language spanish
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command makeindex
\paperfontsize default
\spacing single
\use_hyperref true
\pdf_bookmarks true
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder true
\pdf_colorlinks false
\pdf_backref page
\pdf_pdfusetitle true
\papersize default
\use_geometry true
\use_amsmath 1
\use_esint 1
\use_mhchem 1
\use_mathdots 1
\cite_engine basic
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\use_refstyle 0
\index Índice
\shortcut idx
\color #008000
\end_index
\secnumdepth 4
\tocdepth 1
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
fancyhead[L]{Departamento 
\backslash

\backslash
 Enxeñería Telemática}
\end_layout

\begin_layout Plain Layout


\backslash
fancyhead[R]{{
\backslash
textit{
\backslash
nouppercase{
\backslash
leftmark}}}}
\end_layout

\begin_layout Plain Layout


\backslash
fancyfoot[L]{E.E.
 Telecomunicación 
\backslash

\backslash
 Universidade de Vigo}
\end_layout

\begin_layout Plain Layout


\backslash
fancyfoot[R]{Autor 
\backslash

\backslash
 Eduardo Alonso Gil}
\end_layout

\begin_layout Plain Layout


\backslash
renewcommand{
\backslash
refname}{Bibliografía}
\end_layout

\begin_layout Plain Layout


\backslash
renewcommand{
\backslash
partname}{Capítulo}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace 22cm
\end_inset


\end_layout

\begin_layout Title
\noindent
Diseño, desarrollo y puesta en servicio de una aplicación web para la gestión
 de salas virtuales de videoconferencia 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\end_layout

\begin_layout Right Address
\begin_inset VSpace 6cm
\end_inset


\end_layout

\begin_layout Right Address
A mi familia
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter
Introducción
\begin_inset CommandInset label
LatexCommand label
name "chap:Introducción"

\end_inset


\end_layout

\begin_layout Standard
La comunicación humana es uno de los mecanismos que otorgan al ser humano
 una ventaja fundamental sobre el resto de seres que poblan nuestro planeta
 y uno de los motivos de su rápida evolución en comparación con otras criaturas
 inteligentes\SpecialChar \@.
 En la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "comunicacion"

\end_inset

, se puede observar un sintético diagrama sobre los elementos que componen
 la comunicación y en él se ha resaltado el canal de comunicaciones por
 ser uno de los temas que fundamentan esta escuela y, en esencia, el argumento
 central y motivación de este proyecto\SpecialChar \@.
 Sin lugar a dudas el canal de comunicació
n ha cambiado desde que Claude Elwood Shannon, considerado el padre de la
 teoría de la información, publicó en 1948 
\begin_inset Quotes eld
\end_inset

Una Teoría Matemática de la Comunicación
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.
 Unido a la invención del transistor, provocó que se multiplicase la utilización
 del espectro radioeléctrico para la comunicación y con el tiempo que la
 red de redes llegase a convertirse en el engendro que es ahora\SpecialChar \@.
 Muchos otros
 han colaborado en la evolución de la comunicación, pero destacamos este
 mecanismo para corregir errores de transmisión que es sin duda un gran
 paso en el avance de la comunicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El ser humano prefiere por naturaleza comunicarse cara a cara, ya que muchos
 otros factores influyen en la comunicación, como gestos, expresividad del
 interlocutor y una serie de conductas innatas que dan, a la comunicación
 presencial, preeminencia sobre meras trasmisiones de voz\SpecialChar \@.
 Debido a esto,
 a lo largo de los años se ha trabajado en la evolución de las comunicaciones
 para llegar al estado actual en el que la palabra videoconferencia resulta
 algo cotidiano\SpecialChar \@.
 Sin embargo, los primeros intentos en la carrera espacial
 no resultaron asequibles para el resto de la población debido a la mala
 calidad de imagen y la falta de técnicas eficientes de compresión de vídeo\SpecialChar \@.

 No sería hasta 1980 cuando las redes digitales de transmisión de telefonía,
 como RDSI, lo hicieron posible asegurando una velocidad mínima (por lo
 general 128 kbits/s) para vídeo comprimido y transmisión de audio\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 4cm
\end_inset


\begin_inset Graphics
	filename Diseño/comunciacion_modif.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Diagrama de comunicación
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "comunicacion"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Estos mecanismos de comunicación por videoconferencia comenzaron a ser una
 herramienta esencial para el correcto desarrollo empresarial, ya que el
 aprendizaje y comunicación entre sedes alejadas territorialmente, ya sea
 de la misma empresa o de empresas del mismo sector, son sin duda fundamentales
 para el desarrollo ágil y la búsqueda de soluciones\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El único inconveniente es el periodo de adaptación desde que se pone al
 alcance del ciudadano de a pie una nueva tecnología y el momento en el
 cual es utilizada de forma innata hasta llegar a originar una revolución\SpecialChar \@.

 El avance de la tecnología siempre ha estado ligado al avance de los interfaces
 de usuario\SpecialChar \@.
 Una herramienta útil, pero poco amigable y difícil de utilizar
 seguramente caerá en desuso\SpecialChar \@.
 Por este motivo, adaptar las nuevas tecnologías
 al ser humano es una guerra en la que aún se lucha por ganar\SpecialChar \@.
 Para este
 proyecto se ha jugado con la idea de acercar una sala de videoconferencia
 al propio escritorio de cada usuario\SpecialChar \@.
 Se ha intentado mantener la idea de
 puerta de entrada y se ha multiplicado el significado de la palabra llave
 para dicha puerta\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Para llevar a cabo la puesta en servicio del proyecto se ha contando con
 un escenario inmejorable, el Campus de Excelencia 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 de Vigo\SpecialChar \@.
 En este ámbito nos encontramos con colaboraciones entre universidades
 situadas en diferentes comunidades autónomas\SpecialChar \@.
 Multitud de universidades
 españolas están trabajando en la actualidad para obtener una aplicación
 que agilice, gestione y cuantifique la reserva de salas virtuales, como
 es el caso de la aplicación 
\begin_inset Quotes eld
\end_inset

Mr.
 Bosy
\begin_inset Quotes erd
\end_inset

 en la Universidad Carlos III de Madrid\SpecialChar \@.
 Le ofrecemos el siguiente enlace
 para acceder al contenido público disponible para esta aplicación: 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://mrbosy.uc3m.es/}{https://mrbosy.uc3m.es/}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El diseño visual de este proyecto toma prestada la estética de 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 para facilitar la comprensión al lector de las funciones realizadas, ya
 que ha sido el primer lugar donde se ha desplegado esta aplicación\SpecialChar \@.
 Por
 el mismo motivo, se ha dotado a la aplicación con el nombre 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
footnote{Por comodidad nos referiremos a la aplicación con este término
 a lo largo de la memoria.}
\end_layout

\end_inset

, que resulta atractivo al usuario y provee a la aplicación de un arma más
 para ser utilizada\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Objetivos
\begin_inset CommandInset label
LatexCommand label
name "sec:Objetivos"

\end_inset


\end_layout

\begin_layout Standard
El presente proyecto surge de la necesidad de una plataforma de videoconferencia
 que se adapte a las necesidades y perfiles de usuarios de organizaciones
 concretas y facilite el uso de herramientas de videoconferencia a usuarios
 que no posean un perfil técnico\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Todo 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{software}
\end_layout

\end_inset

 de videoconferencia intenta brindar el mayor número de funcionalidades
 para copar el mercado y conseguir una gran cartera de clientes, por contraparti
da, este hecho conlleva a una saturación del interfaz de usuario, lo cual
 dificulta su utilización en casos concretos\SpecialChar \@.
 Alcanzar una alta proyección
 y ofrecer un buen servicio son algunos de los objetivos que se pretenden
 alcanzar con este proyecto\SpecialChar \@.
 Aunque una de las más importantes metas ha sido
 diseñar una estructura de aplicación que permita adaptar o crear nuevas
 funcionaliadades para los constantes cambios de los clientes potenciales
 para esta aplicación\SpecialChar \@.
 Esta es una de las principales razones que nos llevan
 a desarrollar este proyecto\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Entre las funcionalidades maś destacadas que implementaremos podemos resaltar
 la reserva de salas, múltiples posibilidades de disposición de los elementos
 de la sala, es decir, se podrá seleccionar el lugar dónde aparecerán los
 ponentes en la reunión y el contenido visual que aporten, también el acceso
 a gráficas estadísticas que muestran en tiempo real el uso de la aplicación
 o un serivicio de alerta que advierte a los administradores de una posible
 saturación del sistema, ya sea por exceso de usuarios o por escasez de
 salas\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
La búsqueda de una aplicación popular tan ansiada por todo desarrollador
 web nos obligará a desarrollar un interfaz intuitivo, de forma que alcancemos
 el objetivo de una rápida integración de los usuarios sin necesidad de
 conocimientos técnicos o lecturas extensas\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Este proyecto forma parte de un proyecto mayor en el que diferentes aplicaciones
 formarán parte de una macroaplicación que dará servicio al mencionado 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.
 Por este motivo, cada aplicación que forme parte del proyecto debe incluir
 un servicio que sincronice las bases de datos de las diferentes aplicaciones
 que engloba el 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 como pueden ser un calendario o un gestor de tareas, de manera que todas
 las aplicaciones formen parte de la macroaplicación y se comuniquen entre
 sí\SpecialChar \@.
 Este servicio consigue que nuestra aplicación sea más completa, incluyendo
 la opción de integración de una forma sencilla\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Organización
\end_layout

\begin_layout Standard
Después de esta breve introducción comenzaremos con un capítulo que sumergirá
 al lector en el mundo de las tecnologías que se han empleado para alcanzar
 los objetivos del proyecto\SpecialChar \@.
 Se hablará de los motivos que nos han llevado
 a utilizar unas en detrimento de otras, siempre siguiendo un criterio de
 eficiencia temporal, desarrollo ágil, modularidad y apoyo por parte de
 la comunidad libre\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Continuaremos con una descripción del diseño de nuestra aplicación, construyendo
 el camino fielmente, desde el primer boceto del interfaz a los complejos
 entramados de la base de datos, incluyendo gráficas ilustrativas que aportarán
 luz sobre la enmarañada relación interna de las entidades del proyecto\SpecialChar \@.

 Incluiremos capturas del interfaz de usuario con el estilo diseñado para
 el despliegue en 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.
 El departamento de tecnologías de la información y plataforma digital de
 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 posee gran cantidad de recursos y por ello se han llevado a cabo importantes
 desarrollos tecnológicos en los que se encuentra integrado este proyecto\SpecialChar \@.

 La importancia de este departamento es tal que posee nombre propio: 
\begin_inset Quotes eld
\end_inset

DigiMar
\begin_inset Quotes erd
\end_inset

 y que se utilizará como referencia a lo largo de este proyecto\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Se describirán las posibles líneas futuras desprendidas del desarrollo de
 la aplicación y de las experiencias de los usuarios que la han utilizado
 en la senda del desarrollo eficiente\SpecialChar \@.
 Se comentarán las ideas surgidas durante
 el desarrollo y que han aportado grandes dosis de conocimiento e intuición
 para ampliar algunas de las funciones de la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Se finalizará con la bibliografía empleada en el desarrollo del proyecto
 y de esta memoria para el deleite de usuarios que sientan predilección
 por el mundo del desarrollo web y sientan el deseo de aumentar sus conocimiento
s en este ámbito\SpecialChar \@.

\end_layout

\begin_layout Chapter
Tecnologías empleadas
\begin_inset CommandInset label
LatexCommand label
name "chap:Tecnologías-empleadas"

\end_inset


\end_layout

\begin_layout Standard
Toda aplicación web y el trabajo de los desarrolladores tienen unas premisas
 comunes, tales como facilitar la interacción usuario-
\emph on
software
\emph default
 y, sacando el mayor partido a las tecnologías disponibles, conseguir resultados
 adecuados en el menor tiempo posible\SpecialChar \@.
 Para este fin utilizaremos como motor
 de videoconferencia el 
\emph on
software
\emph default
 propietario 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 y su API, como motor de administración de bases de datos hemos optado por
 MySQL, para el desarrollo de la aplicación nos hemos declinado por el uso
 del 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 Symfony específico para PHP, para las partes dinámicas que se ejecutan
 en el explorador hemos decidido utilizar Javascript y su API jQuery y jQuery
 UI, para la estructura que se visualiza en el explorador HTML 5 y para
 el estilo CSS 3\SpecialChar \@.
 Todas estas tecnologías a excepción de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

, poseen licencia libre, lo cual ayuda al programador en el desarrollo y
 la búsqueda de soluciones\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 Profesional
\end_layout

\begin_layout Standard
Ahora más que nunca, la gente necesita la capacidad de colaborar de forma
 eficiente con colegas, socios y clientes en todo el mundo, a través de
 dispositivos conectados a la red\SpecialChar \@.
 Más y más organizaciones, incluyendo grandes
 empresas y agencias del gobierno, están utilizando 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 para conducir extremo a extremo, flujos de trabajo críticos para sus negocios,
 reuniones web, 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{e-Learning}
\end_layout

\end_inset

 y seminarios.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 ofrece interacciones excepcionalmente ricas y permite a las organizaciones,
 desde el Departamento de Defensa de EE.UU.
 a las corporaciones líderes, incluyendo Toshiba America o Teltek Vídeo
 Research, S.L., mejorar sustancialmente su productividad\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El 
\emph on
software
\emph default
 propietario 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 posee las características más avanzadas de videoconferencia, ofreciendo
 un interfaz perfecto para los diferentes tipos de comunicación, ya sea
 a nivel académico o profesional\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El sistema de comunicaciones web 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 está compuesto por 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect Enterprise Server}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 (versión con licencia) o 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect Enterprise Hosted}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 (servicio alojado) y tres módulos, 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect Training}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

, 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect Events}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Presenter}
\end_layout

\end_inset

, que brindan apoyo a las funciones de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Acrobat Connect Professional}
\end_layout

\end_inset

 y las amplían para proporcionar soluciones de comunicaciones web de formación,
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{marketing}
\end_layout

\end_inset

 y ventas\SpecialChar \@.
 Este 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{software}
\end_layout

\end_inset

 propietario es sin duda uno de los más avanzados del mercado y su completa
 API nos proporciona la posibilidad de crear aplicaciones web de gran calidad
 aprovechando las características que más convengan a los usuarios finales\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 permite a los invitados asistir a sus reuniones fácilmente desde el escritorio
 sin necesidad de un cliente de descarga, aunque en nuestro caso accederemos
 a través del explorador, y ofrece un completo interfaz entre dispositivos
 móviles para incrementar las capacidades de colaboración y hacer frente
 a las realidades de los actuales entornos empresariales, donde los empleados
 y los clientes están en continuo movimiento\SpecialChar \@.
 Este complejo entramado en
 que se ha convertido la vida laboral e incluso privada de las personas,
 de la mano de las nuevas tecnologías de la comunicación y la información,
 hace indispensable la utilización de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{software}
\end_layout

\end_inset

 de estas características, donde uno de los factores más importantes es
 el ahorro de tiempo y dinero\SpecialChar \@.
 En un mundo sustancialmente capitalista como
 el actual, son dos pilares básicos para la sostenibilidad del sistema y
 como no podía ser de otro modo, en tiempos de crisis cualquier ventaja
 puede ser la diferencia entre el éxito y el fracaso\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
La experiencia del usuario ha desvelado que el uso de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect Profesional}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 es complejo para cualquier usuario que no posea un perfil técnico y carece
 de las necesidades específicas de los usuarios de 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

, este hecho provoca el nacimiento de esta aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
SYMFONY
\begin_inset CommandInset label
LatexCommand label
name "sec:SYMFONY"

\end_inset


\end_layout

\begin_layout Standard
En las siguientes líneas abordaremos la solución a un problema mediante
 un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 específico para PHP y destinado al desarrollo de aplicaciones web\SpecialChar \@.
 Una gran
 lista de aplicaciones se han desarrollado bajo el 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 Symfony como Motilee (para crear foros de discusión), SteerCMS (gestor
 de contenidos), Hashbin (facilita la depuración colaborativa de las aplicacione
s), Symfonians (punto de encuentro de usuarios y desarrolladores de Symfony),
 LiveChat (añadir a un sitio web chats en tiempo real), Lichess (servidor
 de juegos de ajedrez) 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-7}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Symfony es un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 PHP que facilita la organización y el desarrollo de las aplicaciones web,
 es decir, se encarga de todos los aspectos comunes y aburridos, dejando
 que el programador se dedique a aportar valor, desarrollando las característica
s únicas de cada proyecto\SpecialChar \@.
 En este proyecto se ha utilizado la segunda versión
 de este 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 que posee una importante cantidad de mejoras tanto a nivel de desarrollador
 como internas, cabe resaltar el aumento de la facilidad de migración a
 versiones superiores mucho menos trabajado en le pasado\SpecialChar \@.
 Es por ello que
 las referencias a Symfony pertencen en todo el proyecto a su segunda versión,
 por tanto tendremos partes comunes y mejoras con respecto a versiones anteriore
s\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Típicamente, puede incluir soporte de programas, bibliotecas, y un lenguaje
 interpretado, entre otras herramientas, para así ayudar a desarrollar y
 unir los diferentes componentes de un proyecto\SpecialChar \@.
 Representa una arquitectura
 de 
\emph on
software
\emph default
 que modela las relaciones generales de las entidades del dominio, y provee
 una estructura y una especial metodología de trabajo, la cual extiende
 a las aplicaciones del dominio\SpecialChar \@.
 Las principales herramientas de Symfony
 imprescindibles para este proyecto se describen a continuación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
El controlador
\end_layout

\begin_layout Standard
En esta sección mostraremos cómo se organizan y qué son los controladores
 en la estructura de Symfony\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Se llama controlador al conjunto de directorios, en nuestro caso situados
 en la carpeta 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{src/Cmar/MeetingBundle}
\end_layout

\end_inset

, que almacenan la lógica de los diferentes elementos de nuestra aplicación\SpecialChar \@.

 Es, por así decirlo, el cerebro de cada una de las funciones que se realizan\SpecialChar \@.

 El controlador recoge los datos de los formularios y de la base de datos
 y ofrece las respuestas que se visualizarán en las plantillas Twig, que
 describiremos en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:La-vista"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Nos ofrecen la posibilidad de generar respuestas, como páginas HTML o ficheros
 XML para fuentes RSS o servicios Web, y JSON para peticiones AJAX, ajustando
 únicamente el valor de la variable 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{format}
\end_layout

\end_inset

 en la descripción de las funciones del controlador para las cuales necesitemos
 un tipo de respuesta u otra\SpecialChar \@.
 Posee instrucciones específicas para acceder
 al objeto 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{request}
\backslash
footnote{Se utiliza nomenclatura PHP para esta variable.}
\end_layout

\end_inset

, o de respuesta de un formulario, a través de una variable llamada 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{app.request}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-7}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-3}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Symfony posee un elegante objeto de sesión que representa el cliente (puede
 ser una persona real usando un navegador, un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bot}
\end_layout

\end_inset

 o un servicio web)\SpecialChar \@.
 Entre dos peticiones, Symfony almacena los atributos
 en una cookie usando sesiones nativas de PHP\SpecialChar \@.
 De esta forma podemos generar
 funciones del tipo migas de pan de forma sencilla utilizando los atributos
 de esta 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{cookie}
\end_layout

\end_inset

 o generar acceso a un servidor evitando peticiones superfluas si aún no
 ha caducado la sesión\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Arquitectura
\begin_inset CommandInset label
LatexCommand label
name "sub:Arquitectura"

\end_inset


\end_layout

\begin_layout Standard
Uno de los principales beneficios de la utilización de un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 completo es normalizar los desarrollos\SpecialChar \@.
 Gracias a la estructura predeterminada
 de archivos y directorios de Symfony, cualquier desarrollador con conocimientos
 básicos puede asumir el mantenimiento de un proyecto elaborado con este
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

, premisa muy importante para el desarrollo colaborativo de todas las aplicacion
es\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Adjuntamos una breve descripción de la funcionalidad de cada directorio
 de Symfony en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "Explic-direct-Symfony"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.5cm
\end_inset


\begin_inset Graphics
	filename EstructuraDirectoriosSymfony.jpg
	scale 50
	rotateOrigin rightBottom

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Estrucutra de directorios en Symfony
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "estruc-direct-Sym"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 5.5cm
\end_inset


\begin_inset Graphics
	filename ExplicacionEstructuraDirectoriosSymfony.jpg
	scale 50
	rotateOrigin center

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Funcionalidades de la estucutra de directorios en Symfony
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Explic-direct-Symfony"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
colorbox{lightgray}{web/}
\end_layout

\end_inset

: El directorio web raíz es el hogar de todos los archivo públicos y estáticos
 como imágenes, hojas de estilo y archivos JavaScript.
 También es donde reside cada controlador frontal\SpecialChar \@.
 Un pequeño script PHP
 cuyo trabajo es arrancar la aplicación\SpecialChar \@.
 El kernel requiere primero del archivo
 bootstrap.php, el cual inicia el 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 y registra al 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{autoloader}
\end_layout

\end_inset

\SpecialChar \@.
 Como cualquier controlador frontal, 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{app.php}
\end_layout

\end_inset

 usa una clase 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Kernel}
\end_layout

\end_inset

, llamada 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{AppKernel}
\end_layout

\end_inset

, para iniciar la aplicación\SpecialChar \@.

\end_layout

\begin_layout Itemize
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
colorbox{lightgray}{app/}
\end_layout

\end_inset

: La clase 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{AppKernel}
\end_layout

\end_inset

 es el punto de ingreso principal a la configuración de la aplicación y
 como tal, se ubica en este directorio\SpecialChar \@.

\end_layout

\begin_deeper
\begin_layout Itemize
La velocidad de Symfony se debe a su sistema de caché\SpecialChar \@.
 La configuración de
 la aplicación sólo es analizada durante el primer 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{request}
\end_layout

\end_inset

 y luego compilada a código PHP que se guarda en el directorio 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{app/cache/}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize
Durante el desarrollo de una aplicación web, las cosas pueden salir mal
 de muchas maneras.
 Los archivos de log en el directorio 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{app/logs/}
\end_layout

\end_inset

 de la aplicación nos ofrecen todo sobre los 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{requests}
\end_layout

\end_inset

 para arreglar el problema rápidamente\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
colorbox{lightgray}{vendor/}
\end_layout

\end_inset

: Las librerías de terceros deberían estar ubicadas en este directorio que
 contiene inicialmente las bibliotecas de Symfony, SwiftMailer, el ORM Doctrine,
 el sistema de plantillas Twig y una selección de clases de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Zend Framework}
\end_layout

\end_inset

, pero esto es sólo una convención siendo posible ubicarse en un directorio
 global del servidor o en uno local en cada proyecto\SpecialChar \@.

\end_layout

\begin_layout Itemize
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
colorbox{lightgray}{src/}
\end_layout

\end_inset

: Para describir este directorio es impresdindible mencionar el sistema
 de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bundles}
\end_layout

\end_inset

, una de las más grandiosas y poderosas características de Symfony\SpecialChar \@.
 Un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bundle}
\end_layout

\end_inset

 es similar a un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{plugin}
\end_layout

\end_inset

 en otros lenguajes\SpecialChar \@.
 Recibe el nombre de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bundle}
\end_layout

\end_inset

 y no de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{plugin}
\end_layout

\end_inset

 porque 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{todo}
\end_layout

\end_inset

 es un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bundle}
\end_layout

\end_inset

 en Symfony\SpecialChar \@.
 Esto le da la flexibilidad de usar características pre-construidas
 empaquetadas en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bundles}
\end_layout

\end_inset

 de terceros o distribuir sus propios 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bundles}
\end_layout

\end_inset

\SpecialChar \@.
 Cada 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bundle}
\end_layout

\end_inset

 puede ser adaptado por medio de archivos de configuración escritos en YAML,
 XML o PHP\SpecialChar \@.
 Cada entrada llamada 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 en el archivo de configuración define la composición para un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bundle}
\end_layout

\end_inset

\SpecialChar \@.
 Y a su vez cada entorno dentro del directorio 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{src/}
\end_layout

\end_inset

 puede sobreescribir la configuración por omisión si se provee de un archivo
 de configuración específico 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-18}
\end_layout

\end_inset

\SpecialChar \@.
 Además de ser una buena manera de organizar y configurar el código, un
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bundle}
\end_layout

\end_inset

 puede extender otro, ya que los 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bundles}
\end_layout

\end_inset

 soportan herencia\SpecialChar \@.
 Esto le permite sobreescribir un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bundle}
\end_layout

\end_inset

 existente para adaptar sus controladores, plantillas y cualquier archivo
 que contenga\SpecialChar \@.
 Es aquí donde los nombres lógicos resultan útiles ya que abstraen
 al programador del lugar en donde se encuentra realmente ubicado el recurso\SpecialChar \@.

 Por este motivo como veremos en el apartado de diseño, los controladores
 tendrán nombres que hacen referencia a la función que desempeñan\SpecialChar \@.
 A su vez
 Symfony crea una estructura de directorios por cada aplicación que definimos
 con el comando Symfony 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{generate:app}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
La estructura de directorios de nuestra aplicación parte de la base estructural
 de Symfony que acabamos de describir en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "estruc-direct-Sym"

\end_inset

\SpecialChar \@.
 A esta base estructural se le añade, en sus correspondientes directorios,
 los componentes que nuestra aplicación necesita, de forma que obtenemos
 una estructura de directorios como la que se muestra en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "estruc-direct-eMeeting"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Wrap figure
lines 0
placement L
overhang 0in
width "35col%"
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 1cm
\end_inset


\begin_inset Graphics
	filename Lista_directorios_eMeeting.jpg
	scale 37

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Estructura de directorios de eMeeting
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "estruc-direct-eMeeting"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
El contenido y la razón de la existencia de los directorios específicos
 para nuestra aplicación serán descritos con detalle en el capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Diseño-del-proyecto"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
La vista
\begin_inset CommandInset label
LatexCommand label
name "sub:La-vista"

\end_inset


\end_layout

\begin_layout Itemize
La plantilla TWIG
\end_layout

\begin_deeper
\begin_layout Standard
Twig es el motor de plantillas para PHP que utiliza Symfony\SpecialChar \@.
 Sus características
 principales son:
\end_layout

\begin_layout Itemize
Rápido: Ofrece la posibilidad de optimizar las llamadas a los contenidos
 de las variables que PHP envía a las plantillas HTML\SpecialChar \@.
 El tiempo de generación
 de las plantillas, en comparación con el habitual código PHP, se ve reducido
 a la mínima expresión\SpecialChar \@.

\end_layout

\begin_layout Itemize
Seguro: Tiene un modo para evaluar código en la plantilla que no es de confianza.
 Esto permite utilizarlo como un lenguaje de plantillas para aplicaciones
 en las que los usuarios pueden modificar el diseño de la plantilla\SpecialChar \@.
 El objetivo
 de modularidad de nuestro proyecto agradece enormemente el uso de este
 motor de plantillas\SpecialChar \@.

\end_layout

\begin_layout Itemize
Flexible: Posee un analizador léxico flexible.
 Esto permite al desarrollador definir sus propias etiquetas y filtros personali
zados, y crear su propio lenguaje específico del dominio (DSL) 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-17}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Todas las plantillas utilizadas por la aplicación eMeeting se han realizado
 con este formato, optimizando la compilación y facilitando el acceso a
 los contenidos de las variables de la base de datos utilizadas en la lógica
 implementada con PHP\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Con estas plantillas también es muy sencillo incluir otras plantillas para
 evitar la redundancia de código o incluir URIs que hacen referencia a páginas
 de nuestro propio código\SpecialChar \@.
 Las plantillas para cada sección de nuestra aplicación
 se alojan en la carpeta 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{src/Cmar/MeetingBundle/views}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Doctrine
\end_layout

\begin_layout Standard
El Proyecto Doctrine consta de un conjunto de bibliotecas PHP seleccionadas
 principalmente para ofrecer servicios de persistencia y funcionalidades
 en las relaciones sobre las bases de datos que utilicemos\SpecialChar \@.
 Entre sus principales
 características cabe destacar el asignador relacional de objetos (ORM)
 y la capa de abstracción de base de datos\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Esta herramienta de Symfony nos permite actuar sobre la base de datos de
 una forma sencilla y en cualquier parte del código ya que permite abstraer
 al programador del motor de base de datos que utilicemos\SpecialChar \@.
 Esta característica
 nos permite aumentar la modularidad de nuestro proyecto y poder desplegarlo
 sobre el motor de base de datos que posea el usuario final sin modificar
 apenas líneas de código\SpecialChar \@.
 Sin duda, alguna de las consultas específicas y
 complejas que realice nuestra aplicación deberán ser reescritas para adaptarse
 al nuevo entorno, pero se intentará que sean ínfimas para cumplir con la
 modularidad propuesta en los objetivos del proyecto 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-7}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsubsection
Asignador Relacional de Objetos
\end_layout

\begin_layout Standard
El asignador relacional de objetos (ORM) para PHP se encuentra en la parte
 superior de una poderosa abstracción en la capa de la base de datos (DBAL)\SpecialChar \@.

 Una de sus principales características es la opción de escribir las consultas
 de bases de datos en un dialecto propio orientado a objetos llamado Lenguaje
 SQL de consulta de Doctrine (DQL), inspirado en Hiberna HQL\SpecialChar \@.
 Esto proporciona
 a los desarrolladores una poderosa alternativa a SQL que mantiene la flexibilid
ad sin necesidad de duplicar el código innecesariamente 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-7}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsubsection
Capa de abstracción de la base de datos
\end_layout

\begin_layout Standard
Posee múltiples características para la introspección en el esquema de la
 base de datos, la administración de esquemas y la abstracción PDO\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
La abstracción de base de datos de Doctrine y la capa de acceso (DBAL) ofrece
 una capa ligera alrededor de un API de PDO-like y multitud de características
 adicionales, como la introspección horizontal en el esquema de la base
 de datos y la manipulación a través de una API orientada a objetos\SpecialChar \@.

\end_layout

\begin_layout Standard
El hecho de que la DBAL de Doctrine abstrae del pesado API DOP mediante
 el uso de interfaces que se parecen mucho a la actual API de PDO, hace
 posible la implementación de los controladores personalizados que pueden
 utilizar las API's nativas existentes o las realizadas por el propio programado
r 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-7}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Para optimizar y aprovechar al máximo el uso de Doctrine se deben describir
 las tablas de la base de datos con el formato específico adoptado por Symfony
 en sus desarrollos para el ORM llamado 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{YAML}
\end_layout

\end_inset

, que pasamos a describir a continuación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
El Formato YAML
\end_layout

\begin_layout Standard
De acuerdo con el sitio web oficial YAML 
\begin_inset Quotes eld
\end_inset

es una serialización de datos estándar muy amigable para todos los lenguajes
 de programación
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.
 Dicho de otra manera, YAML es un lenguaje sencillo para describir los datos
 (
\emph on
strings, integers, dates, arrays y hashes
\emph default
).
\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En YAML, la estructura se muestra a través de la sangría, la secuencia de
 elementos se denotan por un guión, y los pares clave/valor están separados
 por dos puntos\SpecialChar \@.
 YAML también tiene una sintaxis abreviada para describir
 la misma estructura con menos líneas, donde los arrays explícitamente se
 muestran con [] y los hashes o arrays asociativos con {} 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-9}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El framework Symfony lo utiliza ampliamente para sus archivos de configuración
 o para la creación de tablas y estructuras de Doctrine\SpecialChar \@.
 Por ejemplo, en
 los ficheros 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{security.yml}
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{routing.yml}
\end_layout

\end_inset

 que mencionaremos en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Seguridad-de-la"

\end_inset

\SpecialChar \@.
 Estos ficheros siguen la estructura típica de un fichero YAML y la relación
 entre ambos ofrece la seguridad para cada ruta de la aplicación\SpecialChar \@.
 Como veremos
 en el capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Desarrollo-del-proyecto"

\end_inset

, las rutas de Symfony cobran especial importancia ya que están asociadas
 a funciones, en caso de que sea necesario, y la seguridad de alguna de
 ellas puede ser crítica\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Gracias al archivo de descripción de la base de datos 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{schema.yml}
\end_layout

\end_inset

, podemos utilizar más ampliamente las simplificaciones que ofrece Doctrine
 al generar los comandos SQL necesarios para crear tablas\SpecialChar \@.
 
\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Describimos, a modo de ejemplo, alguna de estas tareas:
\end_layout

\begin_layout Itemize
Para generar el SQL se debe construir el modelo a partir del contenido del
 archivo 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{schema.yml}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
php symfony doctrine:build-model
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Ahora que los modelos existen se puede generar e insertar el SQL.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
php symfony doctrine:build-sql
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
La tarea doctrine:build-sql genera comandos SQL en el directorio 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{data/sql/}
\end_layout

\end_inset

, optimizado para el motor de base de datos que se ha configurado, en nuestro
 caso MySQL\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Gracias a esta característica, cualquier cambio en la base de datos, como
 añadir un nuevo campo a una entidad lo que equivale a una nueva columna
 en la tabla correspondiente con su valor, es una acción simple y que Doctrine
 realizará de forma limpia y sin hacer peligrar el contenido de la misma\SpecialChar \@.

 Ofrece funcionalidades como visualizar qué comandos específicos para la
 base de datos se realizarán con el cambio implementado, evitando así pérdidas
 de datos u otro tipo de acciones que traerán consecuencias irreversibles\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Las entidades
\end_layout

\begin_layout Standard
Estos elementos de Symfony guardan la estructura de las piezas del juego
 en la aplicación\SpecialChar \@.
 A partir de la estructura de las entidades, Doctrine construir
á los elementos que rellenarán las tablas de la base de datos y aportarán
 las características y relaciones que se introduzcan en las cabeceras de
 dichos elementos\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Las entidades aportan al proyecto una gran modularidad ya que se podrá insertar
 un nuevo elemento en la base de datos o un nuevo campo en el elemento preciso
 para incrementar las funcionalidades o complementar las existentes si se
 queda en el tintero alguna que se descubra en el proceso de puesta en servicio\SpecialChar \@.

 También ofrece facilidades a la hora de corregir errores en el proceso
 de diseño o cuando la aplicación está ya en producción\SpecialChar \@.
 
\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
PHP
\end_layout

\begin_layout Standard
PHP tal y como se conoce hoy en día es en realidad el sucesor de un producto
 llamado PHP/FI.
 Creado en 1994 por Rasmus Lerdorf\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
La primera encarnación de PHP era un conjunto simple de ficheros binarios
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Common Gateway Interface}
\end_layout

\end_inset

 (CGI) escritos en el lenguaje de programación C.
 Originalmente utilizado para rastrear visitas de su currículum online,
 llamó al conjunto de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{scripts}
\end_layout

\end_inset

 
\begin_inset Quotes eld
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Personal Home Page Tools}
\end_layout

\end_inset


\begin_inset Quotes erd
\end_inset

, más frecuentemente referenciado como 
\begin_inset Quotes eld
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{PHP Tools}
\end_layout

\end_inset


\begin_inset Quotes erd
\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En junio de 1995, Rasmus publicó el codigo fuente de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{PHP Tools}
\end_layout

\end_inset

, lo que permitió a los desarrolladores usarlo como considerasen apropiado\SpecialChar \@.

 Esto animó a los usuarios y permitió que proporcionasen soluciones a los
 errores del código 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-10}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 5cm
\end_inset


\begin_inset Graphics
	filename Diseño/PHP_arq.gif
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Procesos que describen PHP
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Es un lenguaje interpretado orientado al desarrollo de aplicaciones web
 dinámicas con acceso a información almacenada en una base de datos\SpecialChar \@.
 El código
 fuente escrito en PHP es invisible al navegador web y al cliente ya que
 es el servidor el que se encarga de ejecutar el código y enviar su resultado
 HTML al navegador\SpecialChar \@.
 Esto hace que la programación en PHP sea segura y confiable\SpecialChar \@.

 Aunque puede ser usado también desde un interfaz de línea de comandos o
 como aplicación de escritorio\SpecialChar \@.
 Implementa capacidad de conexión con la mayoría
 de los motores de base de datos que se utilizan en la actualidad, destaca
 su conectividad con MySQL y PostgreSQL\SpecialChar \@.
 Posee la capacidad de expandir su
 potencial utilizando módulos\SpecialChar \@.
 Permite aplicar técnicas de programación orientada
 a objetos\SpecialChar \@.
 No requiere definición de tipos de variables aunque sus variables
 se pueden evaluar también por el tipo que estén manejando en tiempo de
 ejecución\SpecialChar \@.
 PHP5 incorpora manejo de excepciones, una gran herramienta para
 el desarrollo de aplicaciones complejas orientadas a la interacción con
 usuarios, tales como aplicaciones web\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Si bien PHP no obliga a quien lo usa a seguir una determinada metodología
 a la hora de programar, el programador puede aplicar en su trabajo cualquier
 técnica de programación o de desarrollo que le permita escribir código
 ordenado, estructurado y manejable.
 Un ejemplo de esto son los desarrollos que en PHP se han hecho del patrón
 de diseño Modelo Vista Controlador (MVC), que permiten separar el tratamiento
 y acceso a los datos, la lógica de control y la interfaz de usuario en
 tres componentes independientes\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Apache
\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El servidor HTTP Apache es un servidor web libre y de código abierto, el
 más popular en cuanto a uso, sirviendo de facto como plataforma de referencia
 para el diseño y evaluación de otros servidores web\SpecialChar \@.
 Pero en la actualidad
 está incrementando su utilización para uso comercial\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Wrap figure
lines 0
placement L
overhang 0in
width "40col%"
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 1.3cm
\end_inset


\begin_inset Graphics
	filename Diseño/apache_estruc.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Arquitectura de directorios de Apache
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "Apache_estruct"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Los directorios de Apache albergan funciones de muy diferentes tipos como
 configuración, almacenamiento de librerías, etc\SpecialChar \@.
 Se dispone a continuación
 un breve recorrido por la estructura que podemos observar en la figura
 
\begin_inset CommandInset ref
LatexCommand ref
reference "Apache_estruct"

\end_inset

, que aclarará algunos conceptos sobre este servidor web\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En el directorio 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{bin/}
\end_layout

\end_inset

 se encuentra el ejecutable para arrancar la aplicación, diferentes 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{scripts}
\end_layout

\end_inset

 y el precompilador de JSP\SpecialChar \@.
 En 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{common/}
\end_layout

\end_inset

 se albergan clases y JARs accesibles a todas las aplicaciones web y al
 propio Apache\SpecialChar \@.
 Los archivos de configuración, como por ejemplo el 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{server.xml}
\end_layout

\end_inset

, se encuentran en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{conf/}
\end_layout

\end_inset

\SpecialChar \@.
 Los archivos de registro y los elementos de consulta de posibles errores
 en las aplicaciones se albergan en el directorio 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{logs/}
\end_layout

\end_inset

\SpecialChar \@.
 El directorio 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{server/}
\end_layout

\end_inset

 ha sido creado para albergar clases y aplicaciones sólo accesibles por
 Apache\SpecialChar \@.
 Las clases y JARs accesibles por todas las aplicaciones web se almacenan
 en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{shared/}
\end_layout

\end_inset

\SpecialChar \@.
 Como era de esperar los archivos temporales que genera Apache se alamcenan
 en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{temp/}
\end_layout

\end_inset

\SpecialChar \@.
 Las aplicaciones web de ejemplo, las creadas por usuarios y otras propias
 de Apache se almacenen en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{webapps/}
\end_layout

\end_inset

\SpecialChar \@.
 En este directorio se encuentran los archivos WAR (
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Web Application Archive}
\end_layout

\end_inset

 - Archivo de aplicación web), que son archivos JAR utilizados para distribuir
 una colección de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{JavaServer Pages}
\end_layout

\end_inset

, 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{servlets}
\end_layout

\end_inset

, clases Java, archivos XML, librerías de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{tags}
\end_layout

\end_inset

 y páginas web estáticas (HTML y archivos relacionados) que juntos constituyen
 una aplicación web\SpecialChar \@.
 Y por último, en el directorio 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{work/}
\end_layout

\end_inset

 se almacenan archivos temporales, como los JSP compilados, etc\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Algunas entornos de desarrollo como Eclipse o NetBeans instalan su propia
 instancia de Apache utilizando su propia configuración, lo que evita tener
 que instalar 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{plugins}
\end_layout

\end_inset

 para integrar Apache y generar archivos WAR para distribuir la aplicación
 web fácilmente u otros menesteres\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En el interior del directorio 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{webapps/}
\end_layout

\end_inset

 se encuentra la raíz de la aplicación web, aunque en nuestro caso hemos
 modificado el archivo 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{default}
\end_layout

\end_inset

 dentro del servidor creando un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{virtualhost}
\end_layout

\end_inset

 que hace que cuando una URL determinada, que para nosotros puede ser 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{emeeting.campusdomar.es, emeetings.campusdomar.es, meeting.campusdomar.es,
 meetings.cam
\backslash
-pusdomar.es}
\end_layout

\end_inset

, intenta acceder al servidor Apache, el propio archivo de configuración
 redirige la petición a la carpeta 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{web}
\end_layout

\end_inset

 de Symfony donde se encuentra el fichero 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{app.php}
\end_layout

\end_inset

 que arranca la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
También existen los directorios 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{WEB-INF}
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{META-INF}
\end_layout

\end_inset

 (opcional), situados en una zona privada de la aplicación\SpecialChar \@.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{WEB-INF}
\end_layout

\end_inset

 contiene el descriptor de despliegue de la aplicación, las clases compiladas,
 las bibliotecas de clases y las etiquetas para usar en los documentos JSP\SpecialChar \@.

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{META-INF}
\end_layout

\end_inset

 suele contener sólo el archivo 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{MANIFEST.MF}
\end_layout

\end_inset

, que indica las bibliotecas de las que depende la aplicación\SpecialChar \@.
 Se suele generar
 automáticamente\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Javascript
\end_layout

\begin_layout Standard
JavaScript es un lenguaje de programación que se utiliza principalmente
 para crear páginas web dinámicas\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Una página web dinámica es aquella que incorpora efectos como texto que
 aparece y desaparece, animaciones, acciones que se activan al pulsar botones
 y ventanas con mensajes de aviso al usuario\SpecialChar \@.

\end_layout

\begin_layout Standard
Para el acceso web a la aplicación se ha optado por la opción de Apache
 2\SpecialChar \@.
 Utilizando PHP para el desarrollo es obvio el uso de Apache ya que está
 implementado como un módulo de forma que aprovecha la máxima integración
 con el servidor y velocidad posible\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En esta sección se hablará de las librería javascript utilizadas para realizar
 las animaciones del interfaz de usuario, la implementación de peticiones
 AJAX y la lógica en la que se apoyan algunas de las funciones Javascript
 propias que se describirán en la subsección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Funciones-propias"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Técnicamente, JavaScript es un lenguaje de programación interpretado, por
 lo que no es necesario compilar los programas para ejecutarlos.
 En otras palabras, los programas escritos con JavaScript se pueden probar
 directamente en cualquier navegador sin necesidad de procesos intermedios\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
A pesar de su nombre, JavaScript no guarda ninguna relación directa con
 el lenguaje de programación Java 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-11}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
jQuery
\end_layout

\begin_layout Standard
jQuery es una biblioteca de JavaScript rápida y concisa que simplifica el
 código en documentos HTML, manejo de eventos, animación, y las interacciones
 Ajax para el desarrollo web rápido\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El proyecto jQuery comenzó como una idea en 2005 y ha crecido hasta convertirse
 en el conjunto de proyectos que se conocen hoy en día.
 jQuery está diseñado para cambiar la forma en que el usuario escribe JavaScript.
 Sin duda utilizar la API de cualquier 
\emph on
software
\emph default
 es cómodo y sencillo\SpecialChar \@.
 Es un camino rápido para conseguir las funcionalidades
 en una aplicación o página web, de una forma rápida obteniendo unos resultados
 verdaderamente satisfactorios 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-12}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
jQuery 1.7.1
\end_layout

\begin_deeper
\begin_layout Standard
En esta subsección se hablará de las mejoras que incorpora esta versión
 con respecto a sus predecesoras\SpecialChar \@.

\end_layout

\begin_layout Standard
Una de las mejoras es la unificación de todos los caminos para lanzar eventos
 y detenerlos en un documento jQuery en las APIs 
\shape italic
.on()
\shape default
 y 
\shape italic
off()\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
$(elements).on( events [, selector] [, data] , handler ); 
\end_layout

\begin_layout Standard
$(elements).off( [ events ] [, selector] [, handler] );
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Esta mejora facilita la programación y evita las confusiones en casos especiales
 de objetos que no poseen determinados eventos o donde la forma de ejecutar
 un evento debido al tipo de elemento desde el que precisa lanzar un evento
 se realiza con la función 
\shape italic
.todelegate()
\shape default
 o 
\shape italic
.bind()
\shape default
\SpecialChar \@.

\end_layout

\begin_layout Standard
Lanzar eventos se ha convertido en una práctica cada vez más importante
 con el crecimiento del tamaño y la complejidad de las páginas\SpecialChar \@.
 Marcos de
 aplicaciones como Backbone, JavaScriptMVC y SproutCore hacen un uso intensivo
 del lanzamiento de eventos.
 Con esto en mente, jQuery 1.7 refactoriza el lanzamiento de eventos con
 miras a lanzar eventos mucho más rápido, especialmente para los casos más
 comunes\SpecialChar \@.

\end_layout

\begin_layout Standard
Para optimizar el código de los casos más utilizados, se analizó una muestra
 representativa de código de Google CodeSearch.
 Casi dos tercios de los selectores utilizados en 
\shape italic
.life()
\shape default
 y 
\shape italic
.todelegate()
\shape default
 llaman a métodos con la etiqueta 
\shape italic
tag#id.class
\shape default
\SpecialChar \@.

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-13}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
jQuery-ui-1.8.18
\end_layout

\begin_deeper
\begin_layout Standard
Esta librería es sencilla y fácil de manejar utilizando la documentación
 detallada y sus tutoriales, además existe una comunidad muy activa a disposició
n de cualquier usuario\SpecialChar \@.
 Compatible con IE 6.0 +, Firefox 3 +, Safari 3.1 +,
 Opera 9.6 + y Google Chrome\SpecialChar \@.
 Ofrece al usuario una enorme potencia, que permite
 alcanzar un alto nivel en toda aplicación web\SpecialChar \@.

\end_layout

\begin_layout Standard
jQuery UI proporciona abstracciones de bajo nivel de interacción y animación,
 efectos avanzados y de alto nivel y 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{widgets}
\end_layout

\end_inset

 configurables\SpecialChar \@.
 Está construido en la parte superior de la biblioteca jQuery
 JavaScript, y se utiliza para crear aplicaciones web altamente interactivas
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-12}
\backslash
cite{key-13}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
jQuery-kamicgraphs
\end_layout

\begin_deeper
\begin_layout Standard
Esta potente librería para generar gráficas se utilizada en este proyecto
 para mostrar las estadísticas al administrador\SpecialChar \@.
 Con una petición AJAX selecciona
 tablas en la base de datos y posee un inmenso repertorio de gráficas para
 mostrar resultados a partir de los datos en formato JSON que le sirven
 las aplicaciones\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
jQuery-tipTip
\end_layout

\begin_deeper
\begin_layout Standard
Esta librería ofrece un amplio repertorio de animaciones para mostrar datos
 en ventanas emergentes o flotantes\SpecialChar \@.

\shape italic
 TipTip
\shape default
 detecta los bordes de la ventana del navegador y se asegurará de que la
 descripción incluída en las ventanas que genera se queda en el interior
 de la ventana actual.
 Como resultado, la información de una herramienta se ajusta para aparecer
 encima, debajo, a la izquierda o a la derecha del elemento, dependiendo
 de la necesidad para permanecer dentro de la ventana del navegador.
 
\shape italic
TipTip
\shape default
 es muy ligero y personalizable fácilmente\SpecialChar \@.
 Todos los menús de información
 para los botones e iconos de ayuda implementa con 
\shape italic
TipTip
\shape default
 la ventana emergente de información\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Section
MySQL
\end_layout

\begin_layout Standard
MySQL es un Sistema de Gestión de Bases de Datos (SGBD) relacional, que
 por lo tanto utiliza SQL, multihilo y multiusuario del que se estiman más
 de un millón de instalaciones\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Lo que durante un tiempo se consideró como un sencillo juguete para su uso
 en lugares web, se ha convertido en la actualidad en una solución viable
 y de misión crítica para la administración de datos\SpecialChar \@.
 Anteriormente, MySQL
 se consideraba como la opción ideal para webs principalmente por su gran
 velocidad\SpecialChar \@.
 Sin embargo, en la actualidad incorpora muchas de las funciones
 necesarias para otros entornos conservando su rapidez característica\SpecialChar \@.
 MySQL
 supera desde hace tiempo a muchas soluciones comerciales en velocidad y
 dispone de un sistema de permisos elegante y potente, además, la versión
 4 incluye el motor de almacenamiento InnoDB compatible con ACID\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Los registros de las tablas InnoDB tienen las siguientes características:
\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Cada registro de índice en InnoDB contiene un encabezado de seis bytes\SpecialChar \@.
 El
 encabezado se emplea para enlazar entre sí registros consecutivos, y también
 en el bloqueo a nivel de fila\SpecialChar \@.

\end_layout

\begin_layout Itemize
Los registros en el índice agrupado contienen campos para todas las columnas
 definidas por el usuario\SpecialChar \@.
 Adicionalmente, hay un campo de seis bytes para
 el identificador de transacción y un campo de siete bytes para el 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{roll pointer}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize
Si no se definió una clave primaria para la tabla, cada registro de índice
 agrupado contiene un campo de identificación de fila de seis bytes\SpecialChar \@.

\end_layout

\begin_layout Itemize
Cada registro de índice secundario contiene también todos los campos definidos
 para la clave del índice agrupado\SpecialChar \@.

\end_layout

\begin_layout Itemize
Un registro contiene además un puntero a cada campo del mismo\SpecialChar \@.
 Si la longitud
 total de los campos en un registro es menor de 128 bytes, el puntero medirá
 un byte, de lo contrario, tendrá dos bytes de longitud\SpecialChar \@.
 La matriz de estos
 punteros se conoce como el directorio de registros\SpecialChar \@.
 El área a donde señalan
 estos punteros se denomina la parte de datos del registro\SpecialChar \@.

\end_layout

\begin_layout Itemize
Internamente, InnoDB almacena las columnas de caracteres de longitud fija
 en un formato de longitud fija\SpecialChar \@.
 InnoDB trunca los espacios sobrantes de
 las columnas VARCHAR\SpecialChar \@.
 Nótese que MySQL puede convertir internamente columnas
 CHAR a VARCHAR\SpecialChar \@.

\end_layout

\begin_layout Itemize
Un valor NULL SQL reserva 1 ó 2 bytes en el directorio de registros\SpecialChar \@.
 No reservará
 ningún byte en la parte de datos del registro si se almacena en una columna
 de longitud variable\SpecialChar \@.
 En una columna de longitud fija, reservará en la parte
 de datos la longitud asignada a dicha columna\SpecialChar \@.
 La razón por la que se reserva
 este espacio fijo a pesar de tratarse de un valor NULL, es que en el futuro
 se podrá insertar en su lugar un valor no-NULL sin provocar la fragmentación
 de la página de índice\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Los nombres de bases de datos, tablas, índices, columnas y alias son identificad
ores\SpecialChar \@.
 Los identificadores de MySQL tienen una sintaxis concreta\SpecialChar \@.
 La longitud
 máxima para bases de datos, tablas, índices y columnas es de 64 bytes y
 para alias de 255 bytes\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Adicionalmente a las restricciones que se acaban de detallar, ningún identificad
or puede contener un caracter ASCII 0 o un byte con un valor de 255\SpecialChar \@.
 Los
 nombres de bases de datos, tablas y columnas no deberían terminar con caractere
s de espacio\SpecialChar \@.
 MySQL 5.0 permite el uso de comillas en identificadores, aunque
 es mejor evitarlos tanto como sea posible\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Los identificadores se almacenan empleando Unicode (UTF8).
 Esto se aplica a identificadores en las definiciones de tabla que se almacenan
 en ficheros .frm y a identificadores almacenados en las tablas de permisos
 en la base de datos mysql\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Es preciso ser cuidadoso al utilizar MD5 para producir nombres de tablas,
 porque puede producir nombres ilegales\SpecialChar \@.
 En nuestro caso el MD5 es usado
 únicamente para generar unas URLs especiales para el acceso de usuarios
 y se almacenan en las tablas, pero nunca es utilizado para generar nombres
 de tablas\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
MySQL posee procedimientos almacenados y funciones que son funcionalidades
 añadidas a partir de la versión de MySQL 5.0\SpecialChar \@.
 Un procedimiento almacenado
 es un conjunto de comandos SQL que pueden almacenarse en el servidor\SpecialChar \@.
 Una
 vez que se hace, los clientes no necesitan relanzar los comandos individuales
 pero pueden en su lugar referirse al procedimiento almacenado\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Los procedimientos almacenados pueden mejorar el rendimiento ya que se necesita
 enviar menos información entre el servidor y el cliente\SpecialChar \@.
 Por contra se aumenta
 la carga de la base de datos del servidor ya que la mayoría del trabajo
 se realiza en la parte del servidor y no en el cliente\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Los procedimientos almacenados le permiten tener bibliotecas o funciones
 en el servidor que sirve de base de datos\SpecialChar \@.
 Esta característica es compartida
 por los lenguajes de programación modernos que permiten este diseño interno,
 por ejemplo, usando clases\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
MySQL sigue la sintaxis SQL:2008 para procedimientos almacenados\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Muchas de estas restricciones son corregidas por Doctrine y en caso de no
 tener la capacidad de correción, la generación de las estructuras de la
 base de datos mediante las instrucciones de propias de Doctrine ofrecerá
 los errores correspondientes para una rápida corrección del código erróneo\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
HTML 5 y CSS 3
\end_layout

\begin_layout Standard
La elección de este avanzado lenguaje es obvia\SpecialChar \@.
 Dentro de no muchos años
 todos los exploradores sorportarán únicamente HTML 5 que incluye unas mejoras
 para la visualización de vídeos muy importantes e incluye características
 de estilo novedosas, con la ayuda de Twig es altamente eficiente la creación
 de plantillas HTML y la última versión revisada es la mejor opción en la
 actualidad\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
CSS 3 incluye las últimas mejoras en el diseño de interfaces y en compatibilidad
 con exploradores\SpecialChar \@.
 De esta forma sacaremos el mayor partido a nuestro diseño
 y facilitaremos la compatibilidad con todos los exploradores del mercado\SpecialChar \@.

 El consorcio W3C valora cualquier cambio que se realice para conseguir
 un estándar actualizado y compatible con el mayor número de exploradores,
 por ello las novedades que incorpora CSS en su tercera versión son altamente
 recomendables\SpecialChar \@.

\end_layout

\begin_layout Chapter
Decisiones de diseño
\begin_inset CommandInset label
LatexCommand label
name "chap:Diseño-del-proyecto"

\end_inset


\end_layout

\begin_layout Standard
En este capítulo se ofrecen los diferentes motivos de las decisiones que
 se han tomado para el posterior desarrollo del proyecto\SpecialChar \@.
 Las premisas fundamenta
les han sido el desarrollo ágil y la obtención de un resultado óptimo en
 el menor tiempo posible\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
\noindent
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "sec:AdobeConnectProfessional"

\end_inset


\end_layout

\begin_layout Standard
Durante más de 25 años, 
\emph on
Adobe
\emph default
 ha revolucionado la interacción de todo el mundo con ideas e información\SpecialChar \@.

 Tanto en la web como en papel, en vídeo o en dispositivos móviles, las
 tecnologías y el 
\emph on
software
\emph default
 de Adobe han llegado a todos los rincones del mundo.
 Adobe Flash
\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 Player es la plataforma de 
\emph on
software
\emph default
 más extendida, y se encuentra instalada en más del 98 % de los equipos
 de escritorio con conexión a Internet\SpecialChar \@.
 La tecnología Adobe Flash es la más
 utilizada para producir vídeo en la Web, mientras que el 
\emph on
software
\emph default
 Adobe Reader
\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 se ha convertido en el estándar mundial para compartir documentos e información\SpecialChar \@.

 Las famosas marcas de Adobe como Adobe Photoshop
\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

, PDF, Acrobat Reader
\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 y Flash, fijan continuamente estándares para la producción y difusión de
 contenidos sofisticados que resulten atractivos para los usuarios\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Este sistema, que se complementa con Adobe
\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 Connect™, es especial para el desarrollo de reuniones en línea al instante
 y clases virtuales, a través de una amplia gama de navegadores web y sin
 necesidad de descargas pesadas\SpecialChar \@.
 Permite compartir contenido dinámico, incluido
 flujo de audio, vídeo y simulaciones de 
\emph on
software
\emph default
, también hace posible las conferencias de vídeo entre varias personas\SpecialChar \@.
 Además,
 las salas de reuniones personalizables de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Acrobat Connect Professional}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 y todo su contenido se guardan automáticamente y siempre quedan disponibles,
 lo que se traduce en una reducción considerable del tiempo de preparación
 para los seminarios recurrentes, las reuniones de equipos y las presentaciones
 de ventas\SpecialChar \@.
 Es la solución para conferencias web de tipo 
\begin_inset Quotes eld
\end_inset

todo en uno
\begin_inset Quotes erd
\end_inset

 más completa, y de lejos ofrece tres ventajas claras con respecto a los
 productos de la competencia:
\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Enumerate
Acceso inmediato
\end_layout

\begin_deeper
\begin_layout Standard
Los asistentes pueden participar en las reuniones con sólo hacer clic en
 una URL, sin necesidad de perder tiempo con descargas o esperas molestas.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Acrobat Connect Professional}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 permite que personas de todo el mundo puedan reunirse para colaborar e
 interactuar de forma inmediata\SpecialChar \@.
 Lo único que se requiere es un navegador
 web y 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Flash Player}
\end_layout

\end_inset

, una aplicación que ya está instalada en más del 98 % de los equipos de
 escritorio conectados a Internet.
\end_layout

\begin_layout Standard
A diferencia de otras soluciones líderes para conferencias web, que requieren
 que los participantes descarguen 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{plug-ins}
\end_layout

\end_inset

 o 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{software}
\end_layout

\end_inset

 propietario, lo cual puede significar grandes retrasos cuando los usuarios
 se enfrenten a problemas técnicos, e incluso puede impedir que algunos
 participantes asistan a la reunión\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Enumerate
Alto impacto
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Flash}
\end_layout

\end_inset

 es la tecnología utilizada en la mayoría de los archivos multimedia de
 vídeo e interactivos que se encuentran hoy en Internet.
 En las conferencias web, 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Flash}
\end_layout

\end_inset

 permite disponer de vídeo, audio e interactividad lo cual brinda a los
 usuarios la sensación de estar asistiendo en persona\SpecialChar \@.
 El elegante interfaz
 y las funciones de interactividad de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Acrobat Connect Professional}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 mantienen al público interesado, con el fin de que trabajen de forma productiva
 y que retengan lo aprendido, al mismo tiempo que disfrutan mientras lo
 hacen\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Enumerate
En directo y bajo demanda
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Acrobat Connect Professional}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 hace posible reunir a personas de distintas partes del mundo en una sesión
 de trabajo en tiempo real o en un aula virtual, y también ofrece la opción
 de que los usuarios accedan a contenidos importantes cuando y donde les
 resulte más conveniente\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.4cm
\end_inset


\begin_inset Graphics
	filename Diseño/RelacionUsuarioAdobeFlashPlayer.jpg
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Utilización de Adobe Flash Player
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Acrobat Connect Professional}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 se basa en una arquitectura abierta y ampliable que permite una integración
 rentable con la infraestructura existente y las inversiones futuras en
 tecnología\SpecialChar \@.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Acrobat Connect Professional}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 utiliza estándares como XML y Java™ para el intercambio de datos, y es
 la única solución que admite servicios web que se pueden usar para la gestión
 de todos los elementos\SpecialChar \@.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 ofrece también un centro de recursos para desarrolladores, con cientos
 de interfaces de programación de aplicaciones (API) y kits de desarrollo
 de 
\emph on
software
\emph default
 (SDK) para ampliar funciones e integrar la solución con otras aplicaciones
 y servicios internos, hasta crear la solución personalizada que mejor se
 adapte a las necesidades exclusivas de la organización\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
La API de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 es sin duda su principal baza para que cualquier desarrollador de aplicaciones
 web lo elija como motor de videoconferencia\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 posee una de las API's más completas para sistemas de videoconferencia,
 lo que ofrece la posibilidad de configurar todos los parámetros de una
 sala de una forma muy precisa\SpecialChar \@.
 Para este proyecto una de las funcionalidades
 más interesante es la posibilidad de configurar las plantillas de cada
 sala para adaptar nuestra aplicación a los diferentes escenarios, ya sean
 clases magistrales, reuniones de grupos de investigación con uno o varios
 ponentes, salas de trabajo en grupo, etc\SpecialChar \@.
 También ofrece la opción de configurar
 el ancho de banda que ocupará el flujo de audio y vídeo de la aplicación
 en su viaje por la red\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Symfony
\end_layout

\begin_layout Standard
Es uno de los 
\shape italic
frameworks 
\shape default
con mayor impacto en la actualidad\SpecialChar \@.
 Symfony aumenta exponencialmente la productiv
idad y ayuda a mejorar la calidad de las aplicaciones web aplicando todas
 las buenas prácticas y patrones de diseño que se han definido para la web
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-7}
\end_layout

\end_inset

\SpecialChar \@.
 Un gran abanico de aplicaciones web que nacen en la actualidad se realizan
 utilizando este 
\shape italic
framework,
\shape default
 ya que ofrece una gran versatilidad y la posibilidad de testear el código
 con un eficiente sistema interno para la corrección de errores\SpecialChar \@.
 Symfony
 también dota a las aplicaciones de una gran velocidad como se ha comentado
 en el apartado 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Arquitectura"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Su asignador relacional de objetos (ORM) y la capa de abstracción de base
 de datos de potente calado y gran capacidad de configuración, hacen que
 este 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 ofrezca al desarrollador la posibilidad de realizar aplicaciones web basadas
 en PHP muy sofisticadas\SpecialChar \@.
 Una de las virtudes más importantes para la elección
 de este 
\shape italic
framework
\shape default
, es la gran comunidad que lo respalda y que aporta correción de errores
 e implantación de tecnologías punteras en sus últimas versiones\SpecialChar \@.
 Las versiones
 actuales nos garantizan que la evolución de Symfony guarde una buena estructura
 de manera que actualizar el antiguo 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{software}
\end_layout

\end_inset

 implementado con Symfony no traerá grandes quebraderos de cabeza\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El proyecto Doctrine hace que la elección de Symfony sea obvia ante el desarroll
o de cualquier aplicación digna de perdurar en el tiempo\SpecialChar \@.
 Ofrece un gran
 abanico de opciones para ampliar nuestra base de datos y optimizar el tiempo
 empleado para conseguir las nuevas funcionalidades en un breve espacio
 de tiempo y sin un gran despliegue humano\SpecialChar \@.
 Cualquier tecnología web puede
 ser incrustada en los ficheros de Symfony para mejorar o aumentar la compatibil
idad entre aplicaciones y necesidades del usuario final\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
PHP
\end_layout

\begin_layout Standard
Según crecía PHP, empezó a ser reconocido como una popular plataforma de
 desarrollo web\SpecialChar \@.
 Una de las más interesantes formas de ver esta tendencia
 fue observando los libros de PHP que se han ido publicando a lo largo de
 los años\SpecialChar \@.
 Este gran número de libros, escritos por diferentes autores, publicado
s por muchos editores, y su disponibilidad en tantas lenguas son un fuerte
 testimonio del éxito mundial de PHP 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-10}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Las cuatro grandes características para declinar la balanza hacia PHP han
 sido:
\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Velocidad: No sólo la velocidad de ejecución, la cual es importante, sino
 además no crear demoras en la máquina\SpecialChar \@.
 Por esta razón no debe requerir demasiado
s recursos de sistema.
 PHP se integra muy bien junto a otro 
\emph on
software
\emph default
, especialmente bajo ambientes Unix, cuando se configura como módulo de
 Apache\SpecialChar \@.

\end_layout

\begin_layout Itemize
Estabilidad: La velocidad no sirve de mucho si el sistema no es fiable.
 Ninguna aplicación es 100% libre de errores, pero con una increíble comunidad
 de programadores y usuarios como respaldo es mucho mas difícil que sobrevivan.
 PHP utiliza su propio sistema de administración de recursos y dispone de
 un sofisticado método de manejo de variables, conformando un sistema robusto
 y estable.
\end_layout

\begin_layout Itemize
Seguridad: El sistema debe poseer protecciones contra ataques.
 PHP provee diferentes niveles de seguridad configurables\SpecialChar \@.

\end_layout

\begin_layout Itemize
Simplicidad: Se les debe permitir a los programadores generar código productivam
ente en el menor tiempo posible.
 Usuarios con experiencia en C y C++ podrán utilizar PHP rápidamente\SpecialChar \@.
 No
 cabe la menor duda de que la utilización de un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 simplifica todavía más su utilización\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Este conjunto de dogmas unidos a la gran comunidad que desarrolla PHP y
 ayuda a incluir las funcionalidades de última generación, hacen de PHP
 el 
\emph on
software
\emph default
 recomendado para el servidor Apache, que como describiremos a continuación
 hacen un fantástico equipo, altamente recomendado para la puesta en servicio
 de aplicaciones web\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Apache
\end_layout

\begin_layout Standard
La elección del servidor Apache se debe a las siguientes ventajas:
\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Modular:
\end_layout

\begin_deeper
\begin_layout Standard
Podemos incluir multitud de módulos para adecuar el servidor a las necesidades
 de nuestra aplicación\SpecialChar \@.
 De hecho, PHP posee un módulo específico para Apache,
 como ya se ha comentado en el capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Tecnologías-empleadas"

\end_inset

, que aprovecha al máximo la velocidad de Apache ya que actúa sobre el núcleo
 del servidor de forma directa a través de este módulo\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Código abierto:
\end_layout

\begin_deeper
\begin_layout Standard
Las plataformas de código abierto nos permiten desarrollar código de forma
 libre y a un menor coste que el 
\emph on
software
\emph default
 propietario\SpecialChar \@.
 Los foros de discusión y resolución de errores son mucho mayores,
 de forma que un desarrollador puede encontrar solución a su problema de
 forma rápida y en caso de ser pionero en una casuística determinada, también
 obtendrá respuesta de forma rápida, ya que la comunidad libre es muy activa\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Multi-plataforma:
\end_layout

\begin_deeper
\begin_layout Standard
Es imprescindible para cualquier aplicación poder desplegarse en todo sistema
 operativo existente en el mercado, y esta premisa la cumple Apache a la
 perfección\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Extensible:
\end_layout

\begin_deeper
\begin_layout Standard
Consta de una amplia galería de módulos que hacen que podamos agregar multitud
 de funcionaliades, como el ya mencionado y utilizado en este proyecto módulo
 para PHP\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Popular:
\end_layout

\begin_deeper
\begin_layout Standard
Gracias a su popularidad que crece día a día debido a su licencia, cualquier
 desarrollador cuenta con una amplia comunidad que lo respalda y aumenta
 la actividad tanto de desarrolladores como de expertos en este servidor\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
MySQL
\end_layout

\begin_layout Standard
Son muchas las razones para escoger MySQL como solución de misión crítica
 para la administración de datos\SpecialChar \@.
 Las más interesantes ligadas a este proyecto
 son:
\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Coste: El coste de MySQL es gratuito en su mayor parte y su servicio de
 asistencia resulta económico en caso de ser necesario\SpecialChar \@.

\end_layout

\begin_layout Itemize
Asistencia: MySQL AB, la compañía responsable del desarrollo de MySQL, ofrece
 contratos de asistencia a precios razonables y existe una nutrida y activa
 comunidad MySQL\SpecialChar \@.

\end_layout

\begin_layout Itemize
Velocidad: MySQL es mucho mas rápido que la mayor parte de sus rivales,
 por tanto en este aspecto es obvia su elección\SpecialChar \@.

\end_layout

\begin_layout Itemize
Funcionalidad: MySQL dispone de muchas de las funciones que exigen los desarroll
adores profesionales, como compatibilidad completa con ACID, compatibilidad
 para la mayor parte de SQL ANSI, volcados online, duplicación, funciones
 SSL e interacción con la mayor parte de los entornos de programación.
 Se desarrolla y actualiza mas rápidamente que la mayoría de sus rivales,
 por lo que prácticamente todas las funciones estándar de MySQL no están
 en fase de desarrollo\SpecialChar \@.

\end_layout

\begin_layout Itemize
Portabilidad: MySQL se ejecuta en la inmensa mayoría de sistemas operativos
 y, en la mayor parte de los casos, los datos se pueden transferir de un
 sistema a otro sin dificultad\SpecialChar \@.

\end_layout

\begin_layout Itemize
Facilidad de uso: MySQL resulta fácil de utilizar y de administrar.
 Gran parte de las viejas bases de datos presentan problemas por utilizar
 sistemas obsoletos, lo que complica innecesariamente las tareas de administraci
ón\SpecialChar \@.
 Las herramientas de MySQL son potentes y flexibles, sin sacrificar su
 capacidad\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
MySQL 5.5 es rápido, dispone de funciones de volcado online e incorpora una
 gran cantidad de funciones nuevas\SpecialChar \@.
 Son pocas las razones para desechar MySQL
 como solución de base de datos\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
MySQL AB dispone de un sistema de asistencia eficiente y a un precio razonable,
 y, como ocurre con la mayor parte de las comunidades de código abierto,
 hay disponible una gran cantidad de ayuda en la web\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Junto con el visor de base de datos TOra que permite la edición de la base
 de datos de una forma sencilla, facilitando la búsqueda visual de datos
 para su depuración y mayor facilidad en el diseño, hacen de estas dos herramien
tas la mejor opción disponible en el mercado relación calidad-precio para
 el desarrollo de aplicaciones web y cada vez más en otros sectores\SpecialChar \@.

\end_layout

\begin_layout Chapter
Implementación del proyecto
\begin_inset CommandInset label
LatexCommand label
name "chap:Desarrollo-del-proyecto"

\end_inset


\end_layout

\begin_layout Standard
La aplicación 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

 está diseñada para crear salas de forma dinámica bajo demanda y acceder
 a las mismas de forma similar a una llamada telefónica, es decir, en el
 momento de acceso se consulta la disponibilidad de recursos y se deniega
 el acceso en el peor de los casos\SpecialChar \@.
 En la creación de la sala se pueden seleccion
ar los usuarios destino de una lista o enviando la URL correspondiente por
 algún medio electrónico\SpecialChar \@.
 El número máximo de conferencias simultáneas es
 una limitación para la aplicación, ya que el 
\emph on
software
\emph default
 propietario aumenta su coste con el incremento de salas\SpecialChar \@.
 Sin embargo en
 nuestro diseño se ha supuesto que nunca se llegará a tal número y se han
 dimensionado las conexiones con un criterio que garantice un bajo porcentaje
 de bloqueo de petición de conexión, para lo cual se realizará un interfaz
 de seguimiento que mostrará estadísticas con el número máximo de conferencias
 simultáneas, número de usuarios en activo y otros parámetros de interés\SpecialChar \@.

 De esta forma la lógica del número máximo de salas será transparente para
 el usuario\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En este capítulo decribiremos las entidades, repositorios, controladores
 y servicios de la aplicación\SpecialChar \@.
 Cada una de estas partes es fundamental y
 el propio 
\shape italic
framework
\shape default
 nos ofrece cómodas herramientas para obtener un modelo vista controlador
 (MVC) funcional y de fácil implementación\SpecialChar \@.
 Las entidades definen las tablas
 de la base de datos\SpecialChar \@.
 En los repositorios se almacenan las consultas a la
 base de datos que no genera el 
\shape italic
framework
\shape default
 por defecto\SpecialChar \@.
 Los controladores contienen la lógica que procesará los datos
 de la aplicación y tienen asociadas las plantillas para mostrar o recoger
 los datos introducidos por el usuario\SpecialChar \@.
 Los servicios contienen las funciones
 que usan la API 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 y proporcionan a eMeeting las credenciales necesarias para conectarse como
 administrador al servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 y generar las salas, usuarios y todo lo necesario para el correcto funcionamien
to de la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Para llevar a cabo la aplicación se ha dispuesto de cinco elementos\SpecialChar \@.
 Como
 se puede observar en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "Estruc_aplicacion"

\end_inset

, contamos con un cliente que representa el conjunto de usuarios involucrados
 en la comunicación que disfrutan de la aplicación desde su explorador web,
 aunque también es posible operar desde un terminal móvil previa descarga
 de un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{plugin}
\end_layout

\end_inset

, y 4 servidores que pasamos a describir a continuación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 1.8cm
\end_inset


\begin_inset Graphics
	filename Diseño/Esquema_aplicación.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Diagrama estructural de la aplicación
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Estruc_aplicacion"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
El servidor eMeeting: almacena todos los ficheros necesarios para la configuraci
ón y el funcionamiento de la aplicación web\SpecialChar \@.

\end_layout

\begin_layout Itemize
La base de datos de respaldo de la aplicación: que en este caso se implenta
 utilizando el motor MySQL\SpecialChar \@.
 El diseño de la aplicación nos permite modificar
 el motor de base de datos realizando cambios exiguos\SpecialChar \@.

\end_layout

\begin_layout Itemize
Directorio +: este servidor ayudará a sincronizar la macroaplicación mencionada
 en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Objetivos"

\end_inset

 y que se describirá con mayor detalle en este capítulo\SpecialChar \@.
 Nuestra base de
 datos de respaldo sería redundante pero en la fase de despliegue y puesta
 en servicio es aconsejable para aportar una mayor fiabilidad y estabilidad
 al servicio\SpecialChar \@.

\end_layout

\begin_layout Itemize
El servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

: donde se encuentra alojada la aplicación 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 que usaremos como motor de videoconferencia\SpecialChar \@.

\end_layout

\begin_layout Itemize
El servidor CAS: que aloja el servicio para autenticar a los usuarios que
 accedan a la aplicación y ayudará a 
\begin_inset Quotes eld
\end_inset

Directorio +
\begin_inset Quotes erd
\end_inset

 a detectar usuarios ya registrados en alguna aplicación para evitar registros
 superfluos en el resto de aplicaciones que componen 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Archivos de configuración
\end_layout

\begin_layout Standard
Los archivos de configuración están almacenados en diferentes carpetas dentro
 de los directorios Symfony descritos en la subsección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:SYMFONY"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En el interior del directorio app/config se encuentran dos ficheros importantes:
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{routing.yml}
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{security.yml}
\end_layout

\end_inset

\SpecialChar \@.
 Este par de ficheros, contienen la configuración que determina qué URLs
 de acceso a la aplicación serán públicas o privadas y cuál será la puerta
 de entrada para las URLs privadas\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En la carpeta 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Resources/public/css}
\end_layout

\end_inset

 guardaremos los archivos para alojar el CSS, en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Resources/public/js}
\end_layout

\end_inset

 el Javascript, en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Resources/public/images}
\end_layout

\end_inset

 las imágenes y en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Resources/public/wsdl}
\end_layout

\end_inset

 la configuración de las funciones del 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{middleware}
\end_layout

\end_inset

 que describiremos en la subsección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:El-Middleware"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En la carpeta 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Resources/views}
\end_layout

\end_inset

 guardaremos las plantillas que se mostrarán como página HTML para cada
 uno de los controladores de aplicación debidamente ordenados según corresponda\SpecialChar \@.

 En el interior de este directorio se aloja una carpeta por cada controlador,
 con archivos que ofrecen información para completar los parámetros y elementos
 necesarios en cada plantilla HTML\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En la carpeta 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Test}
\end_layout

\end_inset

 se almacenan archivos para diseñar pruebas específicas para cada controlador,
 entidad y servicio de la aplicación agrupadas en directorios con nombres
 relativos a los elementos sobre los cuales se ejecutarán las pruebas\SpecialChar \@.
 En
 el interior de cada uno de estos tres directorios están disponibles los
 ficheros para realizar pruebas diseñadas por el programador que intentan
 detectar errores, fallos de diseño o puntos débiles de la aplicación\SpecialChar \@.
 Esta
 funcionalidad de Symfony ha revelado una gran cantidad de errores en el
 código, 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{a priori}
\end_layout

\end_inset

 muy difíciles de detectar\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Concepto de sala
\begin_inset CommandInset label
LatexCommand label
name "sec:Concepto-de-sala"

\end_inset


\end_layout

\begin_layout Standard
Se llama sala a la entidad fundamental de la aplicación\SpecialChar \@.
 Cada sala contendrá
 una única reunión en la que todos los participantes colaboran según el
 rol que desempeñen\SpecialChar \@.
 Cada usuario podrá crear las salas que precise oportunas
 y darle el nombre que desee, aunque el número total de salas en uso no
 podrá superar diez, pero esta información será transparente al usuario
 y una lógica interna ha sido diseñada para alertar al administrador de
 la aplicación sobre la proximidad al número máximo de salas en uso, por
 si cree oportuno disponer de más salas y debe negociarlo con la compañía
 suministradora de recursos, en nuestro caso 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.
 La aplicación 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

 podría utilizarse con otro motor de videoconferencia, pero sería de todas
 formas necesario informar al administrador de la proximidad del número
 máximo de salas en uso, ya que en cualquier motor el número de salas es
 un recurso limitado\SpecialChar \@.
 Un inconveniente de la aplicación es no poder dar un
 nombre de sala que exista de entre las salas en activo, sería posible implement
ar una lógica para que cada usuario no se percate en primera instancia de
 este hecho, ya que 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 no permite tener salas con el mismo nombre, pero esta solución cambiará
 el nombre de la sala en la pantalla de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

, por este motivo no se ha implementado esta funcionalidad\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.8cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/HelpMeeting.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Ayuda de la aplicación
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "HelpMeeting"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
El concepto de sala no se refleja en la lógica de la base de datos, pero
 se tiene muy presente a la hora de diseñar y mostrar la aplicación al usuario\SpecialChar \@.

 Podríamos decir que una reunión se realiza en una sala, pero en realidad
 disponemos únicamente de diez salas, sin embargo el usuario puede crear
 todas las reuniones que desee\SpecialChar \@.
 En los primeros diseños, de forma transparente
 al usuario, se creaba una sala de videoconferencia para cada usuario de
 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

, y se mostraba al usuario los estados de sala (
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{room}
\end_layout

\end_inset

) habilitada/deshabilitada, mágica/no mágica o secreta/pública.
 Definitivamente este diseño se abandonó y el usuario entra por primera
 vez a la aplicación y no posee ninguna sala, una enorme flecha le inidica
 las instrucciones a seguir para crear su propia sala como se puede ver
 en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "FirsTimeAccess"

\end_inset

\SpecialChar \@.
 También se dispone de un manual en red con indicaciones para realizar cualquier
 acción disponible dentro de la aplicación 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

, ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "HelpMeeting"

\end_inset

\SpecialChar \@.
 En nuestra lógica de base de datos, las salas libres son en realidad reuniones
 (
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{meetings}
\end_layout

\end_inset

) almacenadas en la tabla “meeting” y siempre están asociadas a un estado:
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{NOW, NEW, SCHEDULE, CANCELLED, FINICHED o LOCKED}
\end_layout

\end_inset

\SpecialChar \@.
 Estos 6 estados, que se explicarán con detalle en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Diseño-de-la"

\end_inset

, son fundamentales para gestionar las funcionalidades que ofrece la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/inciosineMeetings.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Pantalla de inicio por vez primera a la aplicación.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "FirsTimeAccess"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Sala mágica
\begin_inset CommandInset label
LatexCommand label
name "sub:Sala-mágica"

\end_inset


\end_layout

\begin_layout Standard
Una sala mágica hace referencia a un tipo especial de sala que se pone a
 disposición de los usuarios de la aplicación para proporcionar un servicio
 exclusivo\SpecialChar \@.
 Como se ha comentado en este capítulo el número de salas disponibles
 es limitado y cabe la posibilidad de denegación de servicio en momentos
 de máxima ocupación\SpecialChar \@.
 Como describiremos con mayor profundidad en la subsección
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Recopilación-de-datos"

\end_inset

 el sistema alerta al administrador para que provisione con más salas a
 la aplicación si la ocupación se acerca al límite máximo disponible\SpecialChar \@.
 Debido
 a esta implementación y ante saturación no deseada se ha implementado una
 lógica que recibe el nombre de sala mágica\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
A partir de la lista total de licencias disponibles se configura el número
 máximo de salas mágicas\SpecialChar \@.
 El sistema podría permitir configurar todas las
 licencias como mágicas aunque es una opción absurda ya que la finalidad
 del diseño de este sistema consiste en proporcionar muchas entidades 
\emph on
eMeeting
\emph default
 a cada usuario
\emph on
 
\emph default
con una disposición de licencias limitada, este hecho lleva al administrador
 a fijar un número máximo de salas mágicas en los ficheros de configuración\SpecialChar \@.

 Cualquier sala del sistema puede ser marcada como mágica por el administrador
 y por tanto pasará a estar siempre disponible, por contra una licencia
 estará siempre ocupada y no disponible para el resto de usuarios\SpecialChar \@.
 Para entender
 mejor esta lógica pasamos a describir el caso concreto de 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Existen diez licencias y tres salas mágicas como máximo\SpecialChar \@.
 Cuando se marca
 una sala como mágica las licencias disponibles para el resto de usuarios
 pasan a ser nueve ya que la sala marcada como mágica ocupa la licencia
 en todo momento incluso cuando no hay una reunión en curso\SpecialChar \@.
 De esta forma
 se garantiza la disponibilidad del recurso en detrimento del número de
 salas disponibles\SpecialChar \@.
 Este tipo de salas permite al administrador del sistema
 asegurarse la disponibilidad de recursos incluso en periodos de máxima
 ocupación y ofrecer un servicio exclusivo a usuarios con un perfil determinado\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Acceso a las salas
\begin_inset CommandInset label
LatexCommand label
name "sub:Acceso-a-las"

\end_inset


\end_layout

\begin_layout Standard
Debido a los diferentes tipos de salas y roles de usuario es necesario implement
ar un control de acceso a las salas\SpecialChar \@.
 Para esta lógica se definen los conceptos
 de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Viewsalt}
\end_layout

\end_inset

, 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Salt}
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{SecretSalt}
\end_layout

\end_inset

, que facilitarán la construcción de las URLs de acceso a las diferentes
 salas de la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Viewsalt}
\end_layout

\end_inset

: Se genera con el algoritmo MD5, a partir del nombre que recibe la reunión\SpecialChar \@.

 Se describe con mayor detalle en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:URLs-de-acceso"

\end_inset

\SpecialChar \@.
 La URL con esta huella dará acceso a las reuniones públicas mediante registro
 a través del formulario correspondiente para actuar en la reunión como
 un usuario participante (
\emph on
participant
\emph default
) descrito en la subsección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Definición-de-roles"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Salt}
\end_layout

\end_inset

: Este campo que se almacena asociado a cada una de las reuniones creadas,
 es generado a partir del nombre de usuario o el nombre de grupo, según
 corresponda\SpecialChar \@.
 Construye la URL de acceso para las salas públicas y usuarios
 presentadores (
\emph on
presenter
\emph default
) descritos en la subsección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Definición-de-roles"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{SecretSalt}
\end_layout

\end_inset

: Se genera con el algoritmo MD5 a partir del nombre de usuario o del nombre
 de grupo\SpecialChar \@.
 Construye las URLs para las salas privadas\SpecialChar \@.
 Este acceso es realmente
 importante ya que una sala privada no posee un enlace común de acceso y
 sólo los usuarios invitados pueden acceder a ella\SpecialChar \@.
 Este enlace permite el
 acceso a la sala a todo usuario que lo posea a pesar de ser una sala privada,
 por así decirlo es como una puerta trasera a una sala que por definición
 no es accesible a usuarios no invitados\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El acceso a cada sala se decide en el momento de creación de la misma\SpecialChar \@.
 Para
 el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

todas las salas serán públicas lo que permite gestionar el control de acceso
 desde la propia aplicación 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{eMeeting}
\end_layout

\end_inset

\SpecialChar \@.
 De esta forma a partir de la URL generada el usuario puede decidir invitar
 a cualquier persona, ya sea miembro de la Plataforma 
\begin_inset Quotes eld
\end_inset

Campus del Mar
\begin_inset Quotes erd
\end_inset

 o no y otorgarle el rol que considere oportuno\SpecialChar \@.
 Este planteamiento es altamente
 útil para dar una mayor flexibilidad a la hora de trabajar con personal
 ajeno a 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

, pero que en un momento dado puede colaborar en un proyecto determinado\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Este control de acceso se implementa con la siguiente lógica:
\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Pública: 
\end_layout

\begin_deeper
\begin_layout Itemize
Entrada con Salt: Pueden entrar los usuarios que conozcan la sala del usuario
 ya que la URL se construye a partir del nombre de la sala\SpecialChar \@.

\end_layout

\begin_layout Itemize
Entrada con SecretSalt: Pueden entrar todos los que conozcan la URL generada
 a partir del SecretSalt de la sala\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Privada: 
\end_layout

\begin_deeper
\begin_layout Itemize
Entrada con Salt: Sólo puede entrar el usuario\SpecialChar \@.
 Esta situación se genera
 como consecuencia de la lógica implementada, pero es absurdo el hecho de
 una reunión para un sólo usuario\SpecialChar \@.

\end_layout

\begin_layout Itemize
Entrada con SecretSalt: Pueden entrar todos los que conozcan la URL generada
 con el SecretSalt de la sala\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
CRON
\begin_inset CommandInset label
LatexCommand label
name "sec:CRON"

\end_inset


\end_layout

\begin_layout Standard
El cron es la parte del servidor 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

 que se encarga de ejecutar funciones periódicas que ayudan a la sincronización,
 depuración y mantenimiento de la aplicación\SpecialChar \@.
 Cada una de estas funciones
 realiza tareas críticas para el correcto funcionamiento de la aplicación
 y alerta a los administradores de posibles saturaciones en el servicio\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
A continuación pasamos a describir las funciones ejecutadas por el cron\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Sincronización de grabaciones
\end_layout

\begin_layout Standard
Para poder visualizar las grabaciones en tiempo real y antes de eliminar
 la reunión, se ejecuta el comando 
\shape smallcaps
cmar:sync:rec
\shape default
 diseñado para guardar en la base de datos la URL de acceso a las grabaciones
 únicamente cuando la grabación ha finalizado\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Esta acción es ejecutada cada cinco minutos por el cron, comprueba las grabacion
es finalizadas y almacena las URLs de acceso a las mismas en la base de
 datos quedando disponibles en el botón 
\emph on
All Recordings
\emph default
 que se describirá en la subsección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Botonera-para-cada"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
La acción de borrado de la reunión finaliza ejecutando esta acción para
 almacenar todas las grabaciones en una carpeta creada para tal efecto dentro
 del servidor de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

\SpecialChar \@.
 Las grabaciones nunca se eliminan del servidor y siempre son accesibles
 por el usuario desde la botonera superior que describiremos en la subsección
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Botonera-superior-de"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Sincronización de usuarios de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Cuando un usuario accede a una sala y no tiene una cuenta de acceso a la
 aplicación, se crea un usuario temporal en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

\SpecialChar \@.
 Esta medida nos otorga control total sobre los privilegios de los participantes
 en la reunión\SpecialChar \@.
 Este diseño es necesario puesto que 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 no ofrece ninguna solución en su API para para abordar esta casuística,
 aunque se ha comprobado que internamente sí están implementados diferentes
 roles para usuarios anónimos\SpecialChar \@.
 Dicho comando se llama 
\shape smallcaps
cmar:sync:userADO
\shape default
\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El usuario, creado para dar solución a este problema, es borrado dos días
 después de su creación\SpecialChar \@.
 Para ello en el campo descripción que ofrece 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 se incluye el texto: 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{User created as guest}
\end_layout

\end_inset

 y en el campo reservado para la dirección de correo electrónico se incluye
 la fecha de creación para eliminar este tipo de usuarios a su debido tiempo\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Recopilación de datos para la elaboración de estadísticas de la aplicación
\begin_inset CommandInset label
LatexCommand label
name "sub:Recopilación-de-datos"

\end_inset


\end_layout

\begin_layout Standard
Este script se ejecuta cada treinta minutos y recoge información sobre el
 número de salas activas y el número de usuarios en cada sala para elaborar
 estadísticas de uso del sistema\SpecialChar \@.
 La función más importante consiste en comparar
 el número de salas activas con el número máximo contratado y alertar al
 administrador de la proximidad entre ambos ya que 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 ofrece licencias de pago que se han de contratar previamente\SpecialChar \@.
 Si se da el
 caso, el administrador debe ampliar el número de licencias para evitar
 que usuarios no puedan disfrutar de su multivideoconferencia\SpecialChar \@.
 Este comando
 recibe el nombre de 
\shape smallcaps
cmar:sync:storestat
\shape default
\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Diseño de la base de datos
\begin_inset CommandInset label
LatexCommand label
name "sec:Diseño-de-la"

\end_inset


\end_layout

\begin_layout Standard
Uno de los primeros desafíos al que nos enfrentamos es el diseño de la base
 de datos\SpecialChar \@.
 Como se indicó en el capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Diseño-del-proyecto"

\end_inset

 con el 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 Symfony es fácilmente implementable e incluso puede modificarse durante
 la fase de prueba, en caso de encontrar alguna carencia en el diseño inicial\SpecialChar \@.

 La utilización de MySQL, gracias a su velocidad, nos augura un desarrollo
 exitoso\SpecialChar \@.
 A pesar de ello, con la aplicación en producción, modificar la
 base de datos puede ocasionar enormes quebraderos de cabeza\SpecialChar \@.
 Como consecuencia
 de este hecho, implementar una base de datos sólida con la información
 más relevante para nuestra aplicación es una labor tediosa que se ha elaborado
 con gran detenimiento\SpecialChar \@.

\end_layout

\begin_layout Standard
Symfony ofrece al desarrollador las entidades y repositorios para simplificar
 la labor de diseño de la base de datos como se explicó en el capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Tecnologías-empleadas"

\end_inset

\SpecialChar \@.
 En las entidades se definirán los campos que se guardarán en la base de
 datos, y Symfony por defecto creará una serie de sentencias sencillas para
 obtener valores de las tablas de la base de datos, tales como el nombre
 de una reunión, su identificador o el usuario creador\SpecialChar \@.
 Como en toda aplicación
 web hay una serie de consultas complejas necesarias para nuestra aplicación
 que no implementa el 
\shape italic
framework
\shape default
, por ello en los repositorios de las entidades se implementan este tipo
 de consultas\SpecialChar \@.
 La entidad es un tipo de dato propio de Symfony que permite
 acceder a las columnas de una tabla\SpecialChar \@.
 De esta forma cuando una consulta a
 la base de datos devuelve una entidad se tendrá acceso a todos los valores
 de la fila correspondiente utilizando las consultas que Symfony crea por
 defecto para la entidad\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
A continuación se describen las entidas y sus respectivos repositorios\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.5cm
\end_inset


\begin_inset Graphics
	filename Diseño/Imagenes base de datos/Meeting.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Tabla para almacenar datos de reuniones
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Tabla_eMeeting"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Meeting
\end_layout

\begin_deeper
\begin_layout Standard
A continuación y a modo de ejemplo se muestra el archivo de la entidad Meeting,
 sin duda la más importante de la aplicación, y que nos dará una idea de
 la estructura de la base de datos\SpecialChar \@.
 A partir de la tabla que genera este
 código se dispondrá de una visión más clara de las funciones que describiremos
 en el interfaz de usuario\SpecialChar \@.
 Las variables de esta tabla almacenan los diferentes
 estados en los que puede encontrarse una reunión, los identificadores de
 reunión o datos de creación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
/**
\end_layout

\begin_layout Standard
* @var integer $id
\end_layout

\begin_layout Standard
*
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes erd
\end_inset

id
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes erd
\end_inset

integer
\begin_inset Quotes erd
\end_inset

)
\end_layout

\begin_layout Standard
* @ORM
\backslash
Id * @ORM
\backslash
GeneratedValue(strategy=
\begin_inset Quotes eld
\end_inset

AUTO
\begin_inset Quotes eld
\end_inset

)
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $id;
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var integer $state 
\end_layout

\begin_layout Standard
*
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

state
\begin_inset Quotes eld
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

integer
\begin_inset Quotes eld
\end_inset

)
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $state = self::STATE_NEW;
\end_layout

\begin_layout Standard
/**
\end_layout

\begin_layout Standard
* @var string $salt 
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @Assert
\backslash
NotBlank() 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

salt
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

string
\begin_inset Quotes erd
\end_inset

, length=255, nullable=false) 
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $salt; 
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* Link para entrar como usuario mini-host en ADO 
\end_layout

\begin_layout Standard
* @var string $secretsalt
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @Assert
\backslash
NotBlank() 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

secretsalt
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

string
\begin_inset Quotes erd
\end_inset

, length=255, nullable=false)
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $secretsalt; 
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* Link para entrar como usuario view en ADO
\end_layout

\begin_layout Standard
* @var string $viewsalt 
\end_layout

\begin_layout Standard
*
\end_layout

\begin_layout Standard
* @Assert
\backslash
NotBlank()
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

viewsalt
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

string
\begin_inset Quotes erd
\end_inset

, length=255, nullable=false)
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $viewsalt;
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var string $title 
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @Assert
\backslash
NotBlank() 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

title
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

string
\begin_inset Quotes erd
\end_inset

, length=255, nullable=false)
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $title;
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var text $description 
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

description
\begin_inset Quotes eld
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

text
\begin_inset Quotes eld
\end_inset

, nullable=true) 
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $description;
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var string $URL
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

URL
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

string
\begin_inset Quotes erd
\end_inset

, length=255, nullable=true) 
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $URL; 
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var string $title 
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @Assert
\backslash
NotBlank() 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

title
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

string
\begin_inset Quotes erd
\end_inset

, length=255, nullable=false)
\end_layout

\begin_layout Standard
*/ 
\end_layout

\begin_layout Standard
private $title; 
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var text $description 
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

description
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

text
\begin_inset Quotes erd
\end_inset

, nullable=true)
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $description;
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var string $URL 
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

URL
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

string
\begin_inset Quotes erd
\end_inset

, length=255, nullable=true) 
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $URL; 
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var datetime $date
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

date
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

datetime
\begin_inset Quotes erd
\end_inset

)
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $date;
\end_layout

\begin_layout Standard
/**
\end_layout

\begin_layout Standard
* @var boolean $public
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

public
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

boolean
\begin_inset Quotes erd
\end_inset

, nullable=true)
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $public;
\end_layout

\begin_layout Standard
/**
\end_layout

\begin_layout Standard
* @var boolean $public
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

magic
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

boolean
\begin_inset Quotes erd
\end_inset

, nullable=false)
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $magic; 
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var User $owner
\end_layout

\begin_layout Standard
*
\end_layout

\begin_layout Standard
* @ORM
\backslash
ManyToOne(targetEntity=
\begin_inset Quotes eld
\end_inset

User
\begin_inset Quotes erd
\end_inset

, inversedBy=
\begin_inset Quotes eld
\end_inset

id
\begin_inset Quotes erd
\end_inset

)
\end_layout

\begin_layout Standard
* @ORM
\backslash
JoinColumn(name=
\begin_inset Quotes eld
\end_inset

owner_id
\begin_inset Quotes erd
\end_inset

, referencedColumnName=
\begin_inset Quotes eld
\end_inset

id
\begin_inset Quotes erd
\end_inset

)
\end_layout

\begin_layout Standard
*/ 
\end_layout

\begin_layout Standard
private $owner; 
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var Group $group 
\end_layout

\begin_layout Standard
*
\end_layout

\begin_layout Standard
* @ORM
\backslash
ManyToOne(targetEntity=
\begin_inset Quotes eld
\end_inset

Group
\begin_inset Quotes erd
\end_inset

, inversedBy=
\begin_inset Quotes eld
\end_inset

id
\begin_inset Quotes erd
\end_inset

, cascade={
\begin_inset Quotes eld
\end_inset

remove
\begin_inset Quotes erd
\end_inset

})
\end_layout

\begin_layout Standard
* @ORM
\backslash
JoinColumn(name=
\begin_inset Quotes eld
\end_inset

group_id
\begin_inset Quotes erd
\end_inset

, referencedColumnName=
\begin_inset Quotes eld
\end_inset

id
\begin_inset Quotes erd
\end_inset

) 
\end_layout

\begin_layout Standard
*/ 
\end_layout

\begin_layout Standard
private $group = null;
\end_layout

\begin_layout Standard
/**
\end_layout

\begin_layout Standard
* @var ArrayCollection $users
\end_layout

\begin_layout Standard
*
\end_layout

\begin_layout Standard
* @ORM
\backslash
ManyToMany(targetEntity=
\begin_inset Quotes eld
\end_inset

User
\begin_inset Quotes erd
\end_inset

, cascade={
\begin_inset Quotes eld
\end_inset

remove
\begin_inset Quotes erd
\end_inset

})
\end_layout

\begin_layout Standard
* @ORM
\backslash
JoinTable(name=
\begin_inset Quotes eld
\end_inset

meeting_user
\begin_inset Quotes erd
\end_inset

,joinColumns={@ORM
\backslash
JoinColumn(name=
\begin_inset Quotes eld
\end_inset

meeting_id
\begin_inset Quotes erd
\end_inset

, referencedColumnName=
\begin_inset Quotes eld
\end_inset

id
\begin_inset Quotes erd
\end_inset

)},
\end_layout

\begin_layout Standard
* inverseJoinColumns={@ORM
\backslash
JoinColumn(name=
\begin_inset Quotes eld
\end_inset

user_id
\begin_inset Quotes erd
\end_inset

, referencedColumnName=
\begin_inset Quotes eld
\end_inset

id
\begin_inset Quotes erd
\end_inset

)} ) 
\end_layout

\begin_layout Standard
*/ 
\end_layout

\begin_layout Standard
private $users;
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var ArrayCollection $recordings 
\end_layout

\begin_layout Standard
*
\end_layout

\begin_layout Standard
* @ORM
\backslash
OneToMany(targetEntity=
\begin_inset Quotes erd
\end_inset

Recording
\begin_inset Quotes erd
\end_inset

, mappedBy=
\begin_inset Quotes eld
\end_inset

meeting
\begin_inset Quotes erd
\end_inset

, cascade={
\begin_inset Quotes eld
\end_inset

remove
\begin_inset Quotes erd
\end_inset

}) 
\end_layout

\begin_layout Standard
*/ 
\end_layout

\begin_layout Standard
private $recordings; 
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var ArrayCollection $recordings 
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @ORM
\backslash
OneToMany(targetEntity=
\begin_inset Quotes eld
\end_inset

NickName
\begin_inset Quotes erd
\end_inset

, mappedBy=
\begin_inset Quotes eld
\end_inset

meeting
\begin_inset Quotes erd
\end_inset

, cascade={
\begin_inset Quotes eld
\end_inset

remove
\begin_inset Quotes erd
\end_inset

})
\end_layout

\begin_layout Standard
*/
\end_layout

\begin_layout Standard
private $nicknames;
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var integer $concurrent 
\end_layout

\begin_layout Standard
* 
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

concurrent
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

integer
\begin_inset Quotes erd
\end_inset

)
\end_layout

\begin_layout Standard
*/ 
\end_layout

\begin_layout Standard
private $concurrent = 0;
\end_layout

\begin_layout Standard
/** 
\end_layout

\begin_layout Standard
* @var datetime $created 
\end_layout

\begin_layout Standard
*
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

created
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

datetime
\begin_inset Quotes erd
\end_inset

) 
\end_layout

\begin_layout Standard
*/ 
\end_layout

\begin_layout Standard
private $created;
\end_layout

\begin_layout Standard
/**
\end_layout

\begin_layout Standard
* @var datetime $updated 
\end_layout

\begin_layout Standard
*
\end_layout

\begin_layout Standard
* @ORM
\backslash
Column(name=
\begin_inset Quotes eld
\end_inset

updated
\begin_inset Quotes erd
\end_inset

, type=
\begin_inset Quotes eld
\end_inset

datetime
\begin_inset Quotes erd
\end_inset

) 
\end_layout

\begin_layout Standard
*/ 
\end_layout

\begin_layout Standard
private $updated; 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Función que introduce datos al crear una reunión nueva:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
public function __construct(User $owner = null) { 
\end_layout

\begin_layout Standard
$this->owner = $owner; $this->created = $this->updated = new 
\backslash
DateTime(
\begin_inset Quotes eld
\end_inset

now
\begin_inset Quotes erd
\end_inset

); 
\end_layout

\begin_layout Standard
$this->date = new 
\backslash
DateTime(
\begin_inset Quotes eld
\end_inset

tomorrow
\begin_inset Quotes erd
\end_inset

); 
\end_layout

\begin_layout Standard
$this->users = new 
\backslash
Doctrine
\backslash
Common
\backslash
Collections
\backslash
ArrayCollection(); 
\end_layout

\begin_layout Standard
$this->recordings = new 
\backslash
Doctrine
\backslash
Common
\backslash
Collections
\backslash
ArrayCollection(); 
\end_layout

\begin_layout Standard
}
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Función que devuelve el título de la reunión en forma de cadena de texto
 cuando se solicita el título de dicha varible con la sentecia 
\family typewriter
$variable->getTitle()
\family default
:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
public function __toString() {
\end_layout

\begin_layout Standard
retur $this->title;
\end_layout

\begin_layout Standard
}
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Función que devuelve el estado de la reunión.
\end_layout

\begin_deeper
\begin_layout Standard
Para cada una de las variables definidas en la entidad, se tiene una función
 get y set para recuperar o guardar la variable en el momento que se precise
 y que será transparente para diferentes bases de datos, ya que el 
\shape italic
framework
\shape default
 se encargará de construir la petición según la base de datos que se introduzca
 en el fichero de configuración\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
Las consultas que se almacenan en los repositorios es conveniente que devuelvan
 una entidad según a cual pertenezcan, es decir, las consultas del repositorio
 de la entidad reunión (
\emph on
meeting
\emph default
) devuelven entidades 
\emph on
meeting
\emph default
, aunque no es obligatorio el orden es importante para depurar código\SpecialChar \@.
 El
 repositrio de esta entidad posee las funciones que se describen a continuación:
\end_layout

\begin_layout Itemize

\family typewriter
findByStateAndUser
\family default
: devuelve una entidad 
\emph on
meeting
\emph default
 a partir de un estado de reunión y una entidad usuario (
\emph on
user
\emph default
)\SpecialChar \@.
 La reunión debe encontrarse en el estado de la consulta y pertenecer al
 usuario que se corresponde con dicha entidad\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findByUserAndStatesOrderByRank
\family default
: a partir de una entidad 
\emph on
user
\emph default
 y una lista de estados devuelve entidades 
\emph on
meeting
\emph default
 según el orden de la columna 
\begin_inset Quotes eld
\end_inset

rank
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findByStates
\family default
: selecciona entidades 
\emph on
meeting 
\emph default
que se encuentren en alguno de los estados que se envían a la función\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findByStatesAndMagicRoom
\family default
: recibe como parámetros una lista de estados y un 
\emph on
booleano
\emph default
, según se precise que las entidades 
\emph on
meeting
\emph default
 de retorno sean mágicas o no\SpecialChar \@.
 Es obvio que las entidades se encontrarán
 en alguno de los estados de la lista\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findOneByStateAndTitle
\family default
: devuelve una única entidad a partir de un estado y un título de reunión\SpecialChar \@.

 Las funciones que comienzan por 
\emph on
findOne
\emph default
 poseen una característica especial proporcionada por 
\emph on
Symfony
\emph default
, esta característica consiste en proporcionar un error específico en caso
 de que se encuentre en la base de datos más de un usuario, es por ello,
 que se utiliza para realizar peticiones en las cuales se necesita un error
 en caso de existir más de una respuesta\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findOneByStatesAndTitle
\family default
: devuelve una única entidad a partir de un lista de estados y un título
 de reunión\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findByStateAndUser
\family default
: devuelve entidades 
\emph on
meeting
\emph default
 a partir de un estado y una entidad 
\emph on
user\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findByStatesAndUser
\family default
: devuelve entidades 
\emph on
meeting
\emph default
 a partir de una lista de estados y una entidad 
\emph on
user
\emph default
\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findByStateAndGroup
\family default
: esta consulta devuelve entidades 
\emph on
meeting
\emph default
 con un estado determinado y pertenecientes a un grupo concreto\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findByStateUserAndNotGroup
\family default
: esta consulta ofrece entidades 
\emph on
meeting
\emph default
 con un estado determinado que pertenecen a un usuario concreto y que no
 pertenecen al grupo que se pasa como parámetro\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findByStatesAndUserGroup
\family default
: devuelve entidades que pertenecen a la lista de estados, al usuario y
 grupo que se pasan como parámetros\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findByStatesUserAndMonth
\family default
: devuelve entidades que se encuentran en algún estado de la lista que se
 pasa como parámetro\SpecialChar \@.
 También deben pertenecer al usuario enviado y a haberser
 creado en el mes que se le envía a la función\SpecialChar \@.
 Para ello se suma un mes
 al mes enviado y la petición solicita que la columna 
\begin_inset Quotes eld
\end_inset

date
\begin_inset Quotes erd
\end_inset

 mayor que el mes enviado y menor que la variable a la cual se ha sumado
 el mes\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findByStatesUserAndMonthGroup
\family default
: devuelve entidades 
\emph on
meeting
\emph default
 que se encuentren en algún estado de la lista enviada, que pertenezcan
 al usuario que se pasa a la función, que se haya creado en el mes y pertenezca
 al grupo que se pasan como parámetros\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findMonthsAndRecordings
\family default
: esta es una consulta algo más compleja que devuelve una lista de datos
 en formato tabla en la cual por cada fila tendremos tres columnas para
 poder mostrar el desplegable del botón 
\emph on
All Recordings
\emph default
 que se muestra en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "RecordsUser"

\end_inset

\SpecialChar \@.
 Esta consulta devuelve para un mes del año y un usuario determinado el
 número de reuniones y de grabaciones pertenecientes a dicha reunión para
 poder mostrarlo en el menú de la figura mencionada\SpecialChar \@.
 De esta forma y desplegando
 este menú se tendrá un acceso rápido al número de reuniones y grabaciones
 por mes para acceder más rápidamente a ellas a partir de la ventana emergente
 que se muestra al pulsar el botón 
\emph on
All Recordings\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findMonthsAndRecordingsGroup
\family default
: función idéntica a la anterior pera para un grupo determinado\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findByStateAndNotUser
\family default
: devuelve entidades 
\emph on
meeting
\emph default
 en un estado determinado, para las cuales el propietario no es el usuario
 que se pasa como parámetro\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findHistoricalByUser
\family default
: devuelve una lista de entidades cuya fecha de creación es inferior a la
 actual y pertenecen al usuario que se pase como parámetro a esta función\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findOneBySaltOrSecretSalt
\family default
: devuelve la entidad 
\emph on
meeting
\emph default
 única que contenga en su parámetro 
\emph on
salt
\emph default
 o 
\emph on
secretsalt
\emph default
 el pasado como variable, para hacer la consulta sobre cada uno de los parámetro
 se envía a la función un 
\emph on
booleano\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findOneByViewSalt
\family default
: devuelve la entidad 
\emph on
meeting
\emph default
 unívocamente identificada por su parámetro 
\emph on
viewsalt
\emph default
\SpecialChar \@.

\end_layout

\begin_layout Standard
En la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "Tabla_eMeeting"

\end_inset

 se observan los diferentes campos que incluye la entidad 
\begin_inset Quotes eld
\end_inset

Meeting
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
A continuación, se describe el cometido de las diferentes columnas de la
 tabla\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
El campo 
\begin_inset Quotes eld
\end_inset

id
\begin_inset Quotes erd
\end_inset

 se genera de forma automática al introducir un elemento en la tabla e identific
a cada entidad 
\begin_inset Quotes eld
\end_inset

Meeting
\begin_inset Quotes erd
\end_inset

 dentro de la base de datos de forma única, requisito impuesto por el motor
 MySQL para identificar los contenidos de cada tabla\SpecialChar \@.

\end_layout

\begin_layout Itemize
En la columna 
\begin_inset Quotes eld
\end_inset

owner_id
\begin_inset Quotes erd
\end_inset

 se almacena el identificador correspondiente al propietario y creador de
 cada reunión\SpecialChar \@.

\end_layout

\begin_layout Itemize
\begin_inset Quotes eld
\end_inset

Group_id
\begin_inset Quotes erd
\end_inset

 se corresponde con una funcionalidad 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Out of Scope}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
footnote{Fuera de los objetivos de la versión final.}
\end_layout

\end_inset

, por lo tanto no se ha utilizado en la actual versión del proyecto, pero
 está reservada para una funcionalidad en la que una reunión puede pertenecer
 a un grupo de usuarios además de al usuario creador\SpecialChar \@.

\end_layout

\begin_layout Itemize
La columna 
\begin_inset Quotes eld
\end_inset

state
\begin_inset Quotes erd
\end_inset

 almacena el estado de cada reunión que puede ser 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{NOW, NEW, SCHEDULED, CANCELLED, FINISHED o LOCKED}
\end_layout

\end_inset

\SpecialChar \@.
 
\end_layout

\begin_deeper
\begin_layout Itemize
El estado 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{NOW}
\end_layout

\end_inset

 indica que la reunión está siendo creada y ayuda a sincronizar la base
 de datos ante tiempos de demora.
 También se llega a este estado cuando una reunión con duración y fecha
 está en curso en el momento actual\SpecialChar \@.

\end_layout

\begin_layout Itemize
El estado 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{NEW}
\end_layout

\end_inset

 se corresponde con aquel en el cual una reunión está disponible pero no
 se le ha dado una fecha ni una duración\SpecialChar \@.
 La mayoría de las reuniones se
 encuentran en el estado 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{NEW}
\end_layout

\end_inset

\SpecialChar \@.
 
\end_layout

\begin_layout Itemize
El estado 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{SCHEDULED}
\end_layout

\end_inset

 informa de que la reunión tendrá lugar en el futuro\SpecialChar \@.
 
\end_layout

\begin_layout Itemize
La reunión 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{CANCELLED}
\end_layout

\end_inset

 es aquella que ha sido creada y luego borrada\SpecialChar \@.
 La aplicación almacena datos
 para posteriores estadísticas\SpecialChar \@.
 
\end_layout

\begin_layout Itemize
El estado 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{FINISHED}
\end_layout

\end_inset

 indica que la reunión ha finalizado, funcionalidad desarrollada para la
 versión en la que se podría programar grabaciones y que se describirá con
 detenimiento en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Líneas-Futuras"

\end_inset

\SpecialChar \@.
 
\end_layout

\begin_layout Itemize
Una reunión 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{LOCKED}
\end_layout

\end_inset

 es aquella que el usuario bloquea para que otros usuarios que han sido
 invitados no tengan acceso a la sala (como una llave que cierra la puerta
 a la entrada de la sala de videoconferencia)\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Las columnas 
\begin_inset Quotes eld
\end_inset

salt
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

secretesalt
\begin_inset Quotes erd
\end_inset

 y 
\begin_inset Quotes eld
\end_inset

viewsalt
\begin_inset Quotes erd
\end_inset

 almacenan una cadena de caracteres, referentes a la reunión a la que pertenecen
, creada para dar un acceso con diferentes privilegios a usuarios tanto
 internos como externos a la aplicación\SpecialChar \@.

\end_layout

\begin_deeper
\begin_layout Itemize
Si la URL que recibe un usuario invitado a una videoconferencia contiene
 el 
\begin_inset Quotes eld
\end_inset

viewsalt
\begin_inset Quotes erd
\end_inset

 el usuario tendrá privilegios de presentador\SpecialChar \@.

\end_layout

\begin_layout Itemize
Si por el contrario contiene el 
\begin_inset Quotes eld
\end_inset

secretsalt
\begin_inset Quotes erd
\end_inset

 el usuario tendrá unos privilegios similares al creador de la reunión\SpecialChar \@.
 
\end_layout

\begin_layout Itemize
La variable 
\begin_inset Quotes eld
\end_inset

salt
\begin_inset Quotes erd
\end_inset

 guarda una URL simple que contiene el título de la reunión, este hecho
 simplificará el trabajo a la hora de acceder a la reunión en el caso de
 usuarios que tienen acceso a la aplicación\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
La variable 
\begin_inset Quotes eld
\end_inset

title
\begin_inset Quotes erd
\end_inset

 guarda el título dado a la reunión\SpecialChar \@.

\end_layout

\begin_layout Itemize
En 
\begin_inset Quotes eld
\end_inset

description
\begin_inset Quotes erd
\end_inset

 se guarda, si se considera oportuno, una breve descripción de la reunión
 que aparecerá en la página principal acompañando a cada reunión\SpecialChar \@.

\end_layout

\begin_layout Itemize
La columna 
\begin_inset Quotes eld
\end_inset

url
\begin_inset Quotes erd
\end_inset

 contiene la URL de acceso a cada reunión y de esta forma se dispone de
 un acceso rápido para ofrecerla en cualquier parte del código\SpecialChar \@.

\end_layout

\begin_layout Itemize
\begin_inset Quotes eld
\end_inset

date
\begin_inset Quotes erd
\end_inset

 indica la fecha de creación de la reunión, esta columna podría utilizarse
 para otros usos si fuese necesario debido a la existencia de la columna
 
\begin_inset Quotes eld
\end_inset

created
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize
\begin_inset Quotes eld
\end_inset

public
\begin_inset Quotes erd
\end_inset

 es una columna con valor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{booleano}
\end_layout

\end_inset

 que indica si la reunión es pública (en caso de ser cierta) o privada (en
 caso de ser falsa)\SpecialChar \@.

\end_layout

\begin_layout Itemize
\begin_inset Quotes eld
\end_inset

magic
\begin_inset Quotes erd
\end_inset

 es otra columna 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{booleana}
\end_layout

\end_inset

 que indica si la reunion es mágica o no para poder otorgarle los privilegios
 oportunos como se ha visto en la subsección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Sala-mágica"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize
La columna 
\begin_inset Quotes eld
\end_inset

created
\begin_inset Quotes erd
\end_inset

 almacena la fecha de creación de la reunión\SpecialChar \@.

\end_layout

\begin_layout Itemize
La columna 
\begin_inset Quotes eld
\end_inset

updated
\begin_inset Quotes erd
\end_inset

 indica si se ha modificado alguna variable de la reunión y facilita la
 toma decisiones a la hora de eliminar o dar acceso a las reuniones\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.5cm
\end_inset


\begin_inset Graphics
	filename Diseño/Imagenes base de datos/User.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Tabla para Usuarios
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Tabla_usuario"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Usuario
\end_layout

\begin_deeper
\begin_layout Standard
Esta tabla posee todos los datos necesarios para identificar a un usuario
 que pertenece al sistema\SpecialChar \@.
 Fecha de inicio en la aplicación, correo electrónico,
 nombre y contraseña\SpecialChar \@.
 La lógica de la entidad 
\emph on
user 
\emph default
genera la tabla mostrada en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "Tabla_usuario"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
El repositorio de esta entidad posee las siguientes funciones:
\end_layout

\begin_layout Itemize

\family typewriter
findOneUserByEmail
\family default
: esta función encuentra un único usuario en la base de datos identificado
 por su correo electrónico\SpecialChar \@.
 El correo electrónico es único para cada usuario
 y una herramienta potente para idenificar usuarios de forma única\SpecialChar \@.
 
\end_layout

\begin_layout Itemize

\family typewriter
findUsersByTerm
\family default
: es la petición utilizada para la función autocompletar que se explicará
 en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:URLs-de-acceso"

\end_inset

\SpecialChar \@.
 Esta petición recibe tres letras como mínimo y devuelve la entidad o entidades
 de usuario que contengan esas letras en el mismo orden en cualquiera de
 las columnas que forman la tabla de usuario\SpecialChar \@.

\end_layout

\begin_layout Standard
En la tabla 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{user}
\end_layout

\end_inset

, ver figura
\begin_inset CommandInset ref
LatexCommand ref
reference "Tabla_usuario"

\end_inset

, se almacenan datos referentes al usuario\SpecialChar \@.
 Por simple inspección se intuye
 qué tipo de parámetros del usuario se guardan en cada columna de esta tabla\SpecialChar \@.

 De nuevo se tiene una variable 
\begin_inset Quotes eld
\end_inset

id
\begin_inset Quotes erd
\end_inset

 imprescindible para el motor MySQL y poder así identificar cada entidad
 dentro de la tabla de forma única\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.5cm
\end_inset


\begin_inset Graphics
	filename Diseño/Imagenes base de datos/Recording.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Tabla para grabaciones
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Tabla_grabaciones"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Grabaciones
\end_layout

\begin_deeper
\begin_layout Standard
En la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "Tabla_grabaciones"

\end_inset

, se observan los datos que se almacenan de cada grabación\SpecialChar \@.
 Son destacables
 las columnas 
\begin_inset Quotes eld
\end_inset

meeting_id
\begin_inset Quotes erd
\end_inset

 que almacena el identificador de la reunión a la que pertenece la grabación
 o 
\begin_inset Quotes eld
\end_inset

state
\begin_inset Quotes erd
\end_inset

 que almacena el estado de cada grabación como se explicará en la sección
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Diseño-de-la"

\end_inset

\SpecialChar \@.
 Este estado puede ser 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{REACHABLE}
\end_layout

\end_inset

 cuando tenemos acceso a la grabación o 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{LOCKED}
\end_layout

\end_inset

 cuando la grabación está bloqueada y no se tiene acceso a ella\SpecialChar \@.
 Otros datos
 que se almacena son el título de la grabación, la URL de acceso a la misma
 y la fecha de creación\SpecialChar \@.

\end_layout

\begin_layout Standard
El repositorio de esta entidad posee la siguiente función:
\end_layout

\begin_layout Itemize

\family typewriter
findOneRecordingByTitle
\family default
: devuelve una entidad grabación 
\emph on
(recording)
\emph default
 a partir del título de una grabación\SpecialChar \@.
 Este hecho es posible debido a que
 el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 no permite grabaciones con el mismo nombre\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Nickname
\end_layout

\begin_deeper
\begin_layout Standard
Esta entidad posee un identificador, el sobrenombre
\emph on
 
\emph default
(
\emph on
nickname
\emph default
) que el usuario tendrá en cada reunión en la que participe y una breve
 descripción en caso de que fuese necesaria\SpecialChar \@.
 Otra columna de esta tabla salvaguar
da el identificador de las reuniones que cada usuario haya minimizado en
 su interfaz como se puede ver en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "ReduceMeeting"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
Su repositorio consta de las siguientes funciones:
\end_layout

\begin_layout Itemize

\family typewriter
findOneNickNameByUserAndMeeting
\family default
: esta función devuelve la entidad 
\emph on
nickname
\emph default
 a la que pertenece la entidad usuario y la entidad reunión que se pasan
 como parámetro\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findNickNameByUserOrderByRank
\family default
: devuelve la entidad 
\emph on
nickname
\emph default
 a partir de una entidad de usuario ordenada por orden de importancia\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findOneMinimizedByMeeting
\family default
: hace una petición a la base de datos para devolver una entidad 
\emph on
nickname 
\emph default
en caso de que la reunión se visualice como minimizada\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3cm
\end_inset


\begin_inset Graphics
	filename Diseño/Imagenes base de datos/Log.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Tabla para almacenar datos estadísticos parciales
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Log"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Estadísticas parciales y totales (Log y Log Total)
\end_layout

\begin_deeper
\begin_layout Standard
Ambas entidades son muy similares\SpecialChar \@.
 Ambas poseen una columna para guardar
 el momento en el que se almacenan los datos\SpecialChar \@.
 La primera posee el identificador
 de la reunión para relacionar los datos almacenados, el número de participantes
 de la reunión y la duración\SpecialChar \@.
 La segunda posee el número de participantes
 totales en el servidor en el momento de la consulta del cron descrito en
 la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:CRON"

\end_inset

 y el número de salas activas\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Estas entidades no poseen un repositorio ya que se actúa directamente sobre
 sus columnas para acceder a los datos\SpecialChar \@.
 Por tanto las peticiones simples
 proporcionadas a la entidad por 
\emph on
Symfony
\emph default
 son suficientes\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En las figuras 
\begin_inset CommandInset ref
LatexCommand ref
reference "Log"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "Log_total"

\end_inset

, se muestra un esquema de las tablas que almacenan los datos estadísticos
 a partir de las funciones que se ejecutan en el cron como se ha detallado
 en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:CRON"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
En la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "Log"

\end_inset

 podemos observar variables propias de una reunión concreta\SpecialChar \@.
 
\end_layout

\begin_layout Itemize
La columna 
\begin_inset Quotes eld
\end_inset

datetime
\begin_inset Quotes erd
\end_inset

 guarda la fecha y hora de inicio de una reunión según el formato 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{datetime}
\end_layout

\end_inset

 de PHP\SpecialChar \@.

\end_layout

\begin_layout Itemize
La columna 
\begin_inset Quotes eld
\end_inset

sco_id
\begin_inset Quotes erd
\end_inset

 almacena un identificador único para cada reunión dentro del servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize
Las columnas 
\begin_inset Quotes eld
\end_inset

participants
\begin_inset Quotes erd
\end_inset

 y 
\begin_inset Quotes eld
\end_inset

length_minutes
\begin_inset Quotes erd
\end_inset

 guardan el número máximo de participantes de cada reunión y la duración
 en minutos de la misma\SpecialChar \@.

\end_layout

\begin_layout Standard
Por su parte en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "Log_total"

\end_inset

 se puede ver la tabla en la cual se almacenan estadíticas totales del sistema
 y no referentes a una única reunión\SpecialChar \@.

\end_layout

\begin_layout Itemize
La variable 
\begin_inset Quotes eld
\end_inset

datetime
\begin_inset Quotes erd
\end_inset

 almacena la fecha y hora del momento en el cual se tomó la muestra, es
 decir, el momento en el que el cron ejecutó el comando correspondiente
 que rellena esta tabla\SpecialChar \@.

\end_layout

\begin_layout Itemize
En la variable 
\begin_inset Quotes eld
\end_inset

participants
\begin_inset Quotes erd
\end_inset

 se guarda el número total de participantes activos en el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

, es decir, el número de usuarios que están participando en una videoconferencia\SpecialChar \@.

\end_layout

\begin_layout Itemize
En la variable 
\begin_inset Quotes eld
\end_inset

active_rooms
\begin_inset Quotes erd
\end_inset

 se guarda el número de salas de videoconferencia que están siendo utilizadas\SpecialChar \@.

\end_layout

\begin_layout Standard
Estas dos últimas variables serán procesadas por la función que hace referencia
 a ellas en el cron de forma que si se llega a una zona próxima a la saturación
 se enviará un correo electrónico al administrador del sistema para advertirle
 de tal situación\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3cm
\end_inset


\begin_inset Graphics
	filename Diseño/Imagenes base de datos/Log_Total.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Tabla para almacenar datos estadísticos totales
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Log_total"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
La figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "meeting_user"

\end_inset

, es una tabla creada por Symfony a petición del programador y que almacena
 de forma automática un cruce de datos entre tablas, en este caso relaciona
 los identificadores de reuniones con sus respectivos usuarios\SpecialChar \@.
 De esta forma
 se tendrá acceso a las tablas de reuniones y de usuarios en cualquier parte
 de nuestro código únicamente accediendo a uno de estos dos identificadores\SpecialChar \@.

 Se podrá acceder a los datos de todas las reuniones de un usuario a partir
 de su identificador, a la vez que se podrán recorrer los datos de todos
 los usuarios de una reunión a partir del identificador de la reunión\SpecialChar \@.
 Al
 disponer de esta tabla es posible acceder al nombre de un grupo a partir
 de un usuario que pertenezca a ese grupo sin más que realizar las instrucciones
:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
$Group_name=$user->getGroup()->getName();
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.5cm
\end_inset


\begin_inset Graphics
	filename Diseño/Imagenes base de datos/Meeting_user.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Tabla de cruce de las tablas meeting y user
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "meeting_user"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Muchas de estas asociaciones son indispensables para legitimar con facilidad
 los permisos que se da a cada rol de usuario sobre las reuniones o para
 acceder a información dentro de los controladores de aplicación o servicios,
 incluso para interactuar con el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

, ya que en funciones determinadas se obtiene información sobre los permisos
 de acceso de un usuario a partir de la 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{cookie}
\end_layout

\end_inset

 generada por el servidor\SpecialChar \@.
 Estas y otras útiles funcionalidades se encuentran
 disponibles gracias a esta tabla\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.5cm
\end_inset


\begin_inset Graphics
	filename Diseño/Imagenes base de datos/Staff.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Tabla para grupos
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Tabla_grupos"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
La tabla 
\begin_inset CommandInset ref
LatexCommand ref
reference "Tabla_grupos"

\end_inset

 está diseñada para guardar los datos de grupos de usuario\SpecialChar \@.
 Como se puede
 observar, las columnas almacenan el nombre del grupo, una breve descripción
 y el tipo de grupo que compone la tabla\SpecialChar \@.
 Esta tabla no es utilizada debido
 a la no implementación en la versión en producción de la lógica para grupos
 diseñada en primera instancia\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.5cm
\end_inset


\begin_inset Graphics
	filename Diseño/Imagenes base de datos/Users_staffs.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Tabla para el cruce de datos entre grupos y usuarios
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Como complemento a la tabla de grupos, mediante la configuración de la entidad
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{group}
\end_layout

\end_inset

 y de la entidad 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{user}
\end_layout

\end_inset

 de Symfony se realiza el cruce en la base de datos de los identificadores
 de ambas entidades mediante una relación 
\begin_inset Quotes eld
\end_inset

n→n
\begin_inset Quotes erd
\end_inset

, ya que un usuario puede pertenecer a 
\begin_inset Quotes eld
\end_inset

n
\begin_inset Quotes erd
\end_inset

 grupos y un grupo puede contener 
\begin_inset Quotes eld
\end_inset

n
\begin_inset Quotes erd
\end_inset

 usuarios\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Después de diseñar la base de datos se debe especificar a Symfony qué base
 de datos usará, para lo cual se ejecuta la siguiente instrucción:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
php symfony configure:database --name=doctrine --class=sfDoctrineDatabase
 
\begin_inset Quotes eld
\end_inset

mysql:host=localhost; dbname=emeeting
\begin_inset Quotes erd
\end_inset

 root mYsEcret
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Especificación de la organización
\end_layout

\begin_layout Standard
En toda organización existen diferentes tipos de usuarios y cada usuario
 puede acceder a la aplicación y en este caso a las reuniones con diferentes
 roles como los que se pueden observar en el cuadro 
\begin_inset CommandInset ref
LatexCommand ref
reference "Tipos_usuarios"

\end_inset

\SpecialChar \@.
 En esta sección se describirá el modo de acceso para usuarios registrados
 o ajenos a la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float table
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 1.2cm
\end_inset


\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tipo de Usuario - Role
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Owner
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Presenter
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Participant
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Administrator
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DigiMar Partner
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
External Partner
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Tipos de usuarios frente a tipos de registro en la aplicación
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Tipos_usuarios"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Definición de roles de acceso a la aplicacion eMeeting
\begin_inset CommandInset label
LatexCommand label
name "sub:Definición-de-roles"

\end_inset


\end_layout

\begin_layout Standard
En esta subsección se detallarán los diferentes tipos de acceso que concede
 la aplicación eMeeting sobre las salas creadas en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Owner
\end_layout

\begin_deeper
\begin_layout Standard
Este tipo de usuario forma parte de los usuarios de DigiMar\SpecialChar \@.
 Es el creador
 de la sala\SpecialChar \@.
 En el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 recibe el nombre de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{mini-host}
\end_layout

\end_inset

\SpecialChar \@.
 Es el único con el privilegio de eliminar la sala y poder grabar las reuniones\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Presenter
\end_layout

\begin_deeper
\begin_layout Standard
Este tipo de usuario no necesita formar parte de los usuarios de DigiMar,
 es posible que algún miembro de DigiMar ofrezca alguna de las formas de
 acceso descritas en la subsección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Acceso-a-las"

\end_inset

, en las cuales el usuario puede interactuar en la sala pero no puede grabar
 reuniones\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Participant
\end_layout

\begin_deeper
\begin_layout Standard
Es el usuario con menos privilegios, no le está permitido grabar ni interactuar
 en la sala, únicamente puede observar a los diferentes usuarios participando
 en la reunión\SpecialChar \@.
 Esta funcionalidad es muy útil para ponencias o conferencias
 en las que sólo pueden participar los asistentes físicos a las mismas\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Definición de roles internos de eMeeting para 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Standard
La aplicación permite dos tipos de roles internos, de los cuales el administrado
r posee privilegios que hacen única la gestión de la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Administrador
\end_layout

\begin_deeper
\begin_layout Standard
Este usuario tiene acceso a la base de datos de la aplicación y puede manipular
 los contenidos a su voluntad\SpecialChar \@.
 La siguiente lista hace referencia a las funcional
idades particulares de los administradores y nos ofrece una visión de las
 posibilidades de la aplicación\SpecialChar \@.

\end_layout

\begin_layout Itemize
El administrador tiene acceso a las estadísticas de la aplicación\SpecialChar \@.
 Mediante
 gráficos realizados con el API de Javascript jQuery-kamicgraphs, es posible
 conecer el número máximo de salas concurrentes para tener una visión de
 la utilización de las salas, opción altamente útil, ya que las licencias
 de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 son un bien limitado\SpecialChar \@.
 Del mismo modo, la aplicación genera correos electrónicos
 para los administradores cuando se llega a puntos críticos de utilización
 del servicio\SpecialChar \@.

\end_layout

\begin_layout Itemize
El administrador puede dar privilegios a ciertas salas para que siempre
 se encuentren disponibles.
 Este es el concepto de sala mágica que se ha descrito en la subsección
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Sala-mágica"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Usuario estándar
\end_layout

\begin_deeper
\begin_layout Standard
La mayoría de los usuarios poseerán este tipo de acceso que permite crear
 y borrar salas dentro de la aplicación y la gestión de los mismas\SpecialChar \@.
 Este
 tipo de usuario podrá invitar a sus reuniones a usuarios externos a la
 base de datos de DigiMar\SpecialChar \@.
 Los usuarios externos serán monitorizados desde
 el acceso anónimo que se describe a continuación\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize

\series bold
Acceso anónimo
\end_layout

\begin_deeper
\begin_layout Standard
Cuando un usuario es invitado desde una URL generada para tal efecto, se
 le redirige a una pantalla de acceso, en la cual, se da la opción de ingresar
 en la aplicación como usuario de DigiMar o entrar como usuario anónimo\SpecialChar \@.

\end_layout

\begin_layout Standard
La URL generada para este efecto tiene dos roles, presentador o participante,
 estos roles serán otorgados por el propietario (
\begin_inset Quotes eld
\end_inset


\shape slanted
owner
\shape default

\begin_inset Quotes erd
\end_inset

) de la reunión\SpecialChar \@.
 El enlace para entrar como anónimo se construye a traves
 de la URL que se le envía, apareciendo el parámetro 
\shape slanted
guest=true
\shape default
 en la URL, lo cual hace que por defecto el panel de acceso anónimo marque
 la opción de entrar como huesped\SpecialChar \@.
 En cualquier otro caso la opción marcada
 por defecto será un formulario para entrar como usuario de DigiMar\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.7cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Entrada de acceso anonimo.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Acceso anónimo
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "AnonymousAccess"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
El interfaz de usuario
\begin_inset CommandInset label
LatexCommand label
name "sec:El-interfaz-de"

\end_inset


\end_layout

\begin_layout Standard
En esta sección describiremos las modificaciones y las decisiones de diseño
 que se han tomado en el interfaz de usuario desde el inicio de la implementació
n\SpecialChar \@.
 Esta sección ayudará al lector en la interpretación de las diferentes
 funciones que se describirán a lo largo del capítulo y la relación de éstas
 con el interfaz de usuario\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Como se puede ver en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "wrap:maqueta_1_version"

\end_inset

, así nació el primer interfaz de usuario para esta aplicación en el cual
 se tenía clara la información que se debe visualizar, pero no tanto la
 experiencia de usuario ante la visión de la información\SpecialChar \@.
 Para el boceto
 de diseño de las primeras versiones de interfaz se ha utilizado la herramienta
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Mockups}
\end_layout

\end_inset

 de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Balsamiq}
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-19}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 1.6cm
\end_inset


\begin_inset Graphics
	filename Diseño/boceto.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Maqueta de la primera versión
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "wrap:maqueta_1_version"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "wrap:maqueta_1_version"

\end_inset

 se observa lo esencial de una funcionalidad para crear una nueva reunión
 (botón 
\begin_inset Quotes eld
\end_inset

+ 
\emph on
Meeting
\emph default

\begin_inset Quotes erd
\end_inset

) y un botón para agregar usuarios a la reunión (
\begin_inset Quotes eld
\end_inset

+ 
\emph on
Partner to Meeting
\emph default

\begin_inset Quotes erd
\end_inset

)\SpecialChar \@.
 Aparecen los datos que se muestrasnpara cada reunión, tales como el título,
 un enlace para invitar usuarios ajenos a la aplicación, una pequeña descripción
 y un botón para eliminar la reunión (
\begin_inset Quotes eld
\end_inset

Cancel Meeting
\begin_inset Quotes erd
\end_inset

)\SpecialChar \@.
 En la parte superior central se vislumbra la idea de un mensaje superpuesto
 sobre la pantalla que alerta al usuario que acaba de crear una reunión
 (
\begin_inset Quotes eld
\end_inset


\emph on
Meeting created
\emph default

\begin_inset Quotes erd
\end_inset

)\SpecialChar \@.
 Este mensaje se desvanece progresivamente gracias a una funcionalidad
 de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{jQuery UI}
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-13}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 1cm
\end_inset


\begin_inset Graphics
	filename Diseño/versión_1.png
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Primer interfaz de usuario visualizado en el explorador
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "interfaz1"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
A partir de la maqueta que observamos en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "wrap:maqueta_1_version"

\end_inset

 se ha implementado un interfaz elemental como el de la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "interfaz1"

\end_inset

, para facilitar un avance más diligente\SpecialChar \@.
 Se puede concluir que no es muy
 atractivo, pero las funcionalidades más importantes, como el enlace para
 invitar a otros usuarios o las URLs para usuarios ajenos se han implementado
 y agilizarán la evolución del interfaz y de las funcionalidades finales\SpecialChar \@.

 La necesidad de un interfaz más intuitivo en términos generales era obvia\SpecialChar \@.

 El enriquecimiento del estilo también debía ocupar parte de nuestro tiempo
 para realizar un interfaz elegante y afín al usuario final\SpecialChar \@.
 Decisiones y
 tiempo después se realizó un interfaz más atractivo y se empezó a evaluar
 la posibilidad de un panel de control en la parte superior del interfaz
 disponible en cualquier página de la aplicación que facilitase su navegación,
 como se puede observar en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "intefaz_final"

\end_inset

\SpecialChar \@.
 La presencia de jQuery UI se hacía indispensable para abordar problemas
 complejos de diseño y rematar la aplicación con un diseño sugerente\SpecialChar \@.
 Todas
 las ventanas emergentes y los efectos visuales que aparecen al presionar
 los botones de la aplicación han sido diseñados utilizando jQuery UI 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-13}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.3cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/meetingApp.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Versión final del interfaz de usuario
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "intefaz_final"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Botonera para cada reunión
\begin_inset CommandInset label
LatexCommand label
name "sub:Botonera-para-cada"

\end_inset


\end_layout

\begin_layout Standard
Se describen a continuación las funciones de los botones que se contemplan
 en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "BotoneraParaCadaReunión"

\end_inset

\SpecialChar \@.
 En esta figura se observa la botonera para administradores, como pecualiaridad
 cabe comentar la sutil diferencia entre la figura a) y la figura b) que
 posee el botón para cambiar una reunión al estado mágica ya que este menú
 es diferente para usuarios administradores\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.5cm
\end_inset


\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/botonera_lateral_noAdmin.jpg
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Botonera para no administradores
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset space \hspace{}
\length 1.5cm
\end_inset


\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/botonera_lateral_admin.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Botonera para administador
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Botonera para cada reunión
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "BotoneraParaCadaReunión"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Join
\end_layout

\begin_deeper
\begin_layout Standard
Como se observa en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "intefaz_final"

\end_inset

 el único botón verde y el de mayor tamaño por su importancia permite el
 acceso a la sala para disfrutar de la videoconferencia\SpecialChar \@.
 Cuando el usuario
 pulse este botón se abrirá un 
\emph on
iframe
\emph default
 en el explorador que contendrá la ventana de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 con la URL que se haya configurado para esta sala\SpecialChar \@.
 La URL de la sala cambia
 en función del estado de la misma, lógica que se ha explicado en la sección
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Concepto-de-sala"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Disabled
\end_layout

\begin_deeper
\begin_layout Standard
Deshabilita la sala temporalmente\SpecialChar \@.
 Este botón sólo está disponible para el
 dueño de la sala\SpecialChar \@.
 Cuando se pincha en este botón se llama a la función asociada
 y mediante el método POST se pasa una variable 
\emph on
booleana
\emph default
 en función de si la sala se encuentra habilitada o deshabilitada para alternar
 su estado entre uno u otro\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Delete
\end_layout

\begin_deeper
\begin_layout Standard
Elimina la sala de la lista de reuniones disponibles en el interfaz de usuario\SpecialChar \@.

 Sin embargo, se ha decidido por diseño que una reunión nunca se elimine
 por completo del sistema, es decir, se borra del servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

, pero nunca de la base de datos de la aplicación de forma que en el botón
 
\shape slanted
\emph on
A
\shape default
ll
\emph default
 
\emph on
Recordings
\emph default
 siempre estarán disponibles las reuniones eliminadas con su correspondiente
 lista de grabaciones\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Minimized_rooms.png
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Lista de reuniones reducida
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "ReduceMeeting"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Icono de flecha
\end_layout

\begin_deeper
\begin_layout Standard
Este icono situado a la derecha del botón Delete, nos da la posibilidad
 de modificar la vista de la reunión\SpecialChar \@.
 De esta forma el usuario puede observar
 más reuniones en la parte superior de la página, como se puede observar
 en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "BotoneraParaCadaReunión"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Recordings
\end_layout

\begin_deeper
\begin_layout Standard
Proporciona el acceso a las grabaciones de la reunión a la que pertenece
 el botón\SpecialChar \@.
 Las grabaciones que aparecen en la figura ya han finalizado, y
 aparecen después de ejecutarse la correspondiente función en el cron que
 se mencionó en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:CRON"

\end_inset

 en la ventana emergente que se despliega al pulsar en el botón 
\emph on
All recordings
\emph default
\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Change NickName
\end_layout

\begin_deeper
\begin_layout Standard
Ofrece la posibilidad de cambiar el nombre de usuario que aparecerá en cada
 reunión de videoconferencia\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
También se muestra un párrafo con información sobre la sala:
\end_layout

\begin_deeper
\begin_layout Enumerate
Fecha de creación de la sala\SpecialChar \@.

\end_layout

\begin_layout Enumerate
Tipo de sala, ya sea pública o privada\SpecialChar \@.

\end_layout

\begin_layout Enumerate
Número de usuarios de 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 invitados a la reunión\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 5cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/eMeeting Final Help/TextoToInvite.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Texto por defecto para invitar a usuarios a reuniones
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "InviteText"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Sobre 
\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/eMeeting Final Help/miniatura_letter.png
	scale 60

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
Al pulsar sobre este icono se despliega una ventana emergente como la de
 la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "InviteText"

\end_inset

\SpecialChar \@.
 Nos muestra un texto destinado a usuarios ajenos a la aplicación de forma
 que si lo reciben puedan disfrutar de la sala a partir de la URL que se
 incluye\SpecialChar \@.
 El texto contiene las instrucciones necesarias para entrar a la
 sala y la ventana emergente un icono interrogante como el descrito a continuaci
ón con las directrices necesarias para enviarlo\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Interrogante 
\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/eMeeting Final Help/miniatura_question.png
	scale 60

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
Este icono aparece a lo largo de la aplicación y con la ayuda de la librería
 jQuery-tipTip emerge un mensaje al pasar el puntero por encima que explica
 la funcionalidad del elemento al que acompaña, ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "EmergentHelp"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 0.8cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/TipTipText.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Mensaje emergente de ayuda
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "EmergentHelp"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Botón de recarga 
\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/eMeeting Final Help/miniatura_reload.png
	scale 60

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
Este icono ofrece la posibilidad de modificar los enlaces para invitar a
 usuarios externos que se muestran en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "InviteUsers"

\end_inset

\SpecialChar \@.
 De esta forma puede invitarse a una lista de usuarios a una reunión con
 estos enlaces y en el futuro invalidar esos enlaces para invitar a otro
 grupo de usuarios de forma que los primeros no tendrán acceso a la reunión\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Url de enlace para otros usuarios:
\end_layout

\begin_deeper
\begin_layout Itemize
Presenter Access
\end_layout

\begin_deeper
\begin_layout Standard
Este enlace proporciona a su poseedor privilegios de presentador en la reunión,
 como se adelanta en la subsección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Definición-de-roles"

\end_inset

\SpecialChar \@.
 Un presentador podrá introducir contenido en la sala, como presentaciones
 o compartir su escritorio\SpecialChar \@.
 Sin duda podrá compartir la imagen de su cámara
 web y el audio\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Limited Access
\end_layout

\begin_deeper
\begin_layout Standard
Por el contrario, este enlace otorga la posibilidad de disfrutar de la reunión,
 pero no se podrá participar de forma activa en ella\SpecialChar \@.
 Tampoco tendrá la opción
 de compartir su cámara web o su audio\SpecialChar \@.

\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Invite DigiMar Users
\end_layout

\begin_deeper
\begin_layout Standard
Se podrá invitar a una videoconferencia a usuarios ya registrados en la
 aplicación, a partir de una lista generada con la técnica de autocompletar\SpecialChar \@.

 Para implementar esta ventana se ha empleado la librería jQuery y la tecnología
 AJAX\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 4.5cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/InviteUsers.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Modos de invitación de usuarios a una reunión
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "InviteUsers"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Botonera superior de menú
\begin_inset CommandInset label
LatexCommand label
name "sub:Botonera-superior-de"

\end_inset


\end_layout

\begin_layout Standard
Esta botonera situada en la parte superior del cuerpo central de la web,
 como se puede ver en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "MenuSuperior"

\end_inset

, nos proporciona el acceso a las funciones globales de la aplicación que
 pasamos a describir a continuación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 0.6cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/Botonera_superior.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Menú superior
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "MenuSuperior"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Itemize

\emph on
All Recordings
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 4cm
\end_inset


\begin_inset Graphics
	filename Diseño/achievement_files.png
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Ventana emergente para 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{All recordings}
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "achievement_files"

\end_inset


\end_layout

\end_inset

Desde este botón se accede a una lista de reuniones como la mostrada en
 la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "achievement_files"

\end_inset

 que han finalizado\SpecialChar \@.
 Nos ofrece información sobre su fecha y hora de creación
 y la lista de grabaciones en caso de existir\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 
\emph on
Test
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.4cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/adobe connect test.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Prueba de conexión de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "TestAdobe"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Se accede a una prueba de conexión facilitada por 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 para ofrecer al usuario la seguridad de que existe conexión con el servidor\SpecialChar \@.

 Es un archivo Flash alojado en el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

, que descarga un 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{applet}
\end_layout

\end_inset

 en nuestro navegador para realizar las pruebas de conexión visualizándose
 un menú similar al de la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "TestAdobe"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize

\emph on
eMeeting Help
\end_layout

\begin_deeper
\begin_layout Standard
Al pinchar sobre este botón se accede a una ayuda que indica las diferentes
 funcionalidades proporcionadas por 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{eMeeting}
\end_layout

\end_inset

 y explica cómo se utilizan\SpecialChar \@.
 Los usuarios podrán resolver las diferentes
 dudas que puedan surgir sin más que ojear esta página\SpecialChar \@.
 Ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "HelpMeeting"

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize

\emph on
All eMeetings 
\end_layout

\begin_deeper
\begin_layout Standard
Este botón permite filtrar las reuniones de un tipo determinado, ya sean
 públicas, privadas, mágicas en caso del usuario administrador, las reuniones
 a las que ha sido invitado el usuario y la opción marcada por defecto,
 de ahí el nombre que vemos en la figura, que muestra todas las reuniones
 del usuario\SpecialChar \@.
 Este desplegable puede verse en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "FilterMeeting"

\end_inset

, donde también puede observarse el código de colores relacionado con cada
 tipo de reunión\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 0.8cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/FilterMeeting.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Desplegable para el filtro de reuniones
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "FilterMeeting"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Admin
\end_layout

\begin_deeper
\begin_layout Standard
Este botón sólo aparece en el menú de los administradores de la aplicación
 y permite acceder a funcionalidades para actuar directamente sobre la base
 de datos o visualizar las estadísticas de la aplicación en tiempo real\SpecialChar \@.

 Una de las funcionalidades a destacar es la posibilidad de poder modificar
 el estado de las reuniones a pesar de no ser el dueño\SpecialChar \@.
 Ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "AdminMenu"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
+ eMeetings
\end_layout

\begin_deeper
\begin_layout Standard
En la ventana modal que se desplegará al pinchar sobre este botón se podrá
 seleccionar el título de la reunión, un sobrenombre de usuario que se visualiza
rá en la sala, invitar usuarios de 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 a la nueva reunión y determinar el carácter de la sala (pública o privada)\SpecialChar \@.

 El campo descripción es opcional\SpecialChar \@.
 Ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "CreateMeeting"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.1cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/creandoeMeetingpublico.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Menú e creación de reuniones
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "CreateMeeting"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Change Password
\end_layout

\begin_deeper
\begin_layout Standard
Se accede a una ventana modal que permite cambiar la contraseña de acceso
 a la aplicación.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Funciones PHP asociadas a la botonera
\end_layout

\begin_layout Standard
En esta subsección se describirán las funciones relacionadas con los botones
 que se han descrito en las secciones anteriores\SpecialChar \@.
 De esta forma se verán
 en detalle las comprobaciones y la lógica que se realiza en cada botón
 y que permanece transparente al usuario\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Join
\end_layout

\begin_deeper
\begin_layout Standard
Este botón realiza una serie de comprobaciones antes de acceder a la reunión
 correspondiente en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.
 Comprueba el número de eMeetings simultáneos ya que está limitado por las
 licencias compradas por el administrador del servidor de conexión a 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.
 Comprueba que la sala todavía existe y que se tienen los privilegios necesarios
 para disfrutar el eMeeting, ya que el usuario creador ha podido desahibilitar
 la sala o incluso eliminarla antes de que la página se recargue y por tanto
 todavía podría aparecer como activa en nuestro interfaz\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Enabled/Disabled
\end_layout

\begin_deeper
\begin_layout Standard
Con este botón el creador del eMeeting puede habilitar y deshabilitar la
 sala a su voluntad impidiendo la entrada a todos los usuarios, incluso
 aunque tengan acceso desde la puerta trasera creada en las salas privadas,
 acceso descrito en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Concepto-de-sala"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Delete
\end_layout

\begin_deeper
\begin_layout Standard
Con este botón se elimina la sala del interfaz de usuario y también de todos
 los usuarios invitados al eMeeting.
 Únicamente el creador del 
\emph on
eMeeting
\emph default
 tiene el privilegio de eliminar su sala para evitar futuros conflictos
 y potenciar que los usuarios creen sus propias salas\SpecialChar \@.

\end_layout

\begin_layout Standard
Se comprueba si el eMeeting posee grabaciones y se almacenan en una carpeta
 interna de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.
 En el botón antes descrito como 
\emph on
All recordings
\emph default
 tendremos acceso a las grabaciones de los 
\emph on
eMeetings
\emph default
 eliminados\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Recordings
\end_layout

\begin_deeper
\begin_layout Standard
Con este botón se visualizarán las grabaciones realizadas en el 
\emph on
eMeeting
\emph default
 hasta el momento\SpecialChar \@.
 Se accede vía AJAX al 
\emph on
EndPoint
\emph default
 correspondiente de Symfony para conseguir los valores actualizados de la
 lista de grabaciones\SpecialChar \@.
 En la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:CRON"

\end_inset

 se ha hablado de la función que se ejecuta en el servidor cada minuto para
 almacenar las nuevas grabaciones en nuestra base de datos al finalizar
 la misma\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Change Nick Name
\end_layout

\begin_deeper
\begin_layout Standard
En la ventana modal que despliega este botón se da la opción de cambiar
 el sobrenombre (
\emph on
NickName
\emph default
) de cada reunión\SpecialChar \@.
 Este código comprueba que no insertamos un sobrenombre
 vacío, aunque sería posible en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 la posibilidad de no tenerlo\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
URLs de acceso a la aplicación
\begin_inset CommandInset label
LatexCommand label
name "sec:URLs-de-acceso"

\end_inset


\end_layout

\begin_layout Standard
En esta sección, y para acompañar a las funcionaliadades descritas en la
 sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:El-interfaz-de"

\end_inset

, se explicarán las diferentes rutas que se han implementado para esta aplicació
n y que dan acceso a las funciones de los controladores\SpecialChar \@.
 Symfony nos ofrece
 esta potente funcionalidad, de forma que se podrá indicar la función que
 realizará la aplicación en función de la URL de acceso a la aplicación\SpecialChar \@.

 A raíz de la explicación de estas rutas de acceso en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Concepto-de-sala"

\end_inset

 el lector ya posee una visión más completa de la estructura de la aplicación
 y también del gran trabajo simplificado mediante la utilización de Symfony\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_personal ANY /personal/
\end_layout

\begin_deeper
\begin_layout Standard
Esta función que se encuentra en el archivo 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/PersonalController.php}
\end_layout

\end_inset

, devuelve el usuario registrado, la lista de grupos a los que pertenece
 el usuario, la lista de reuniones con estado NOW y la lista de reuniones
 asociada a cada usuario con estado NOW que no pertenecen al grupo\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
group ANY /groupadmin/
\end_layout

\begin_deeper
\begin_layout Standard
Situado en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/GroupAdminController.php}
\end_layout

\end_inset

, devuelve una lista de todos los grupos que posee la aplicación\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
group_show ANY /groupadmin/{id}
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
footnote{Los términos que aparecen entre llaves hacen referencia a la variable
 que se pasa mediante el método POST a cada una de las funciones.}
\end_layout

\end_inset

/show
\end_layout

\begin_deeper
\begin_layout Standard
Situado en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/GroupAdminController.php}
\end_layout

\end_inset

, recibe como parámetro el identificador del grupo que se visualizará en
 el formulario de edición para el menú de administrador\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
group_new ANY /groupadmin/new
\end_layout

\begin_deeper
\begin_layout Standard
Situado en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/GroupAdminController.php}
\end_layout

\end_inset

, crea un formulario para añadir un nuevo grupo en el menú de administrador\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
group_create POST /groupadmin/create
\end_layout

\begin_deeper
\begin_layout Standard
Situado en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/GroupAdminController.php}
\end_layout

\end_inset

, valida el formulario creado en group
\begin_inset Newline newline
\end_inset

_new y actualiza la base de datos\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
group_edit ANY /groupadmin/{id}/edit
\end_layout

\begin_deeper
\begin_layout Standard
Situado en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/GroupAdminController.php}
\end_layout

\end_inset

, recibe como parámetro el identificador del grupo que se solicita editar
 en el menú de administración\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
group_update POST /groupadmin/{id}/update
\end_layout

\begin_deeper
\begin_layout Standard
Situado en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/GroupAdminController.php}
\end_layout

\end_inset

, valida el formulario de edición y actuliza la base de datos\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
group_delete POST /groupadmin/{id}/delete
\end_layout

\begin_deeper
\begin_layout Standard
Situado en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/GroupAdminController.php}
\end_layout

\end_inset

, borra un grupo desde el menú de administrador actualizando la base de
 datos\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
meeting ANY /meeting/
\end_layout

\begin_deeper
\begin_layout Standard
Situado en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/MeetingController.php}
\end_layout

\end_inset

, realiza una consulta a la base de datos para mostrar al administrador
 una lista con todas las reuniones de la aplicación\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Las funciones meeting_show ANY /meeting/{id}/show, meeting_new ANY /meeting/new,
 meeting_create POST /meeting/create, meeting_edit ANY /meeting/{id}/edit,
 meeting_update POST, /meeting/{id}/update, meeting_delete POST /meeting/{id}
\begin_inset Newline newline
\end_inset

/delete situadas en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/MeetingController.php}
\end_layout

\end_inset

, son análogas a las mencionadas en los párrafos anteriores para los grupos
 y ofrecen al administrador las funcionalidades descritas y la validación
 de los datos, para actuar sobre la base de datos, de una forma casi instantánea
 para el programador\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_welcome ANY /welcome 
\end_layout

\begin_deeper
\begin_layout Standard
Situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/SecurityController.php}
\end_layout

\end_inset

, recibe la dirección de correo electrónico que introduce el usuario al
 entrar en la aplicación, la valida y si existe redirige al usuario a la
 pantalla de entrada\SpecialChar \@.
 También incluye el código que enviará un correo electrónico
 de alerta a un usuario si se intenta acceder a su cuenta y se cumple el
 máximo número de intentos de introducción de contraseña\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
mail_sent ANY /mail/sent
\end_layout

\begin_deeper
\begin_layout Standard
Situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/SecurityController.php}
\end_layout

\end_inset

, función que envía el correo electrónico en caso de que un intruso intente
 acceder a una cuenta de forma errónea\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
recover ANY /recover/{email}/{hash}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/SecurityController.php}
\end_layout

\end_inset

, si recibe como parámetro POST una dirección de correo electrónico y una
 huella (
\shape slanted
hash
\shape default
) asociada al usuario dueño del correo electrónico, se cambiará la contraseña
 del usuario en la base de datos\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
recover_error ANY /recover/error
\end_layout

\begin_deeper
\begin_layout Standard
Situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/SecurityController.php}
\end_layout

\end_inset

, si la huella que pasamos en la función anterior es incorrecta o la dirección
 de correo electrónico no existe se supone un intento de ataque, para defender
 a la aplicación de ello se redirige a esta función\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
recover_update ANY /recover/update
\end_layout

\begin_deeper
\begin_layout Standard
Situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/SecurityController.php}
\end_layout

\end_inset

, si la función 
\shape slanted
recover
\shape default
 ha tenido éxito, se redirige a esta función que mostrará un mensaje informando
 de que la contraseña se ha modificado correctamente\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
recording ANY /recording/
\end_layout

\begin_deeper
\begin_layout Standard
Situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/RecordingController.php}
\end_layout

\end_inset

, devuelve todas las grabaciones de la base de datos\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Las funciones recording_show ANY /recording/{id}/show, recording_new ANY
 /recording/new, recording_create POST /recording/create, recording_edit
 ANY /recording/{id}/edit, recording_update POST /recording/{id}/update,
 recording_delete POST /recording/{id}/delete 
\end_layout

\begin_deeper
\begin_layout Standard
Situadas en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/RecordingController.php}
\end_layout

\end_inset

, de nuevo ofrecen las mismas funcionalidades descritas para las reuniones
 y para los grupos, en las cuales el administrador puede actuar directamente
 sobre la base de datos si fuese necesario\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Para terminar con estas funciones específicas para el administrador de la
 aplicación user ANY /useradmin/, user_show ANY /useradmin/{id}/show, user_new
 ANY /useradmin/new, user_create POST /useradmin/create, user_edit ANY /useradmi
n/{id}/edit, user_update POST /useradmin/{id}/update, user_delete POST /useradmi
n/{id}/delete
\end_layout

\begin_deeper
\begin_layout Standard
Situadas en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/RecordingController.php}
\end_layout

\end_inset

, también realizan el tipo de operaciones relacionadas con la edición directa
 de la base de datos por parte del administrador\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
cmar_meeting_middleware_index ANY /middleware
\end_layout

\begin_deeper
\begin_layout Standard
Ésta es la ruta de acceso a las funciones del 
\shape slanted
middleware
\shape default
\SpecialChar \@.
 La llamada de 
\begin_inset Quotes eld
\end_inset

Directorio +
\begin_inset Quotes erd
\end_inset

, que se explicará con mayor detalle en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Directorio-+"

\end_inset

, para recopilar o enviar datos a la aplicación, invocará esta ruta acompañada
 de la función o funciones que se soliciten\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index ANY /
\end_layout

\begin_deeper
\begin_layout Standard
Función situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controler/UserController.php}
\end_layout

\end_inset

, envía la información necesaria a la plantilla que visualiza el usuario
 al entrar en la aplicación\SpecialChar \@.
 Esta función hace una petición a la base de
 datos para obtener todos los usuarios de la misma, la entidad con los datos
 del usuario que realiza la petición, las reuniones que el usuario posee
 activas y los sobrenombres que el propio usuario posee para cada reunión\SpecialChar \@.

 Esta función también contiene los datos de las funciones futuras en caso
 de implementarse esta funcionalidad\SpecialChar \@.
 Incluso se ha implementado la lógica
 para mostrar las reuniones activas de otros usuarios por si fuese de interés\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_recording ANY /recording/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Función situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controler/UserController.php}
\end_layout

\end_inset

\SpecialChar \@.
 Cuando se invoca acompañada del identificador de una grabación comprueba
 si la grabación está bloqueada devolviendo un mensaje con la información
 o en caso contrario, redirigiendo al usuario al servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 para visualizar la grabación\SpecialChar \@.
 Sólo un usuario registrado en la aplicación
 podrá visualizar la grabación\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_public_recording ANY /recording_public/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Función situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controler/UserController.php}
\end_layout

\end_inset

\SpecialChar \@.
 Cuando se invoca realiza comprobaciones similares a la función anterior
 pero el usuario no precisa estar registrado en la aplicación\SpecialChar \@.
 Característica
 muy útil si se trabaja con usuarios ajenos a la aplicación\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_immediate ANY /immediate
\end_layout

\begin_deeper
\begin_layout Standard
Función situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controler/UserController.php}
\end_layout

\end_inset

, para crear una nueva reunión en la base de datos\SpecialChar \@.
 Se realizan las siguientes
 comprobaciones antes de crear la reunión:
\end_layout

\begin_layout Enumerate
En caso de elegir la opción de sala mágica se comprueba si se ha llegado
 al número máximo para este tipo de salas, en caso afirmativo se emite un
 error\SpecialChar \@.

\end_layout

\begin_layout Enumerate
Se comprueba si el estado de la sala está entre los posibles, para evitar
 posibles ataques a la aplicación y obtener un error sobre la base de datos\SpecialChar \@.

\end_layout

\begin_layout Enumerate
Los títulos para las salas en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 no pueden exceder de 60 caracteres, por tanto se realiza esta comprobación
 y si es necesario se da el error correspondiente\SpecialChar \@.

\end_layout

\begin_layout Enumerate
Se comprueba si el título elegido existe en la aplicación ya que el servidor
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 no permite títulos duplicados\SpecialChar \@.

\end_layout

\begin_layout Enumerate
Se procede a crear la sala en la base de datos y en el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

, para ello se invoca a la función 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{createMeeting}
\end_layout

\end_inset

\SpecialChar \@.
 Esta función se encuentra en el módulo de servicio para las reuniones en
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Service/MeetingService.php}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Enumerate
En caso de que todo sea correcto se muestra el mensaje de sala creada correctame
nte y en caso contrario el mensaje: 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Error in ADO, you may need to change the title}
\end_layout

\end_inset

, ya que es posible que el título elegido contenga algún caracter no permitido\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
change_nickname ANY /changenick
\end_layout

\begin_deeper
\begin_layout Standard
Función situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controler/UserController.php}
\end_layout

\end_inset

, que cambia el nombre que un usuario mostrará en una reunión determinada\SpecialChar \@.

 Esta función comprueba que se introduce algún caracter y a continuación
 si el nombre que se introduce no es el mismo que ya existe en la base de
 datos para evitar modificaciones superfluas\SpecialChar \@.
 Cabe mencionar que por defecto
 este nombre de usuario para cada reunión, en caso de que el usuario no
 especifique ninguno, será el nombre y apellidos\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
update_rank ANY /updaterank
\end_layout

\begin_deeper
\begin_layout Standard
Función situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controler/UserController.php}
\end_layout

\end_inset

, que ordena la lista de reuniones que visualiza el usuario en su cuenta\SpecialChar \@.

 En el momento en el cual se accede a la aplicación y el usuario realiza
 la consulta para obtener la lista de reuniones, se pide a la base de datos
 que ordene esta lista según la varible 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{rank}
\end_layout

\end_inset

, perteneciente a cada reunión\SpecialChar \@.
 Esta variable 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{rank}
\end_layout

\end_inset

 es la que actualiza esta función\SpecialChar \@.
 Esta actualización se realiza mediante
 una petición AJAX para actualizar la base de datos\SpecialChar \@.
 La animación de movimiento
 de una reunión al pinchar sobre ella con el ratón se ha implementado con
 la librería jQuery UI\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
addusers_meeting ANY /addusers
\end_layout

\begin_deeper
\begin_layout Standard
Función situada en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controler/UserController.php}
\end_layout

\end_inset

\SpecialChar \@.
 Para añadir usuarios a una reunión se pincha en el botón 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Invite DigiMar Partners}
\end_layout

\end_inset

 y se despliega una ventana emergente en la cual se visualizan los usuarios
 que ya han sido invitados a la reunión\SpecialChar \@.
 Esta ventana invoca a la función
 que se está describiendo, la cual realiza la petición a la base de datos
 con la lista de usuarios para dicha reunión\SpecialChar \@.
 Esta ventana, mediante la técnica
 de autocompletado, nos ofrece una lista de usuarios a partir de tres letras
 que han de ser tecleadas en el correspondiente cajetín de entrada\SpecialChar \@.
 La funcionali
dad de autocompletado realiza una petición AJAX para obtener los usuarios
 que coindicen con las letras introducidas en dicho cajetín de entrada\SpecialChar \@.
 Si
 pinchamos sobre un usuario, éste se añade a la caja de usuarios invitados
 a la reunión\SpecialChar \@.
 Si por el contrario pinchamos en el aspa a la derecha de algún
 usuario invitado, éste será eliminado de la reunión\SpecialChar \@.
 Las operaciones realizadas
 sobre esta ventana emergente se confirmarán pinchando en el botón 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Save}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.7cm
\end_inset


\begin_inset Graphics
	filename Diseño/InviteDigiMarPartners.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Ventana emergente al pinchar en el botón 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Invite DigiMar Partners}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
updateviewsalt_meeting ANY /updateviewsalt/{id}, updatesecretsalt_meeting
 ANY /updatesecretsalt/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situadas en Controller/UserController.php, ambas rutas comparten la misma
 función y en su interior se evalúa si el parámetro indicado es 
\shape slanted
viewsalt
\shape default
 o el 
\shape slanted
secretsalt
\shape default
\SpecialChar \@.
 Esta función ofrece entrada a las reuniones con diferentes privilegios:
 si se envía 
\shape slanted
viewsalt
\shape default
 los privilegios son limitados, acceso sólo para los que visualizarán la
 reunión pero no podrán participar en ella; si se envía el 
\shape slanted
secretsalt
\shape default
 se accederá a la reunión con privilegios de presentador\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_cancel ANY /cancel/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, es la función que invoca el botón
 
\emph on
Delete
\emph default
 de cada reunión\SpecialChar \@.
 En esta función se comprueba primeramente si la reunión
 ha finalizado ya, por si ocurriese algún problema de sincronización, en
 caso contrario pasamos a cambiar el estado de la reunión en la base de
 datos, lo cual eliminará la reunión de la lista de reuniones en el índice
 de la aplicación para el usuario\SpecialChar \@.
 Para ello se invoca a la función 
\shape slanted
stop
\shape default
 en el servicio de reuniones\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_edit ANY /edit/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, despliega un formulario para modificar
 una reunión existente, comprobando de inicio si el usuario es el dueño
 de la reunión\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_update POST /update/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, actualiza la base de datos a partir
 de la información del formulario creado en 
\shape slanted
index_edit
\shape default
\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_search_meeting ANY /recordings/{meeting_id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, crea una lista de grabaciones de
 una reunión para mostrarla cuando se pincha en el botón 
\emph on
All recordings
\emph default
\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_historical ANY /historical
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, genera la lista de reuniones pasadas
 o eliminadas cuando se pincha en el botón 
\emph on
All recordings
\emph default
\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_month ANY /historical/{string_month}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, ofrece la funcionalidad de mostrar
 la lista de reuniones ordenadas por año y mes\SpecialChar \@.
 Como se puede ver en la ventana
 emergente al pinchar en el botón 
\emph on
All recordings
\emph default
, existe un menú para seleccionar año y mes, este menú realiza una llamada
 a esta función para servir la lista de reuniones correspondientes a esta
 fecha\SpecialChar \@.
 También se puede ver que se muestra el número de grabaciones para
 esa fecha, consulta realizada por esta función para mostrarse en la ventana
 emergente de la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "RecordsUser"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.5cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/achiement files.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Lista de grabaciones de un usuario
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "RecordsUser"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
change_password ANY /change_password/{email}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, funcionalidad asociada al botón
 
\emph on
Change Password
\emph default
 situado en el menú superior de la aplicación, ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "BotoneraParaCadaReunión"

\end_inset

\SpecialChar \@.
 Esta función busca el usuario en la base de datos a partir de su dirección
 de correo electrónico, para luego actualizar la base de datos con la contraseña
 introducida en la ventana emergente\SpecialChar \@.
 Si el método utilizado no es POST se
 reporta un error ya que se ha detectado un intento de ataque sobre esta
 función\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
recording_list ANY /r_list/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, está asociada a la petición AJAX
 que realiza el botón 
\emph on
Recordings
\emph default
 de cada reunión\SpecialChar \@.
 Devuelve el usuario dueño de la reunión y la entidad que
 representa la reunión\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
locked_recording ANY /locked_record/{locked}/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, bloquea las grabaciones cuando
 pulsamos en el botón 
\emph on
pausa
\emph default
, ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "RecordingUser"

\end_inset

, asociado a cada grabación o la desbloquea en caso de que pulsemos en dicho
 botón y la grabación esté bloqueada\SpecialChar \@.
 Este botón realiza una petición AJAX
 sobre esta función para que actualice el estado de la entidad 
\emph on
meeting 
\emph default
en la base de datos\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.7cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/recordings y URL.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Menú de la lista de grabaciones de cada reunión
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "RecodingsMeetingAndState"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
recording_public_list ANY /r_public_list/{secretsalt}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, ofrece una lista de grabaciones
 cuando se envía a usuarios ajenos a la aplicación la URL que aparece en
 la parte superior de la ventana emergente que se despliega al pulsar en
 el botón de grabaciones como se ve en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "RecodingsMeetingAndState"

\end_inset

\SpecialChar \@.
 En la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "ExternalLinkRecordings"

\end_inset

 puede verse la lista de grabaciones que visualizará el usuario que reciba
 la URL\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.7cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/ListaRecordings.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Lista de grabaciones para usuarios externos
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "ExternalLinkRecordings"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
locked_meeting ANY /locked/{locked}/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, bloquea las reuniones cuando pulsamos
 en el botón 
\emph on
Enabled/Disabled
\emph default
 asociado a cada reunión, ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "BotoneraParaCadaReunión"

\end_inset

\SpecialChar \@.
 Con tecnología AJAX este botón cambia al estado deshabilitado (
\shape slanted
disabled
\shape default
) cuando la reunión está deshabilitada, de forma que si se pulsa, la reunión
 se desbloquea\SpecialChar \@.
 Este botón realiza una petición AJAX sobre esta función para
 que actualice la base de datos\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
user_form ANY /u_form/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, devuelve los datos del usuario
 indicado por el identificador que se le pasa mediate POST a la función
 que genera el formulario para el menú de usuarios del administrador\SpecialChar \@.
 La
 plantilla generada puede verse en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "UserAdminForm"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 6cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/EditUserForm.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Plantilla para la edición de usuarios por el administrador
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "UserAdminForm"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
user_list ANY /u_list
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, devuelve la lista de usuarios coinciden
tes con las letras introducidas en el cajetín de búsqueda de usuarios mediante
 una petición AJAX, cuando se quiere añadir nuevos usuarios a una reunión\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
admin ANY /admin
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/UserController.php, consulta las tablas Log y Log_Total
 de la base de datos y envía los datos a la plantilla que genera las tablas
 estadísticas, con el número de participantes activos para cada reunión
 y totales, el tiempo de duración de las reuniones activas, la fecha de
 inicio de la reunión, número de reuniones activas, la fecha y hora de la
 consulta de la base de datos para completar la tabla Log_Total y el identificad
or único para la reunión dentro del servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
indexgroup ANY /group/{key}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/GroupController.php, comprueba que existe el grupo
 solicitado, a continuación comprueba que el usuario que solicita la información
 pertenece al grupo y finalmente devuelve a la plantilla las reuniones actuales,
 las reuniones programadas y la entidad que describe las características
 del grupo\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
indexgroup_recording ANY /group/recording/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/GroupController.php, redirige a la grabación del grupo
 solicitada\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
indexgroup_immediate ANY /group/immediate/{key}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/GroupController.php, construye una reunión para un
 grupo determinado de manera que todos los componentes del grupo serán invitados
 a la reunión creada\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
indexgroup_cancel ANY /group/cancel/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/GroupController.php, actualiza el estado de una reunión
 a 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{CANCELLED}
\end_layout

\end_inset

 con lo cual ya no aparece en la lista de reuniones para los usuarios pertenecie
ntes al grupo y pasa a formar parte de la lista de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{All recordings}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
indexgroup_delete ANY /group/delete/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/GroupController.php, elimina la reunión de la base
 de datos\SpecialChar \@.
 Esta función no se utiliza en la versión final ya que se ha preferido
 mantener la información de todas las reuniones en la base de datos y únicamente
 actualizar su estado para poder acceder a información de reuniones borradas
 si fuese necesario\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
indexgroup_edit ANY /group/edit/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/GroupController.php, crea el formulario necesario para
 editar información a cerca de una reunión de grupo ya creada\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
indexgroup_update POST /group/update/{id}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/GroupController.php, la información de la reunión descrita
 en el formulario creado en la función anterior se valida en esta función
 y se actualiza en la base de datos\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
indexgroup_historical ANY /group/historical/{key}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/GroupController.php, crea una lista con las reuniones
 de un grupo que ya han finalizado y poseen el estado 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{CANCELLED}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
indexgroup_month ANY /group/historical/{key}/{string_month}
\end_layout

\begin_deeper
\begin_layout Standard
Situada en Controller/GroupController.php, devuelve la lista de reuniones
 de grupos con sus respectivas grabaciones\SpecialChar \@.
 La petición se hace para un mes
 y año concretos, de forma similar al 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{All recordings}
\end_layout

\end_inset

 para las reuniones de usuarios individuales\SpecialChar \@.
 A la vez que se visualiza el
 número de reuniones para un mes en la lista desplegable, también se puede
 saber el número de grabaciones en ese mes\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
index_room ANY /room/{salt}, index_secretroom ANY /secretroom/{salt}, index_
\begin_inset Newline newline
\end_inset

noanonymousroom ANY /noanonymousroom/{salt}, index_noanonymoussecretroom
 ANY /noanonymoussecretroom/{salt}
\end_layout

\begin_deeper
\begin_layout Standard
Situadas en Controller/RoomController.php, todas estas URLs llaman a la misma
 función\SpecialChar \@.
 Implementa un control de acceso a las reuniones a partir de una
 URL secreta generada con el algoritmo MD5 a partir del nombre de la reunión
 y otros datos, a parte de una huella aleatoria\SpecialChar \@.
 El usuario que posea la
 URL podrá acceder a la reunión con unos privilegios determinados en función
 de si la URL que posee contiene el parámetro 
\shape slanted
salt
\shape default
, 
\shape slanted
secretsalt
\shape default
 o 
\shape slanted
viewsalt
\shape default
 de la reunión\SpecialChar \@.
 Para dar acceso a una reunión se comprueba ese parámetro
 de la URL y el estado de la reunión, de forma que el usuario que accede
 a la misma podrá ser presentador o asistente\SpecialChar \@.
 El acceso también podrá ser
 anónimo, es decir, un usuario que no tenga una cuenta en la aplicación
 también tendrá acceso a través de las URLs que no contienen 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{noanonymousroom}
\end_layout

\end_inset

 o 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{noanonymoussecretroom}
\end_layout

\end_inset

\SpecialChar \@.
 Estas URLs no redirigen a sus correspondientes plantillas para entrada
 de acceso anónimo o para que accedamos a un menú de registro en la aplicación\SpecialChar \@.

 De esta forma la aplicación siempre tendrá el control sobre los usuarios
 que acceden, pertenezcan o no a la lista de usuarios registrados en la
 aplicación\SpecialChar \@.
 Para obtener control total de los privilegios de acceso de usuarios
 anónimos, no registrados en la aplicación, se crea un usuario temporal
 en el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

, que luego será eliminado desde la función del cron correspondiente como
 se ha explicado en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:CRON"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
login ANY /login
\end_layout

\begin_deeper
\begin_layout Standard
Esta ruta redirige a la plantilla de entrada a la aplicación, si se accede
 a una ruta configurada como privada en el archivo 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{security.yml}
\end_layout

\end_inset

\SpecialChar \@.
 Es una ruta por defecto que ofrece el 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{framework}
\end_layout

\end_inset

 Symfony para simplificar el intercambio entre mecanismos de registro en
 aplicaciones y para simplificar el acceso de usuarios anónimos para la
 aplicación\SpecialChar \@.
 Esta ruta, al igual que las dos que describiremos a continuación,
 se encuentra en el fichero 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{routing.yml}
\end_layout

\end_inset

\SpecialChar \@.
 Nos ofrece un formulario para acceder a través del correo electrónico del
 usuario y su contraseña asociada, además de un enlace a un formulario de
 recuperación de contraseña\SpecialChar \@.
 Para mayor seguridad el formulario de recuperación
 de contraseña envía un correo electrónico a la cuenta indicada y se genera
 un enlace único enviado a ese correo electrónico que nos redirige a un
 nuevo formulario para cambiar la contraseña directamente en la base de
 datos\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
login_check ANY /
\end_layout

\begin_deeper
\begin_layout Standard
Esta ruta que pertenece al fichero 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{routing.yml}
\end_layout

\end_inset

 controlará el envío de formularios de inicio de sesión\SpecialChar \@.
 Es decir todo usuario
 que intente acceder a la aplicación será reenviado a la función loginAction
 del archivo Controller/SecurityController.php\SpecialChar \@.
 En este archivo se evaluará
 el resto de la URL de acceso para comprobar el tipo de acceso que hemos
 definido en el archivo 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{security.yml}
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
logout ANY /logout
\end_layout

\begin_deeper
\begin_layout Standard
Esta función perteneciente al fichero 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{routing.yml}
\end_layout

\end_inset

 realiza la salida de la aplicación\SpecialChar \@.
 Es una función interna a la lógica de
 Symfony, al igual que las dos anteriores y ofrece potentes mecanismos de
 seguridad\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Interfaz de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\end_layout

\begin_layout Standard
En esta sección se describe el interfaz de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect Professional}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 al que se accede al pinchar en el botón 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Join}
\end_layout

\end_inset

 de la aplicación\SpecialChar \@.
 Como ya se ha comentado en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:AdobeConnectProfessional"

\end_inset

 y se puede observar en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "AdobeInterface"

\end_inset

 el interfaz de videoconferencia lo ofrece 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect Professional}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

, de todas formas este interfaz posee varios modos que pueden ser configurados
 desde la aplicación 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.
 En cada uno de estos modos la disposición de los elementos de la pantalla
 cambia para ofrecer interfaces apropiados a cada uso, como puede ser una
 videoconferencia múltiple, una ponencia con presentaciones de diapositivas
 o reuniones colaborativas donde las herramientas de intervención son más
 accesibles\SpecialChar \@.
 En la figura podemos observar las funcionalidades que nos ofrece
 la aplicación tales como un chat, la lista de usuarios con sus roles, el
 menú para actuar sobre la reunión y poder grabarla o finalizarla, los diferente
s diseños para la plantilla o la posibilidad de grabar el audio, escuchar
 otros audios o incluso compartirlos en la videoconferencia\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 0.5cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/ADOInterface.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Interfaz de videoconferencia de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "AdobeInterface"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Directorio +
\begin_inset CommandInset label
LatexCommand label
name "sec:Directorio-+"

\end_inset


\end_layout

\begin_layout Standard
Es un servidor que almacena los datos de todas la aplicaciones y ofrece
 un servicio de sincronización e información\SpecialChar \@.
 Comercialmente recibe el nombre
 de 
\begin_inset Quotes eld
\end_inset

Directorio +
\begin_inset Quotes erd
\end_inset

 y proveerá a todas las aplicaciones de 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 de información para cargar sus bases de datos, tales como usuarios, sus
 datos personales, pertenencia a determinados gupos, contraseñas y otros
 datos de interés.
 Es la parte más compleja del sistema ya que en combinación con el servidor
 CAS, que se explicará en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Seguridad-de-la"

\end_inset

 y ofrecerá un servicio de autenticación, permitirá registrarse a todos
 los usuarios en todas las aplicaciones registrándose únicamente en una
 de ellas\SpecialChar \@.
 La información modificada en cualquier aplicación se sincronizará
 con el resto gracias al 
\begin_inset Quotes eld
\end_inset

Directorio +
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.
 Este servidor realizará peticiones periódicas a todas las aplicaciones,
 incluida 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

, para actualizar datos\SpecialChar \@.
 Este flujo de datos se realizará en ambos sentidos
 y con un formato determinado\SpecialChar \@.
 La descripción de los datos solicitados se
 almacena en archivos XML y 
\begin_inset Quotes eld
\end_inset

Directorio +
\begin_inset Quotes erd
\end_inset

 ejecutará las funciones que necesite para actualizarse adecuadamente\SpecialChar \@.
 La
 descripción de las funciones que ejecutará Directorio + referentes a eMeeting
 se almacenan en un fichero llamado 
\family typewriter
middleware.wsdl
\family default
 y que ambas partes poseen\SpecialChar \@.
 Evidentemente el archivo de 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

 sólo contiene sus funciones\SpecialChar \@.
 Las funciones asociadas a este archivo y la
 descripción de su contenido pasamos a describirlas a continuación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
El Middleware
\begin_inset CommandInset label
LatexCommand label
name "sub:El-Middleware"

\end_inset


\end_layout

\begin_layout Standard

\shape slanted
Middleware
\shape default
, es un término utilizado para referirse al 
\emph on
software
\emph default
 que media para conectar dos entidades 
\emph on
software
\emph default
 en un sistema distribuido\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En el fichero 
\family typewriter
middleware.wsdl
\family default
 se indica el formato de información que 
\begin_inset Quotes eld
\end_inset

Directorio +
\begin_inset Quotes erd
\end_inset

 envía a 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

 en formato XML\SpecialChar \@.
 Esta información se procesará en las distintas funciones
 implementadas en la aplicación para rellenar los campos necesarios en la
 de datos, para los usuarios y grupos pertenecientes a la plataforma 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.
 Algunas de estas funciones son: 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{createUser, EnjoinGroup o addGroup}
\end_layout

\end_inset

\SpecialChar \@.
 Cada una de estas funciones, a partir de los flujos generados por 
\begin_inset Quotes eld
\end_inset

Directorio +
\begin_inset Quotes erd
\end_inset

 hacia nuestra aplicación, adaptan los datos enviados para almacenarlos
 en la base de datos, de esta forma se realiza la sincronización de la aplicació
n 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

 de forma completamente transparente para el usuario\SpecialChar \@.
 La primera función
 añade un nuevo usuario a la aplicación cuando un nuevo usuario es añadido
 a 
\begin_inset Quotes eld
\end_inset

Directorio +
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.
 Si un nuevo usuario es añadido a un grupo se invoca la segunda función
 y en caso de crear un nuevo grupo se invocará la tercera función\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Seguridad de la Aplicación
\begin_inset CommandInset label
LatexCommand label
name "sec:Seguridad-de-la"

\end_inset


\end_layout

\begin_layout Standard
En el fichero 
\family typewriter
security.yml
\family default
 de Symfony se han configurado tres opciones de registro para la aplicación\SpecialChar \@.

 La ofrecida por HTML con un desplegable donde se puede introducir login
 y contraseña, el método de configuración de servidores de control de acceso
 (entidades certificadoras) o la que ofrece Symfony mediante la redirección
 a un formulario que se puede diseñar a nuestro gusto como puerta de acceso
 a nuestra aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
De esta forma es posible alternar fácilmente entre tres tipos de registro
 sin más que comentar y descomentar unas cuantas líneas en el fichero 
\family typewriter
security.yml
\family default
\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Como aplicación independiente descrita en el capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Diseño-del-proyecto"

\end_inset

, es imprescindible que 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

 ofrezca estos diferentes tipos de seguridad y registro de usuarios\SpecialChar \@.
 Una
 de las más interesantes es la posibilidad de registrarse a través de un
 servidor CAS, que pasamos a describir\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2cm
\end_inset


\begin_inset Graphics
	filename Diseño/CAS.png
	width 12cm
	height 7cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Servidor CAS
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Servidor_CAS"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
CAS (
\shape slanted
\lang english
Central Authentication Service
\shape default
\lang spanish
) es una aplicación web que permite implementar el conocido SSO (
\shape slanted
\lang english
Single Sign On
\shape default
\lang spanish
), un procedimiento de autenticación que habilita a un usuario para acceder
 a distintas aplicaciones web (en distintos dominios y en distintos servidores)
 únicamente registrándose una vez\SpecialChar \@.
 En la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "Servidor_CAS"

\end_inset

 se describe el intercambio de tickets entre las entidades que realizan
 el registro\SpecialChar \@.
 En general, cuando un usuario se conecta a una de las aplicaciones
 involucradas en el sistema comprueba si está autenticado y si no lo está
 lo redirige a la pantalla del servidor de autenticación.
 Si la autenticación es correcta el sistema de autenticación, en este caso
 CAS, vuelve a redirigir al usuario a la página que se solicitaba en un
 primer momento.
 El desarrollador no tiene que preocuparse por mantener la seguridad y tener
 un formulario de login en cada una de las aplicaciones web que desarrolla,
 sino que simplemente se realiza la comprobación de si el usuario ya está
 registrado, que es tan sencillo como efectuar una petición request de esta
 forma: 
\family typewriter
request.getRemoteUser
\family default
\SpecialChar \@.
 Si el método devuelve null es que no está registrado y será redireccionado
 a la página de login de CAS\SpecialChar \@.
 Si ya está registrado por CAS, este método
 devolverá un valor con el que sabremos que es un usuario registrado\SpecialChar \@.
 Algo
 que debe quedar muy claro es que CAS se encarga única y exclusivamente
 de la autenticación, es decir, de comprobar contra una fuente de datos
 específica si el usuario y contraseña facilitados existen y son correctos.
 No se encarga de la autorización, que sería la gestión de lo que puede
 o no puede hacer ese usuario en función de sus roles\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.5cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/CASService.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.5cm
\end_inset


\begin_inset Caption

\begin_layout Plain Layout
Formulario de registro en el servidor CAS
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "LoginFormCAS"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 5cm
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename Diseño/login.png
	scale 35

\end_inset


\begin_inset space \hspace{}
\length 0.8cm
\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Formulario de acceso con diseño 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "loginDigiMarForm"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/BasicFormAutentication.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3cm
\end_inset


\begin_inset Caption

\begin_layout Plain Layout
Formulario básico que ofrece HTML
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "loginBasicForm"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Formularios de registro
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para entrar en la aplicación eMeeting debe realizarse un control de acceso
 mediante dicho servidor CAS, implementado para todas las aplicaciones de
 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 introduciendo usuario y contraseña en el formulario de la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "LoginFormCAS"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Como se ha comentado para 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

 también se ha implementado la posibilidad de acceder a través de un formulario
 creado con Symfony\SpecialChar \@.
 Symfony compara la información introducida con la almacenada
 en la base de datos de la aplicación, para permitir el acceso a la aplicación\SpecialChar \@.

 Como se observa en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "loginDigiMarForm"

\end_inset

, el acceso es sencillo y posee un enlace para recuperar la contraseña en
 caso de que el usuario la olvide\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Por último se ha implementado la opción de registro que ofrece HTML con
 un formulario sencillo que accede a la base de datos para comprobar que
 el usuario y contraseña introducidos son correctos como se muestra en la
 figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "loginBasicForm"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
El fichero 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{routing.yml}
\end_layout

\end_inset

 es el único que se debe modificar para alternar entre todas las posibilidades
 de acceso implementadas\SpecialChar \@.
 Cabe resaltar que incluso se puede definir el tipo
 de acceso para cada una de las rutas descritas en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:URLs-de-acceso"

\end_inset

\SpecialChar \@.
 La parte útil de este hecho reside en poder definir qué partes de la aplicación
, denominadas públicas, sean accesibles por usuarios no registrados en la
 aplicación, como por ejemplo, las grabaciones de las reuniones\SpecialChar \@.
 Para el
 acceso a las zonas públicas se ha implementado un control de acceso manejado
 por el usuario\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Comandos para una gestión de mayor comodidad
\end_layout

\begin_layout Standard
En esta sección se describen una lista de comandos creados para gestionar
 diferentes parámetros de la aplicación\SpecialChar \@.
 Uno de los usos más importantes
 de estos comandos es la posibilidad de ejecutarse a través de un cron o
 
\shape italic
bot
\shape default
 en el servidor para realizar tareas automatizadas de mantenimiento o extraer
 estadísticas\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Importación de usuarios definida en la base de datos interna de la aplicación
\end_layout

\begin_deeper
\begin_layout Standard
La aplicación posee una base de datos interna que carga una serie de usuarios
 por defecto definidos en el corazón de la aplicación que facilita el testeo
 de la aplicación, y sus respectivas pruebas en un nuevo servidor a la hora
 del despliegue\SpecialChar \@.
 En el fichero 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{DataFixtures/ORM/LoadUserData.php}
\end_layout

\end_inset

 se crean los usuarios que serán introducidos por defecto en la base de
 datos cuando se ejecute el comando 
\family typewriter
cmar:import:user
\family default
\SpecialChar \@.
 Esta lista de usuarios suele tener privilegios de administrador probar
 todas las funciones displonibles\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Estado de las reuniones
\end_layout

\begin_deeper
\begin_layout Standard
El comando 
\family typewriter
cmar:meeting:cron
\family default
 permite conocer el estado de las reuniones y probar las últimas funcionalidades
 de manera ágil y rápida, como se ha explicado en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:CRON"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Comprobación de la sincronización de usuarios
\end_layout

\begin_deeper
\begin_layout Standard
El comando 
\family typewriter
cmar:sync:user
\family default
, ofrece la posibilidad de comprobar si los usuarios de la base de datos
 interna de la aplicación existen en el servidor de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

\SpecialChar \@.
 En caso contrario los usuarios no podrán disfrutar de videoconferencias
 dentro de la aplicación como usuarios internos\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Comprobación de conectividad con el servidor de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
El comando 
\family typewriter
cmar:test:meeting
\family default
, permite comprobar si el servidor donde se aloja la aplicación 
\begin_inset Quotes eld
\end_inset

eMeeting
\begin_inset Quotes erd
\end_inset

 posee conectividad con el servidor donde está alojada la aplicación 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

\SpecialChar \@.
 Una forma rápida de detectar errores de conexión con dicho servidor ayudará
 a descartar errores ágilmente\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Servicios de la aplicación
\end_layout

\begin_layout Standard
Los servicios están descritos en el fichero de configuración 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Resources/config/services.xml}
\end_layout

\end_inset

\SpecialChar \@.
 En este fichero se encuentra la configuración del tipo de dato de entrada
 para cada servicio de la aplicación\SpecialChar \@.
 Este fichero en formato XML guarda
 en sus variables los datos de conexión al servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.
 Las variables almacenadas son la URL donde está alojado el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

con los datos de registro del usuario administrador, ya que es necesario
 para utilizar todas las opciones de la API\SpecialChar \@.
 También se encuentran aquí los
 datos que limitan el uso del servidor como son el número total de salas
 contratadas\SpecialChar \@.
 Se define aquí también el número de salas mágicas y por tanto
 también el número de salas que serán de libre acceso para cualquier usuario,
 de esta forma si se desea modificar este número sólo debe cambiar este
 archivo\SpecialChar \@.
 Como ya se ha comentado, dentro del servidor existe una carpeta
 en la que se almacenarám todas las grabaciones de las reuniones que los
 usuarios borren\SpecialChar \@.
 El identificador de esta carpeta que será permanente durante
 la vida de cada aplicación, se configurará también en este archivo\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Se describen a continuación los servicios de la aplicación y los parámetros
 relativos a cada servicio\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
Servicio de Meeting
\end_layout

\begin_deeper
\begin_layout Standard
Este servicio recibe como parámetros desde el fichero 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{services.xml}
\end_layout

\end_inset

 el identificador de Doctrine, usado para el acceso a la base de datos y
 el identificador del servicio AdoAdmin, debido a que se usarán gran cantidad
 de las funciones que se crean en este fichero para acceder al servidor
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.
 Se le envía el número total de salas disponibles, o lo que es lo mismo,
 el máximo número de licencias de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 disponibles, el número de salas simultáneas y el número de salas mágicas\SpecialChar \@.

 Por último también se envía el identificador del servicio de registro ya
 que es necesario que estas funciones se encuentren disponibles para posibles
 accesos a las salas y al interfaz de usuario\SpecialChar \@.
 El servicio de registro permite
 obtener los datos del usuario que accede a la aplicación y poder así ofrecerle
 sus parámetros y los privilegios que posee dentro de la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
En este servicio se proporcionan a la aplicación las funciones para actuar
 sobre las reuniones de la aplicación y acceder a funciones relacionadas
 de la API de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize
Función para crear reuniones en la base de datos de la aplicación
\end_layout

\begin_deeper
\begin_layout Standard
En este servicio se aloja la función que crea las reuniones en la base de
 datos de la aplicación\SpecialChar \@.
 Recoge los datos que le ofrece el formulario de
 creación de reuniones de la aplicación como el título, el usuario que la
 crea, el sobrenombre (
\shape italic
nickname
\shape default
) que ese usuario desee mostrar para esta reunión en concreto, por defecto
 su nombre y apellidos, un parámetro que indica si la sala es pública o
 privada, una pequeña descripción de la reunión si se desea, y para los
 usuarios administradores también aparece la opción de elegir si la sala
 será mágica o no como se ha descrito en la subsección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Sala-mágica"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Función para crear reuniones en el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
En este servicio se aloja la función que crea las reuniones en el servidor
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

\SpecialChar \@.
 Cuando se pulsa el botón 
\begin_inset Quotes eld
\end_inset

Join
\begin_inset Quotes erd
\end_inset

 de la aplicación se ejecuta esta función que mediante el uso del servicio
 administrador de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 crea la reunión en el servidor e introduce al usuario en la sala\SpecialChar \@.
 También
 se cambia el estado de la sala y se almacena en la base de datos la URL
 que, para 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

, identificará esta sala\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Función para eliminar reuniones en el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
En esta función se hace una búsqueda de la reunión en la base de datos de
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 mediante la URL que proporciona en función para crear las reuniones\SpecialChar \@.
 Una
 vez identificada la reunión se procede a guardar sus grabaciones, si las
 hubiese, en una carpeta alojada en el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

que se ha creado específicamente para este fin\SpecialChar \@.
 Acto seguido se cambia el
 estado de la reunión en la base de datos de la aplicación finalizada\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Función para añadir usuarios de 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 a reuniones en el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
Esta función recibe como parámetros la entidad 
\emph on
meeting
\emph default
 y una lista con los usuarios que debe contener la reunión, por tanto, se
 eliminan todos los usuarios de la reunión menos el creador y se añaden
 todos los usuarios que contiene la lista recibida.
 Debido a que es posible que un usuario quiera borrar únicamente al propietario
 de la reunión y no al resto se añade una comprobación en la cual si en
 la lista recibida no está el propietario de la reunión, se devuelve un
 error y no se modifica la lista de usuarios de la misma\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Función para crear usuarios en el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
Esta función recibe todos los campos necesarios para crear un usuario en
 el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

, login, nombre, apellidos, correo electrónico, descripción y contraseña\SpecialChar \@.

 Estos datos se introducen en el servidor con la llamada 
\family typewriter
principal-update
\family default
 de la API de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Control de acceso a las reuniones en el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
Esta función devuelve verdadero o falso tras realizar una serie de comprobacione
s que indican si está permitido el acceso a una determinada reunión, comprobando
 si el usuario está en la base de datos o es un usuario anónimo, si la reunión
 está bloqueada, si el usuario pertenece a la lista de invitados o es el
 creador, y si, en caso de ser un usuario anónimo, accede desde la URL correspon
diente como se ha descrito en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:URLs-de-acceso"

\end_inset

\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Función para cambiar el sobrenombre (
\shape italic
nickname
\shape default
) de usuario
\end_layout

\begin_deeper
\begin_layout Standard
La aplicación permite tener un nombre corto para cada reunión\SpecialChar \@.
 De esta forma
 en la actual función se implementa una lógica que permite modificar el
 nombre corto asociado a cada usuario en cada reunión\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Función para cambiar la huella (
\emph on

\begin_inset Quotes eld
\end_inset

hash
\emph default

\begin_inset Quotes erd
\end_inset

) de la entrada secreta
\end_layout

\begin_deeper
\begin_layout Standard
En esta función se implementa un cambio aleatorio de una clave que permite
 entrar a una sala con ciertos privilegios otorgados por el creador de la
 reunión que aloja dicha sala\SpecialChar \@.
 Podría decirse que es una llave maestra que
 otorga el creador de la sala para poder entrar en ella, en ocasiones con
 los mismo privilegios que el creador\SpecialChar \@.
 Esta función en concreto implementa
 la lógica que permite modificar dicha llave maestra para que los usuarios
 que tengan una llave maestra obsoleta ya no puedan disfrutar de la sala
 y se les tenga que enviar la nueva llave otra vez\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Función para cambiar la huella de la entrada común
\end_layout

\begin_deeper
\begin_layout Standard
Al igual que para la entrada secreta también se crea una un huella para
 la entrada común con el algoritmo MD5 que permite el acceso con privilegios
 de presentador a la sala e identifica cada reunión\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Función para cambiar la contraseña de usuario
\end_layout

\begin_deeper
\begin_layout Standard
En esta función se implementa una llamada a la API de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 para cambiar la contraseña de usuario en dicho servidor, ya que las contraseñas
 de los usuarios deben estar sincronizadas entre el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 y el servidor de la aplicación\SpecialChar \@.

\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
\begin_inset VSpace medskip
\end_inset


\end_layout

\begin_layout Itemize
Servicio de aplicación de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
En este servicio se implementan dos funciones que relacionan de forma directa
 la aplicación con el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.
 Una obtiene los datos para registrarse con privilegios de administrador
 y poder controlar la API y la otra crea usuarios nuevos en el servidor
 dando las credenciales oportunas\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Servidor
\end_layout

\begin_deeper
\begin_layout Standard
Esta función obtiene las credenciales del servidor donde se aloja la aplicación
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize
Cookies
\end_layout

\begin_deeper
\begin_layout Standard
Se refiere a diferentes funciones que guardan y rescatan la cookie de sesión
 que el servidor 
\shape italic
Adobe
\shape default
 ofrece cada vez que se realiza un entrada en la aplicación\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Función de login
\end_layout

\begin_deeper
\begin_layout Standard
Esta función realiza el registro en el servidor 
\shape italic
Adobe
\shape default
 con las credenciales del usuario que realiza la petición desde la aplicación\SpecialChar \@.

 Realiza una serie de peticiones utilizando la función curl 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-4}
\end_layout

\end_inset

 accediendo a la API de 
\shape italic
Adobe
\shape default
 para procesar las respuestas del servidor y determinar si la operación
 se ha realizado con éxito\SpecialChar \@.
 Se han diseñado una serie de excepciones para
 determinar posibles errores en el registro y atarjarlos ágilmente\SpecialChar \@.

\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Servicio de administrador de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset


\shape italic
AdoAdmin
\end_layout

\begin_deeper
\begin_layout Standard
Desde el archivo 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{services.xml}
\end_layout

\end_inset

 se envía la URL donde se aloja el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

, el usuario y contraseña de acceso para el usuario administrador, la carpeta
 donde se alojarán las grabaciones cuando se elimina una sala y el servicio
 de registro\SpecialChar \@.

\end_layout

\begin_layout Standard
Este servicio alberga los comandos de la API de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 para realizar las diferentes acciones sobre el servidor\SpecialChar \@.
 Algunas de estas
 acciones son la creación de usuarios, la creación de reuniones, el cambio
 de contraseña para un usuario o la actualización de cualquiera de las entidades
 que alberga el servidor 
\shape italic
Adobe
\shape default
\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Factoría de Adobe
\end_layout

\begin_deeper
\begin_layout Standard
Al igual que el sevicio de administrador, desde el archivo 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{services.xml}
\end_layout

\end_inset

 se envía la URL donde se aloja el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

y el servicio de registro\SpecialChar \@.
 Proporciona funciones para utilizar la API de
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

\SpecialChar \@.
 Desde este servicio se obtiene el nombre del servidor donde se aloja 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 necesario para la comunicación entre ambas aplicaciones\SpecialChar \@.
 También se obtiene
 el usuario que está conectado en ese momento y otorga la capacidad de hacer
 una llamada a la administración de 
\shape italic
Adobe
\shape default
 para crear un usuario en caso de que no se encuentre registrado en el servidor\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Interfaz de administración para 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
En el interfaz de administración deben añadirse las cabeceras de las funciones
 más importantes de la aplicación como son crear y borrar reuniones\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Servicio de Mail
\end_layout

\begin_deeper
\begin_layout Standard
Este servicio permite utilizar las herramientas de Symfony para enviar correos
 tanto a los usuarios como a los administradores\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Servicio de Middleware
\end_layout

\begin_deeper
\begin_layout Standard
Desde el archivo 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{services.xml}
\end_layout

\end_inset

, se envía el identificador de Doctrine, el servicio AdoAdmin, el servicio
 de validación y el servicio de registro\SpecialChar \@.
 El servicio de validación permite
 validar los campos de la clase 
\shape italic
Profile
\shape default
 (esto puede ser inyectado en cualquiera de los servicios que necesiten
 validar un objeto)\SpecialChar \@.

\end_layout

\begin_layout Standard
Este servicio contiene las acciones que se ejecutan en la aplicación para
 las diferentes llamadas desde Directorio +, tales como actualizar datos
 de usuario o de reuniones\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Itemize
Servicio EntityListener
\end_layout

\begin_deeper
\begin_layout Standard
Este servicio ofrece la posibilidad de ejecutar tareas o mensajes cuando
 ocurre una determinada acción dentro de Doctrine\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Controladores
\end_layout

\begin_layout Standard
Los controladores contienen toda la lógica que procesa los datos enviados
 al servidor y realiza las acciones correspondientes según la ruta a la
 que se accede\SpecialChar \@.
 Son los encargados de almacenar datos o recopilarlos para
 enviar a la plantilla de respuesta\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Controlador de meeting
\end_layout

\begin_layout Standard
Este controlador contiene múltiples funciones sobre las reuniones de la
 aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Una de las primeras funciones es crear un útil controlador de la tabla 
\emph on
meeting
\emph default
 de la base de datos, que permite actualizar la base de datos vía web\SpecialChar \@.
 Esta
 herramienta es sumamente útil para facilitar las actualizaciones de la
 base de datos a los administradores de la aplicación, como se ha descrito
 en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Diseño-de-la"

\end_inset

\SpecialChar \@.
 Una función muy importante para el administrador es poder convertir en
 salas mágicas u observar qué salas son mágicas en la aplicación de una
 forma rápida\SpecialChar \@.
 Este controlador permite administrar las salas rápidamente\SpecialChar \@.

 Puede también convertirse una sala pública en privada o viceversa y cambiar
 el nombre o su descripción\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Controlador personal
\end_layout

\begin_layout Standard
En una versión anterior este controlador permitía obtener la lista de todas
 las reuniones disponibles para cada usuario\SpecialChar \@.
 En la actualidad esta funcionalidad
 está fuera del alcance de la versión liberada\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Controlador de grabaciones
\end_layout

\begin_layout Standard
Este controlador ofrece funcionalidades para controlar la tabla de grabaciones
 de la base de datos\SpecialChar \@.
 Al igual que la tabla 
\shape italic
meeting
\shape default
, es posible manipular vía web la tabla de grabaciones\SpecialChar \@.
 Es un controlador
 menos usado que el de las reuniones, pero igualmente útil\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Controlador de sala
\end_layout

\begin_layout Standard
Este es uno de los controladores más importantes para el buen funcionamiento
 de la aplicación\SpecialChar \@.
 Posee un control de acceso para cada tipo de enlace ofrecido
 por la aplicación para acceder a las salas\SpecialChar \@.
 Con este control de acceso se
 definen, mediante la URL proporcionadan los privilegios que cada usuario
 poseerá sobre las reunión a la que es invitado o que ha creado\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En este controlador se comprueban si las huellas (
\shape italic
hashes
\shape default
) son correctas para permitir el acceso de cada usuario a la reunión\SpecialChar \@.
 También
 se diseñan los errores que la aplicación reportará en caso de no acceso
 a la reunión\SpecialChar \@.
 La función que realiza este control de acceso crea la URL
 con la que el usuario accederá al servidor 
\emph on
Adobe
\emph default
\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Controlador de seguridad
\end_layout

\begin_layout Standard
Este controlador contiene las funciones para la puerta de entrada a la aplicació
n para cualquier usuario que desee disfrutar de ella\SpecialChar \@.
 En la primera función
 se comprueba que el usuario se encuentra en la base de datos y que su contraseñ
a es correcta\SpecialChar \@.
 Si se produce algún error en el acceso, Symfony ofrece una
 serie de errores detectados que se muestran en el formulario de acceso\SpecialChar \@.

 Para esta aplicación se han filtrado esos errores para que sólo se muestren
 una serie de mensajes diseñados por el programador, para que el usuario
 los entienda fácilmente\SpecialChar \@.
 Estos mensajes se muestran en modo 
\emph on
flash
\emph default
 de forma que la aplicación se detiene por un instante para ejecutar el
 mensaje y mostrarlo sobre la plantilla, en este caso la de registro\SpecialChar \@.
 Este
 tipo 
\emph on
flash
\emph default
 para mostrar errores se usará frecuentemente a lo largo de la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Las funciones para recoger los datos de los formularios de olvido de contraseña
 también se encuentran en este controlador, que se encargará de llamar al
 servicio de correo electrónico para enviar un mensaje de cambio de contraseña
 al usuario en cuestión\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Controlador de administrador
\end_layout

\begin_layout Standard
Este controlador contiene la lógica para el menú de los usuarios administradores
 que permite administrar las bases de datos de reuniones, grabaciones y
 usuarios\SpecialChar \@.
 También incluye el código Javascript para mostrar las gráficas
 estadísticas para controlar el uso de la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Controlador de usuario
\end_layout

\begin_layout Standard
Este controlador permite consultar en la base de datos las diferentes reuniones
 filtrando según los criterios que se precisen para ser mostradas al usuario
 en su página principal\SpecialChar \@.
 Primero se hace una consulta al servidor que devuelve
 el identificador del usuario que va a realizar las consultas: 
\family typewriter
$user = $this->get('security.context')->getToken()->getUser()
\family default
;
\end_layout

\begin_layout Standard
Los diferentes criterios de filtrado se almacenan en las siguientes variables:
\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
$meetings_scheduled: esta variable almacena las reuniones futuras pertenecientes
 al usuario reservando así la sala para ese instante\SpecialChar \@.

\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
$meetings_scheduled=$repo->findByStateAndUser(Meeting::STATE_SCHEDULED,$user);
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
$meetings_finished: esta varible almacena todas las reuniones del usuario
 que ya han finalizado\SpecialChar \@.
 Como se puede observar hay dos tipos de estado (cancelado
 y terminado); esto se debe a que es posible que el usuario cancele la reunión
 o que la fecha de fin de reunión sea en un instante pasado\SpecialChar \@.

\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
$meeting_finished=$repo->findByStatesAndUser(array(Meeting::STATE_CANCELLED,Meet
ing::STATE_FINISHED),$user); 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
$other_meetings_now: esta variable almacena las reuniones activas que no
 pertenecen al usuario registrados\SpecialChar \@.

\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
$other_meetings_now=$repo->findByStateAndNotUser(Meeting::STATE_NOW,$user);
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
$meetings_now: permite mostrar al usuario todas las reuniones que tiene
 activas en el momento de la consulta\SpecialChar \@.

\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
$meetings_now=$repo->findByStatesAndUser(array(Meeting::STATE_NOW,Meeting::STATE
_LOCKED),$user);
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
$meeting_now_rank: permite ordenar las reuniones que pertenecen al usuario
 según el ranking que ocupen en su página principal, ya que el usuario puede
 ordenar a su gusto las reuniones que posee para que aparezcan en primer
 lugar\SpecialChar \@.

\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
$meetings_now_rank=$repo->findByUserAndStatesOrderByRank($user,array(Meeting::ST
ATE_NOW,Meeting::STATE_LOCKED));
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
En este controlador también se realiza el control de acceso a las grabaciones
 de reuniones de cada usuario\SpecialChar \@.
 Para ello se comprueba si la grabación ha
 sido bloqueada por el usuario\SpecialChar \@.
 Si es así se muestra el correspondiente mensaje
 de error; en caso contrario se procede a la reproducción de la grabación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Se encuentra también la lógica para la publicación de grabaciones y se genera
 un enlace a dichas grabaciones a las que podrán acceder todos los usuarios
 que obtengan dicho enlace que será entregado por el creador de la reunión\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Otra función que se encuentra en este controlador es la necesaria para crear
 una nueva reunión\SpecialChar \@.
 Para la creación de una reunión debe comprobarse si existen
 salas disponibles, en caso de ser administrador y precisar crear una sala
 mágica, también se comprueba si hay salas mágicas disponibles\SpecialChar \@.
 Estas variables
 
\family typewriter
$numRooms
\family default
 y 
\family typewriter
$numRoomsForNonMagic
\family default
 se pueden modificar en el archivo de configuración según el número de licencias
 disponibles o salas que se pongan a disposición de los usuarios\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Otra función que se encuentra en este controlador es la que permite cambiar
 el sobrenombre de los usuarios en las reuniones de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
La función con la lógica que usa la consulta Javascript para actualizar
 el ranking que establece el usuario para las reuniones también se encuentra
 en este controlador\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize

\family typewriter
addUsersAction 
\family default
es la función que se invoca si se precisa añadir un usuario a una reunión
 que pertenece a la plataforma 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.
 También se encuetra disponible un enlace para invitar a usuarios que no
 pertenecen a 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 a una reunión dada\SpecialChar \@.
 Existe la posibilidad de cambiar este enlace, ya que
 es posible que se reutilice la sala para diferentes grupos de usuarios\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
cancelAction
\family default
 es una función que se invoca cuando se pulsa el botón de cancelar una reunión\SpecialChar \@.

 Esta función comprueba si hay grabaciones asociadas a dicha reunión y en
 caso afirmativo se almacenan en la carpeta creada para este fin en el servidor
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout

\end_layout

\end_inset

 para que los usuarios tengan acceso a ellas\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
recordingAction
\family default
 es la función que mostrará las grabaciones en su correspondiente plantilla\SpecialChar \@.

 Esta función es invocada por el usuario cuando pulsa el botón 
\family typewriter
All eMeetings
\family default
\SpecialChar \@.
 En la ventana modal que abre este botón se ofrece la posibilidad de acceder
 a reuniones con sus respectivas grabaciones ordenadas por año y mes\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
historicalAction
\family default
 contiene la lógica para acceder a la lista de grabaciones\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
recordingListAction
\family default
 es la función que realiza la petición a la base de datos para devolver
 la lista de grabaciones para cada reunión, ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "RecordingUser"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Recordgins_new.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Lista de grabaciones accesible desde la cuenta del usuario
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "RecordingUser"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family typewriter
lockedRecordingAction
\family default
 modifica la base de datos para bloquear las grabaciones de forma que no
 podrán ser vistas por otros usuarios\SpecialChar \@.
 Para alternar entre los diferentes
 estados de una grabación se pulsarán los botones que pueden verse en la
 figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "RecordingUser"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
recordingPublicListAction
\family default
 realiza la petición a la base de datos para mostrar las grabaciones a usuarios
 que no pertenecen a 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

, ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "RecordingListNoUsers"

\end_inset

\SpecialChar \@.
 En esta figura puede verse el título de la reunión a la que pertenecen
 las grabaciones\SpecialChar \@.
 El color verde del título de la grabación indica que es
 accesible, por el contrario, el color rojo indica que la grabación está
 bloqueda\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/ListaRecordings.png
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Lista de grabaciones mostrada a usuarios externos
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "RecordingListNoUsers"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family typewriter
lockedAction
\family default
 contiene la lógica para bloquear las reuniones de forma temporal pulsando
 el botón 
\shape italic
Disabled
\shape default
 para bloquear o 
\shape italic
Enabled
\shape default
 para desbloquear, ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "TemplateMeeting"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 4.5cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/emeetingdisabled.png
	scale 22

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Plantilla con estado bloqueado y desbloqueado de sala
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "TemplateMeeting"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family typewriter
changePasswordAction
\family default
 contiene la lógica para cambiar la contraseña de un usuario que también
 se encuentra, como no podía ser de otro modo, en el controlador de usuario\SpecialChar \@.

 Esta función sincroniza la contraseña de aplicación con la del usuario
 en el servidor 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
editAction
\family default
 es una función generada fácilmente con Symfony que reúne los datos necesarios
 para generar un formulario de edición como el de la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "editAdminForm"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.5cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/editForm.png
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Formulario de edición de datos de una reunión en modo administrador
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "editAdminForm"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family typewriter
updateAction
\family default
 cuando el formulario generado por 
\family typewriter
editAction
\family default
 se envía de nuevo al servidor esta función es la encargada de actuar sobre
 la base de datos para cambiar los datos recibidos\SpecialChar \@.
 En esta función se comprueba
 que el usuario que solicita cambiar datos es el propietario de la reunión,
 en caso afirmativo se procede a guardar los datos\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
userFormAction
\family default
 contiene la lógica para crear una nueva reunión directamente en la base
 de datos para un usuario concreto\SpecialChar \@.
 El 
\shape italic
framework
\shape default
 Symfony ofrece la posibilidad de crear un formulario rápidamente a partir
 de la tabla de la base de datos definida para las reuniones\SpecialChar \@.
 Esta función
 tiene un formulario asociado como el que se muestra en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "MeetingAdminForm"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.5cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/MeetingAdminForm.png
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Formulario para crear una nueva reunión en modo administrador
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "MeetingAdminForm"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family typewriter
listAction
\family default
 es la función que contiene la lógica para la acción Javascript de autocompletad
o que se implementa en la ventana modal para agregar usuarios de 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 a las reuniones\SpecialChar \@.
 De esta forma si se introducen en la caja de agregado tres
 letras, la función devolverá una lista de usuarios que contengan estas
 tres letras en el orden establecido, tanto en el nombre y apellidos como
 en el correo electrónico, ver figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "AutocompleteFunction"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.2cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/Fotos antiguas/eMeeting Final Help/InvitePartners.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Función autocompletado para agregar usuarios
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "AutocompleteFunction"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family typewriter
adminAction
\family default
 ofrece un menú exclusivo para los usuarios administradores de la aplicación
 como puede verse en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "AdminMenu"

\end_inset

\SpecialChar \@.
 Este usuario tendrá acceso a los formularios de creación y edición de reuniones
 directamente sobre la base de datos, también para la creación de usuarios
 y su correspondiente edición\SpecialChar \@.
 Además se han introducido dos gráficas estadística
s para visualizar la ocupación máxima de salas cada día y el número total
 de usuarios simultáneos en la aplicación por cada reunión\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 2.5cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/AdminMenu.png
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Menú de administración
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "AdminMenu"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Estilo de la aplicación con CSS y HTML
\end_layout

\begin_layout Standard
En el archivo 
\emph on
cmar.css
\emph default
 y 
\emph on
meeting.css
\emph default
 se almacenan las hojas de estilo para la aplicación 
\emph on
meeting
\emph default
, como es obvio en el archivo 
\emph on
cmar.css
\emph default
 se encuentra el estilo común a toda la plataforma 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 e incluyendo todas las aplicaciones y webs que forman parte de la macroaplicaci
ón descrita en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Objetivos"

\end_inset

 y en 
\emph on
meeting.css
\emph default
 se encuentra el estilo específico y necesario para cada uno de los conceptos
 y plantillas relatados en el capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Desarrollo-del-proyecto"

\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Para el diseño del estilo y de las plantillas de la aplicación se han utilizado
 algunos de los últimos avances de HTML y CSS para simplificar y sacar el
 mayor partido a las funciones desarrolladas\SpecialChar \@.
 El uso de formularios y listas
 HTML son fundamentales en cualquier aplicación web a lo cual se añade el
 estilo en cascada para proporcionar un interfaz agradable, intuitivo y
 elegante\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Funciones Javascript
\end_layout

\begin_layout Standard
Para las funciones javascript se ha utilizado la librería jQuery en su versión
 1.7.1, también se ha hecho uso de la librería específica para interfaces
 jquery-ui-1.8.18, jquery-kamicgraphs, jquery.tokeninputs (para la entrada
 anónima), bootstrap (utilizada en los menús desplegables, librería muy
 popular debido a su vinculación con Twitter) y la libreía tipTip.
 
\end_layout

\begin_layout Standard
Se describe a continuación una breve descripción de cada una de estas librerías,
 cuya principial función han sido la simplificación de los desarrollos y
 la posibilidad de implementar un interfaz avanzado de forma sencilla\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Todas las funciones que se han implementado a partir de estas librerías
 y las propias librerías se encuentran en la carpeta 
\shape italic
src/Cmar/MeetingBundle/Resources/Public/js\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Estos ficheros se han renombrado con una técnica típica de numeración para
 que se carguen en el explorador en el orden adecuado, ya que unos dependen
 de otros y la carga incorrecta generará incongruencias de código y el mal
 funcionamiento de la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Subsection
Funciones propias
\begin_inset CommandInset label
LatexCommand label
name "sub:Funciones-propias"

\end_inset


\end_layout

\begin_layout Standard
Las funciones propias reciben en su mayoría el nombre de la función que
 desempeñan para la aplicación.
 Describimos a continuación los archivos javascript y las funciones que
 contienen\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Itemize
EL fichero 
\begin_inset Quotes eld
\end_inset

js.js
\begin_inset Quotes erd
\end_inset

 contiene la función 
\family typewriter
updateClock
\family default
 que como su nombre indica actualiza el reloj junto al nombre de usuario
 en la parte superior derecha de la aplicación.
 Esta función recoge la hora, minutos y segundos del sistema en el que se
 encuentre alojado y actualiza el reloj visualizado por el usuario con una
 precisión de segundos.
 Realiza un parseado para obtener siempre números enteros en cada valor
 que muestra el reloj y también obtiene la franja horaria para mostrar 
\begin_inset Quotes eld
\end_inset

AM
\begin_inset Quotes erd
\end_inset

 o 
\begin_inset Quotes eld
\end_inset

PM
\begin_inset Quotes erd
\end_inset

 o si lo deseamos hora en formato en 24 horas\SpecialChar \@.

\end_layout

\begin_layout Itemize
El fichero 
\begin_inset Quotes eld
\end_inset

tabla.js
\begin_inset Quotes erd
\end_inset

 despliega los elementos de una lista utilizando el evento jQuery 
\family typewriter
fadeIn
\family default
, el cuál embellece la acción ya que la lista de elementos se despliegan
 de forma suave y constante\SpecialChar \@.

\end_layout

\begin_layout Itemize
EL fichero 
\begin_inset Quotes eld
\end_inset

addbox.js
\begin_inset Quotes erd
\end_inset

 se utilizó en una primera versión del proyecto para agregar elementos de
 una lista que aparecía a la izquierda del usuario a su homóloga en la parte
 derecha.
 De esta manera se invita al resto de usuarios a participar de la videoconferenc
ia que ha creado.
 Con el uso de la aplicación se comprobó que la lista de usuarios era demasiado
 grande y debían introducirse otro tipo de técnicas para tal invitación\SpecialChar \@.

 En esta acción también se incluye la posibilidad de invitar a todos los
 usuarios del sistema\SpecialChar \@.
 Este tipo de mecanismos se utilizan ampliamente cuando
 el número de usuarios que se agregarán a la reunión se obtienen desde una
 lista de contactos seleccionados por el usuario y no al total de usuarios
 de la aplicación como es el caso\SpecialChar \@.

\end_layout

\begin_layout Itemize
A raíz de la experiencia descrita anteriormente se desarrolla el fichero
 
\begin_inset Quotes eld
\end_inset

autocomplete.js
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.
 Este fichero realiza una petición AJAX sobre la base de datos a partir
 de la introducción de tres caracteres en una caja de texto\SpecialChar \@.
 De esta manera
 se despliega una lista bajo la caja de texto con la coincidencia de los
 caracteres introducidos\SpecialChar \@.
 Dicha coincidencia puede darse tanto en el nombre
 completo de un usuario como en su correo electrónico\SpecialChar \@.
 Gracias a jQuery y
 su función 
\family typewriter
autocomplete
\family default
 la lógica de esta función sólo necesita que incluyamos los parámetros de
 interés tales como en qué lugar se encuentra nuestra consulta sobre la
 base de datos y de qué forma mostraremos al usuario la información retornada
 por dicha consulta\SpecialChar \@.
 En el código aparecen dos lugares en los cuales se podrán
 añadir usuarios a una videoconferencia, de ahí que la lógica aparezca duplicada
 para el identificador 
\shape slanted
users
\shape default
 y 
\shape slanted
users1\SpecialChar \@.

\end_layout

\begin_layout Itemize
EL fichero 
\begin_inset Quotes eld
\end_inset

modal_dialog.js
\begin_inset Quotes erd
\end_inset

 ofrece la lógica para desplegar las ventanas modales que permiten realizar
 acciones sobre las videoconferencias de la aplicación y proporcionan funcionald
ades que ofrecen información al usuario, tales como el menú que del servidor
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Adobe Connect}
\end_layout

\end_inset


\begin_inset script superscript

\begin_layout Plain Layout
®
\end_layout

\end_inset

 para informarnos si existe conectividad a nivel de red con el servidor
 o si nuestra conexión es suficiente para mantener una videoconferencia
 de calidad\SpecialChar \@.
 En esta función se definen los identificadores de los botones
 que accionarán los menús, el tipo de efecto que cerrará la ventana, el
 tamaño de la ventana y a mayores, para algunas ventanas especiales, se
 ha añadido el parámetro 
\shape slanted
data-ajax
\shape default
\SpecialChar \@.
 Cuando se envía este parámetro a la ventana modal, acompañado del parámetro
 
\shape slanted
data
\shape default
-url que nos indica el lugar en el que se encuentra la lógica que se ejecutará
 cuando finalice la acción, dicha ventana se cargará mediante AJAX y para
 no recargar toda la página y aprovechar el ancho de banda disponible\SpecialChar \@.
 Del
 mismo modo y gracias a las facilidades ofrecidas por Symfony en la ventana
 se desplegará la plantila asociada a la URL que se indica en la llamada
 a la ventana modal con los datos de la función que se ha ejecutado\SpecialChar \@.
 La posición
 de la ventana y la clase CSS asociada se describen en este fichero\SpecialChar \@.
 Los
 identificadores y clases intentan describir a qué parte del código pertenecen
 las ventanas modales para simplificar la lectura del código y facilitar
 la incorporación de un nuevo miembro al proyecto\SpecialChar \@.

\end_layout

\begin_layout Itemize
El fichero 
\begin_inset Quotes eld
\end_inset

desplegable.js
\begin_inset Quotes erd
\end_inset

 ofrece la lógica que se utiliza en los menús desplegables, una funcionalidad
 muy similar a la del fichero 
\begin_inset Quotes eld
\end_inset

menu.js
\begin_inset Quotes erd
\end_inset

 pero con sutiles cambios en la estética\SpecialChar \@.
 En este fichero también se incluye
 la lógica que reducirá el número de letras que se mostrarán del título
 para que uno muy largo no rompa la estética del interfaz, aunque el título
 se mostrará completamente si el ratón se sitúa sobre él\SpecialChar \@.
 Otra función desarrolla
da en este fichero es el minimizado de la entidad de videoconferencia, ver
 figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "ReduceMeeting"

\end_inset

, de forma que si se pulsa dos veces sobre el título la entidad se minimiza
 y viceversa\SpecialChar \@.

\end_layout

\begin_layout Itemize
El fichero 
\begin_inset Quotes eld
\end_inset

filter_meeting.js
\begin_inset Quotes erd
\end_inset

 realiza la función de filtrado de salas de videoconferencia que ofrece
 el botón del menú que por defecto tiene el texto 
\shape slanted
\color black
All Meetings
\shape default
\SpecialChar \@.
 Esta función recibe el texto del desplegable que coincide con los diferentes
 estados que puede tener una sala de la aplicación: pública, privada, mágica
 (sólo para usuarios administradores) o sala a la que se ha sido invitado\SpecialChar \@.

 Esta función muestra u oculta las salas con el estado que corresponda\SpecialChar \@.

\end_layout

\begin_layout Itemize
El fichero 
\begin_inset Quotes eld
\end_inset

anonymous.js
\begin_inset Quotes erd
\end_inset

 ofrece toda la lógica del menú de entrada anónima.
 Este menú ofrece la posibilidad de acceder a las salas como anónimo o acceder
 como usuario registrado\SpecialChar \@.
 Se implementa aquí la lógica de error cuando no
 coinciden las dos contraseñas introducidas en las cajas de entrada para
 confirmar que la contraseña es correcta, liberando así al servidor de peticione
s superfluas sobre la base de datos\SpecialChar \@.

\end_layout

\begin_layout Itemize
En algunas de las plantillas del código se encuentra código Javascript incrustad
o referente a dicha plantilla para ejecutar acciones como minimizar el área
 efectiva de las reuniones en la lista de usuario como se mostró en la figura
 
\begin_inset CommandInset ref
LatexCommand ref
reference "ReduceMeeting"

\end_inset

\SpecialChar \@.
 También está incrustado el código que permite ordenar las reuniones para
 actualizar la variable 
\emph on
rank
\emph default
 de la tabla 
\emph on
meeting
\emph default
\SpecialChar \@.
 El 
\emph on
plugin jQuery UI
\emph default
 permite realizar la animación de movimiento de la reunión cuando se cambia
 de orden mediante el ratón y el código incrustado actualiza la variable
 para que se almacene la preferencia de orden en la base de datos\SpecialChar \@.
 Las llamadas
 a la librería 
\emph on
TipTip
\emph default
 y el propio mensaje que se muestra de ayuda en los iconos comentados en
 la subsección 
\begin_inset CommandInset ref
LatexCommand ref
reference "BotoneraParaCadaReunión"

\end_inset

 se encuentran también incrustados en secciones Javascript en el interior
 de los templates correspondientes a cada funcionalidad\SpecialChar \@.

\end_layout

\begin_layout Chapter
Conclusiones y líneas Futuras
\end_layout

\begin_layout Section
Conclusiones
\end_layout

\begin_layout Standard
A raíz de los datos obtenidos sobre la utilización de la aplicación por
 parte de los usuarios de 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

 se puede afirmar que ha sido un rotundo éxito de acogida\SpecialChar \@.
 Por su fácil funcionam
iento y por la rapidez con la que los usuarios pueden crear sus salas de
 videoconferencia y gestionarlas es sin duda un producto ventajoso frente
 a su más directa competencia\SpecialChar \@.
 El uso de un 
\emph on
framework
\emph default
 aumenta altamente la productividad del desarrollador y ofrece una organización
 muy completa y ágil, ideal para elaborar una excelente documentación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.6cm
\end_inset


\begin_inset Graphics
	filename R/ParticipantesPorReuniones.jpg
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Participantes por día
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "ParticipantesDia"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Sorprendentemente para el programador se ha profundizado también en el complejo
 conocimiento de las necesidades y singularidades del ser humano en el campo
 de la videoconferencia en red, a raíz del trabajo realizado en el despliegue
 de la aplicación\SpecialChar \@.
 En la experiencia adquirida después del uso de la aplicación
 cabe destacar, lo diferente de la psique humana aún perteneciendo a perfiles
 afines y como las relaciones mejoran si se tiene un buena herramienta de
 comunicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Los datos recopilados en este último año de utilización se detallan a continuaci
ón\SpecialChar \@.
 Existen más de ochenta usuarios registrados, contando entre ellos con
 personal de 
\begin_inset Quotes eld
\end_inset

Campus do Mar
\begin_inset Quotes erd
\end_inset

, de la Universidad de Vigo y de otros organismos públicos como el CESGA,
 en la gráfica 
\begin_inset CommandInset ref
LatexCommand ref
reference "ParticipantesDia"

\end_inset

 se puede observar el número de usuarios por día y en la gráfica 
\begin_inset CommandInset ref
LatexCommand ref
reference "Frecuency participants"

\end_inset

 se observa que la mayoría de las reuniones son de dos participantes aunque
 hay una gran cantidad de reuniones de tres y cuatro participantes\SpecialChar \@.
 Más de
 doscientas grabaciones han sido realizadas por los usuarios de la aplicación
 en las ciento treinta y dos reuniones creadas, contando entre ellas con
 reuniones de la plataforma de código abierto 
\begin_inset Quotes eld
\end_inset


\emph on
Opencast
\emph default

\begin_inset Quotes erd
\end_inset

 que realiza al desarrollo de la plataforma de grabación automatizada de
 clases 
\emph on

\begin_inset Quotes eld
\end_inset

Matterhorn
\begin_inset Quotes erd
\end_inset


\emph default
 utilizada por 
\begin_inset Quotes eld
\end_inset

DigiMar
\begin_inset Quotes erd
\end_inset

\SpecialChar \@.

\end_layout

\begin_layout Standard
En la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "PercentMeeting"

\end_inset

 se observa que la mayor parte de las salas poseen el estado canceladas,
 lo cual indica que las salas se utilizan un número pequeño de veces para
 luego ser eliminadas y crear otras cuando sea necesario cuando el uso esperado
 era el de crear salas para un uso determinado y mantener las salas activas\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 3.4cm
\end_inset


\begin_inset Graphics
	filename Fotos de eMeeting/TiposMeeting.jpg
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Porcentaje de estado de reuniones
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "PercentMeeting"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Las gráficas de la sección de administrador, como la mostrada en la figura
 
\begin_inset CommandInset ref
LatexCommand ref
reference "AdminMenu"

\end_inset

, ofrecen una visión en tiempo real de la utilización de la aplicación,
 en ellas es posible observar una media de tres reuniones diarias\SpecialChar \@.
 Como se
 puede observar en estas gráficas se ha llegado al número máximo de salas
 disponibles por lo que es posible que se amplíe el número de licencias
 para disminuír la posibilidad de denegación de servicio\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset space \hspace{}
\length 4cm
\end_inset


\begin_inset Graphics
	filename R/hist_part.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Frecuecia de número de participantes en cada reunión
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "Frecuency participants"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Section
Líneas Futuras
\begin_inset CommandInset label
LatexCommand label
name "sec:Líneas-Futuras"

\end_inset


\end_layout

\begin_layout Standard
A raíz de la utilización de la aplicación han surgido una serie de mejoras
 que se comentarán en esta sección\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Una de las líneas más importantes para este sistema desde el principio fue
 utilizar un 
\emph on
software
\emph default
 de soporte para videoconferencia no propietario como podría ser Asterix
 o FreeSwitch 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
cite{key-14}
\end_layout

\end_inset

\SpecialChar \@.
 De esta manera el coste de cada sala sería sólo debido a la conexión y
 equipos necesarios para albergar la aplicación\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
La siguiente línea deriva de la utilización de la aplicación y se trata
 la posibilidad de reservar salas para lo cual debe utilizarse la variable
 
\emph on
concurrent
\emph default
 de la base de datos\SpecialChar \@.
 Esta variable almacena el número de reuniones que coincidir
án en el tiempo, para asegurarnos de que todas las reuniones tendrán disponibili
dad de sala de videoconferencia\SpecialChar \@.
 Otra modificación en la base de datos será
 añadir un campo que albergue la duración de la reunión\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Como ya se ha explicado en el capítulo 
\emph on

\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Tecnologías-empleadas"

\end_inset

, Symfony
\emph default
 posee entidades para modificar la base de datos y aportar una serie de
 consultas simples sobre las nuevas columnas introducidas, lo cual es altamente
 efectivo\SpecialChar \@.

\end_layout

\begin_layout Standard
En el repositorio de las entidades deben crearse las siguientes funciones
 para realizar consultas sobre las entidades 
\emph on
meeting
\emph default
 generadas a partir de esta nueva funcionalidad:
\end_layout

\begin_layout Itemize

\family typewriter
findStarted
\family default
: devuelve entidades 
\emph on
meeting 
\emph default
cuya fecha de creación es menor o igual a la fecha actual y su estado es
 programado (
\emph on
scheduled
\emph default
)\SpecialChar \@.

\end_layout

\begin_layout Itemize

\family typewriter
findFutureByOwner
\family default
: devuelve entidades 
\emph on
meeting
\emph default
 que se utilizarán en el futuro y por tanto la columna 
\begin_inset Quotes eld
\end_inset

date
\begin_inset Quotes erd
\end_inset

 de la entidad almacenará dicha fecha de utilización en el momento que se
 solicite la sala y pertenecerá al usuario que se entregue como parámetro
 a la función\SpecialChar \@.

\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Para implementar un interfaz que permita al usuario reservar salas en el
 futuro es necesario un controlador de reuniones futuras que implemente
 un calendario y un formulario que recoja los datos para introducir en la
 base de datos\SpecialChar \@.
 La lógica de este controlador deberá comprobar, accediendo
 a la variable 
\emph on
concurrent,
\emph default
 el número de salas simultáneas que coinciden con la nueva sala que se creará
 para devolver al usuario un error en caso de no disponer de la sala deseada\SpecialChar \@.

 Esta variable será actualizada cada vez que se cree o se borre una sala
 en el intervalo de tiempo que ocupe la reunión para conocer en todo momento
 el número de salas concurrentes en ese intervalo de tiempo y mostrar los
 mensajes oportunos al usuario\SpecialChar \@.

\end_layout

\begin_layout Standard
El contralador que debe crearse podría recibir el nombre 
\emph on
wizard
\emph default
 y contener las siguientes funciones con un formato similar a las descritas
 en la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:URLs-de-acceso"

\end_inset

:
\end_layout

\begin_layout Itemize
Las funciones wizard ANY /wizard/, wizard_metadata ANY /wizard/metadata,
 wizard_metadata_submit POST /wizard/metadata_submit, wizard_date ANY /wizard/da
te, wizard_date_submit POST /wizard/date_submit, wizard_users ANY /wizard/users,
 wizard_users_submit POST /wizard/users_submit, wizard_persist ANY /wizard/persi
st, wizard_error ANY /wizard/error, wizard_end ANY /wizard/end
\end_layout

\begin_deeper
\begin_layout Standard
Podrían situarse en 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textit{Controller/WizardController.php}
\end_layout

\end_inset

 y realizarían las operaciones necesarias para controlar las reuniones que
 tendrán lugar en el futuro\SpecialChar \@.
 Operaciones tales como agregar una reunión futura,
 agregar un usuario a una reunión futura, cambiar la fecha a una reunión
 futura, controlar que los datos de la reunión sean coherentes, etc\SpecialChar \@.

\end_layout

\end_deeper
\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{thebibliography}{9}
\backslash
addcontentsline{toc}{chapter}{Bibliografía}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-1}
\end_layout

\end_inset

Zaninotto F., Potencier F.
 Symfony 1.2, la guía definitiva
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-2}
\end_layout

\end_inset

Potencier F.,
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://symfony.com/blog/jobeet-day-1-starting-up-the-project}{Jobeet
 - http://symfony.com/blog/jobeet-day-1-starting-up-the-project}
\end_layout

\end_inset

 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-3}
\end_layout

\end_inset

ICB Editores - 2010, Programación De Páginas Web Dinámicas Con Apache, Base
 De Datos Mysql Y Php
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-4}
\end_layout

\end_inset

 López Quijado J., RA-MA editorial - 2010, Domine Php Y Mysql.
 2ª Edición
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-6}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://www.symfony-project.org}{http://www.symfony-project.org}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-7}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://www.symfony.com/}{http://www.symfony.com/}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-8}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://ebookee.org/La-Biblia-de-MySQL_129482.html}{Dubois P., ANAYA MULTIMEDIA
 - 2003, La Biblia de MySQL}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-9}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://www.yaml.org/}{http://www.yaml.org/}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-10}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://php.net}{http://php.net}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-11}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://www.sun.com/suntrademarks/}{http://www.sun.com/suntrademarks/}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-12}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://jquery.org/}{http://jquery.org/}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-13}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://jqueryui.com/}{http://jqueryui.com/}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-14}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://www.freeswitch.org/}{http://www.freeswitch.org/}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-17}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://twig.sensiolabs.org/doc/intro.html}{http://twig.sensiolabs.org/doc/intro.h
tml}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-18}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://test-sf-doc-es.readthedocs.org/en/latest/quick_tour/the_architecture.ht
ml}{Manual web de Symfony 2}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bibitem{key-19}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{http://www.balsamiq.com/products/mockups}{http://www.balsamiq.com/products/mock
ups}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{thebibliography}
\end_layout

\end_inset


\end_layout

\end_body
\end_document
